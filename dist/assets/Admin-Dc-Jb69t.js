import{r as n,j as e,L as Ge,q as he,t as C,T as ue,x as D,b as Oe,k as S,o as We,y as Qe,z as He,h as ce,I as de,J as xe,K as me,O as r,Q as j,V as Je,P as Ze,W as _e,Y as be,Z as U,U as f,_ as Ke,$ as Xe}from"./vendor-react-C85kPXhq.js";import{S as T}from"./vendor-BigPqmVK.js";import{d,u as et}from"./index-CM_2e7_B.js";import{q as tt,c as pe,b as st,l as ge,e as m,u as N,j as je,o as at,r as lt}from"./vendor-firebase-B7eFefMy.js";function rt(){const[x,k]=n.useState([]),[h,z]=n.useState(!0);n.useEffect(()=>{A()},[]);const A=async()=>{try{z(!0);const l=tt(pe(d,"reports"),st("createdAt","desc")),b=(await ge(l)).docs.map(o=>({id:o.id,...o.data()}));k(b)}catch(l){console.error("Error fetching reports:",l)}finally{z(!1)}},B=async l=>{try{const i=m(d,"reports",l);await N(i,{status:"resolved"}),k(b=>b.map(o=>o.id===l?{...o,status:"resolved"}:o))}catch(i){console.error("Error resolving report:",i)}},u=async l=>{try{const i=m(d,"reports",l);await je(i),k(b=>b.filter(o=>o.id!==l))}catch(i){console.error("Error deleting report:",i)}},P=l=>l?(l.toDate?l.toDate():new Date(l)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return h?e.jsx("div",{className:"min-h-screen bg-[#0a0a0a] text-white flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ge,{className:"animate-spin",size:24}),e.jsx("span",{children:"Loading reports..."})]})}):e.jsx("div",{className:"min-h-screen bg-[#0a0a0a] text-white p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(he,{className:"text-red-500",size:28}),e.jsx("h1",{className:"text-2xl font-bold",children:"User Reports"}),e.jsxs("span",{className:"bg-red-500/20 text-red-400 px-3 py-1 rounded-full text-sm",children:[x.filter(l=>l.status!=="resolved").length," unresolved"]})]}),x.length===0?e.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl p-12 text-center",children:[e.jsx(C,{className:"mx-auto text-green-500 mb-4",size:48}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Reports Yet"}),e.jsx("p",{className:"text-white/55",children:"All materials are working correctly!"})]}):e.jsx("div",{className:"grid gap-4",children:x.map(l=>e.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-xl p-5 hover:border-[#3a3a3a] transition-colors",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:l.materialTitle||"Unknown Material"}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${l.status==="resolved"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:l.status==="resolved"?"Resolved":"Unread"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-white/70",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{size:16,className:"text-yellow-500"}),e.jsx("span",{children:l.reason==="Broken Link"?"Broken Link":l.reason?.startsWith("Other:")?l.reason:l.reason||"Unknown issue"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white/50",children:"â€¢"}),e.jsx("span",{children:P(l.createdAt)})]}),l.reporterEmail&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white/50",children:"â€¢"}),e.jsxs("span",{className:"text-white/50",children:["Reported by: ",l.reporterEmail]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[l.status!=="resolved"&&e.jsxs("button",{onClick:()=>B(l.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(C,{size:16}),"Mark Resolved"]}),e.jsxs("button",{onClick:()=>u(l.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600/20 hover:bg-red-600/40 text-red-400 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(D,{size:16}),"Delete"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"mt-3 bg-zinc-800/40 border border-zinc-700/50 rounded-lg p-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-2 text-sm",children:[e.jsx("span",{className:"text-zinc-400 flex items-center gap-1 shrink-0 mt-0.5",children:"ðŸ“ Location:"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-yellow-400 font-medium px-2 py-0.5 bg-yellow-400/10 rounded-md whitespace-nowrap",children:["Sem ",l.semester||"N/A"]}),e.jsx("span",{className:"text-zinc-400",children:"âž”"}),e.jsx("span",{className:"text-white font-medium leading-snug",children:l.subject||"N/A"})]})]})}),e.jsx("p",{className:"text-xs text-zinc-400 mt-1 italic",children:"* Go to the Materials tab and filter by this semester/subject to edit or delete this file."})]})]},l.id))})]})})}const nt=[{id:"analytics",label:"Analytics",icon:e.jsx(Ke,{size:16})},{id:"subjects",label:"Subjects",icon:e.jsx(be,{size:16})},{id:"materials",label:"Materials",icon:e.jsx(S,{size:16})},{id:"reports",label:"Reports",icon:e.jsx(he,{size:16})},{id:"users",label:"Users",icon:e.jsx(f,{size:16})},{id:"settings",label:"Settings",icon:e.jsx(Xe,{size:16})}];function bt(){const[x,k]=n.useState("analytics"),[h,z]=n.useState("Pending"),[A,B]=n.useState(!1),[u,P]=n.useState(""),[l,i]=n.useState(null),[b,o]=n.useState(null),[J,R]=n.useState(""),[Z,L]=n.useState(""),[fe,q]=n.useState(!1),[_,$]=n.useState(null),[K,Y]=n.useState(null),[V,Ne]=n.useState(""),[G,we]=n.useState("All"),[O,ve]=n.useState("All"),[W,ye]=n.useState("All"),[M,Se]=n.useState("newest"),[w,E]=n.useState({name:"",semesterId:"1",icon:"Book"}),[p,v]=n.useState({title:"",subjectId:"",type:"Notes",link:""}),[Ce,X]=n.useState(0);n.useEffect(()=>{const t=new Date().toLocaleDateString("en-CA"),s=m(d,"analytics",t),a=at(s,c=>{c.exists()?X(c.data().visitors||0):X(0)});return()=>a()},[]),Oe();const{semesters:y,subjects:ee,materials:g,users:Q,stats:it,user:ot,loading:ke,approveMaterial:ze,rejectMaterial:Ae,deleteMaterial:Be,addSubject:Fe,getSemesterById:te,getSubjectById:H,getPendingMaterials:se,getApprovedMaterials:ae,getSubjectsBySemester:Te}=et();if(ke)return e.jsx("div",{className:"min-h-screen bg-[#0a0a0a] text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl mb-2",children:"Loading Admin Dashboard..."}),e.jsx("p",{className:"text-white/55",children:"Please wait while we fetch the data."})]})});const I=(Q||[]).filter((t,s,a)=>s===a.findIndex(c=>c.id===t.id||c.email===t.email)).filter(t=>t.email?.toLowerCase().includes(u.toLowerCase())||t.displayName?.toLowerCase().includes(u.toLowerCase())||t.name?.toLowerCase().includes(u.toLowerCase())),De=(g||[]).filter(t=>t?.status==="Approved"||t?.status==="Pending"),F={totalViews:((g||[]).filter(t=>t?.status==="Approved")||[]).reduce((t,s)=>t+(s?.views||0),0),totalDownloads:((g||[]).filter(t=>t?.status==="Approved")||[]).reduce((t,s)=>t+(s?.downloads||0),0),pendingRequests:((g||[]).filter(t=>t?.status==="Pending")||[]).length,totalMaterials:De.length,approvedMaterials:((g||[]).filter(t=>t?.status==="Approved")||[]).length,totalSubjects:(ee||[]).length,totalSemesters:(y||[]).length},Me=[...new Set(g.filter(t=>t.status==="Approved").map(t=>t.subjectId))],le=ae().filter(t=>!(V&&!t.title?.toLowerCase().includes(V.toLowerCase())||W!=="All"&&t.semId!==W||O!=="All"&&t.type!==O||G!=="All"&&t.subjectId!==G)).sort((t,s)=>{if(M==="newest"){const a=t.createdAt?.seconds||t.createdAt||0;return(s.createdAt?.seconds||s.createdAt||0)-a}else if(M==="oldest"){const a=t.createdAt?.seconds||t.createdAt||0,c=s.createdAt?.seconds||s.createdAt||0;return a-c}else if(M==="az")return(t.title||"").localeCompare(s.title||"");return 0}),Ee=t=>t>=1e3?`${(t/1e3).toFixed(1)}k`:t.toString(),Ie=async t=>{if(t.preventDefault(),w.name.trim()){const s=await Fe(w.name,w.semesterId);s.success?(E({name:"",semesterId:"1",icon:"Book"}),B(!1),r.success("Subject added successfully!")):r.error(`Error adding subject: ${s.error}`)}},Ue=async t=>{if((await T.fire({titleHtml:'<div class="text-sm font-bold">Delete Subject?</div>',text:"This action cannot be undone.",icon:void 0,showCancelButton:!0,confirmButtonText:"Yes, Delete",cancelButtonText:"No",buttonsStyling:!1,background:"#121212",color:"#FFFFFF",width:"280px",padding:"0.8rem",customClass:{popup:"border border-[#4e4d4d] rounded-[15px] grid",title:"text-sm font-bold",content:"text-xs",actions:"flex justify-center gap-2 mt-2",confirmButton:"bg-[#ef4444] hover:bg-[#dc2626] px-4 py-1.5 rounded-xl text-xs font-medium text-white",cancelButton:"bg-[#2a2a2a] hover:bg-[#3a3a3a] px-4 py-1.5 rounded-xl text-xs font-medium text-white"}})).isConfirmed)try{await je(m(d,"subjects",t)),r.success("Subject deleted successfully!")}catch(a){console.error("Error deleting subject:",a),r.error("Error deleting subject: "+a.message)}},re=async t=>{if((await T.fire({title:"Promote to Admin?",text:"This user will gain admin privileges.",icon:void 0,showCancelButton:!0,confirmButtonText:"Yes, Promote",cancelButtonText:"Cancel",buttonsStyling:!1,background:"#121212",color:"#FFFFFF",width:"280px",padding:"0.8rem",customClass:{popup:"border border-[#4e4d4d] rounded-[15px] shadow-2xl",title:"text-sm font-bold pt-2",htmlContainer:"text-[10px] text-gray-400 opacity-80",actions:"flex justify-center gap-3 mt-4 mb-2",confirmButton:"bg-purple-500 hover:bg-purple-600 px-5 py-2 rounded-[10px] text-[11px] font-bold text-white transition-all",cancelButton:"bg-[#2a2a2a] hover:bg-[#3a3a3a] px-5 py-2 rounded-[10px] text-[11px] font-bold text-white transition-all"}})).isConfirmed)try{await N(m(d,"users",t),{role:"admin"}),r.success("User promoted to admin successfully!")}catch(a){console.error("Error promoting user:",a),r.error("Error promoting user: "+a.message)}},ne=async t=>{if((await T.fire({title:"Demote to Student?",text:"This user will lose admin privileges.",icon:void 0,showCancelButton:!0,confirmButtonText:"Yes, Demote",cancelButtonText:"Cancel",buttonsStyling:!1,background:"#121212",color:"#FFFFFF",width:"280px",padding:"0.8rem",customClass:{popup:"border border-[#4e4d4d] rounded-[15px] shadow-2xl",title:"text-sm font-bold pt-2",htmlContainer:"text-[10px] text-gray-400 opacity-80",actions:"flex justify-center gap-3 mt-4 mb-2",confirmButton:"bg-amber-500 hover:bg-amber-600 px-5 py-2 rounded-[10px] text-[11px] font-bold text-white transition-all",cancelButton:"bg-[#2a2a2a] hover:bg-[#3a3a3a] px-5 py-2 rounded-[10px] text-[11px] font-bold text-white transition-all"}})).isConfirmed)try{await N(m(d,"users",t),{role:"student"}),r.success("User demoted to student successfully!")}catch(a){console.error("Error demoting user:",a),r.error("Error demoting user: "+a.message)}},ie=async t=>{const s=t.isBanned||!1,a=s?"Unban":"Ban",c=s?"This user will be unbanned and regain access.":"This user will be banned from the platform.";if((await T.fire({title:`${a} User?`,text:c,icon:void 0,showCancelButton:!0,confirmButtonText:`Yes, ${a}`,cancelButtonText:"Cancel",buttonsStyling:!1,background:"#121212",color:"#FFFFFF",width:"280px",padding:"0.8rem",customClass:{popup:"border border-[#4e4d4d] rounded-[15px] shadow-2xl",title:"text-sm font-bold pt-2",htmlContainer:"text-[10px] text-gray-400 opacity-80",actions:"flex justify-center gap-3 mt-4 mb-2",confirmButton:s?"bg-emerald-500 hover:bg-emerald-600 px-5 py-2 rounded-[10px] text-[11px] font-bold text-white transition-all":"bg-rose-500 hover:bg-rose-600 px-5 py-2 rounded-[10px] text-[11px] font-bold text-white transition-all",cancelButton:"bg-[#2a2a2a] hover:bg-[#3a3a3a] px-5 py-2 rounded-[10px] text-[11px] font-bold text-white transition-all"}})).isConfirmed)try{await N(m(d,"users",t.id),{isBanned:!s}),r.success(`User ${s?"unbanned":"banned"} successfully!`)}catch(oe){console.error(`Error ${a.toLowerCase()}ing user:`,oe),r.error(`Error ${a.toLowerCase()}ing user: `+oe.message)}},Pe=async t=>{if((await T.fire({title:"Unban User?",text:"This user will be unbanned and regain access.",icon:void 0,showCancelButton:!0,confirmButtonText:"Yes, Unban",cancelButtonText:"Cancel",buttonsStyling:!1,background:"#121212",color:"#FFFFFF",width:"280px",padding:"0.8rem",customClass:{popup:"border border-[#4e4d4d] rounded-[15px] shadow-2xl",title:"text-sm font-bold pt-2",htmlContainer:"text-[10px] text-gray-400 opacity-80",actions:"flex justify-center gap-3 mt-4 mb-2",confirmButton:"bg-emerald-500 hover:bg-emerald-600 px-5 py-2 rounded-[10px] text-[11px] font-bold text-white transition-all",cancelButton:"bg-[#2a2a2a] hover:bg-[#3a3a3a] px-5 py-2 rounded-[10px] text-[11px] font-bold text-white transition-all"}})).isConfirmed)try{await N(m(d,"users",t),{isBanned:!1}),r.success("User unbanned successfully!")}catch(a){console.error("Error unbanning user:",a),r.error("Error unbanning user: "+a.message)}},Re=t=>{i(t),v({title:t.title,subjectId:t.subjectId,type:t.type,link:t.link})},Le=async t=>{t.preventDefault();try{await N(m(d,"materials",l.id),{title:p.title,subjectId:p.subjectId,type:p.type,link:p.link}),r.success("Material updated successfully!"),i(null),v({title:"",subjectId:"",type:"Notes",link:""})}catch(s){console.error("Error updating material:",s),r.error("Error updating material: "+s.message)}},qe=t=>{o(t),R(t.name),L(t.icon)},$e=async t=>{t.preventDefault();try{await N(m(d,"subjects",b.id),{name:J,icon:Z}),r.success("Subject Updated!"),o(null),R(""),L("")}catch(s){console.error("Error updating subject:",s),r.error("Error updating subject: "+s.message)}},Ye=async()=>{try{q(!1);const t=r.loading("Resetting all analytics..."),s=await ge(pe(d,"materials")),a=lt(d);s.docs.forEach(c=>{a.update(c.ref,{views:0,downloads:0,downloadedBy:[]})}),await a.commit(),r.dismiss(t),r.success("All analytics have been reset.")}catch(t){console.error("Error resetting analytics:",t),r.error("Error resetting analytics: "+t.message)}},Ve=()=>{q(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-5 pt-8 max-w-4xl mx-auto bg-[#0a0a0a]/50 backdrop-blur-sm rounded-xl",children:[e.jsxs("div",{className:"mb-6 md:mb-8 text-center",children:[e.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"Admin Dashboard"}),e.jsx("p",{className:"text-white/55 text-xs md:text-sm mt-1 md:mt-2",children:"Manage all aspects of FYCS Study Hub"})]}),e.jsx("div",{className:"glass-card p-2 mb-6 md:mb-8 overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-1 md:gap-2 min-w-max",children:nt.map(t=>{const s=x===t.id;return e.jsxs("button",{type:"button",onClick:()=>k(t.id),className:`flex items-center justify-center gap-2 md:gap-2 px-4 py-3 md:px-5 md:py-3 rounded-full text-sm md:text-sm font-bold transition-all whitespace-nowrap min-w-[60px] md:min-w-0 ${s?"bg-[#FFD700] text-black shadow-lg":"bg-white/0 text-white/70 hover:bg-white/5 hover:text-white"}`,children:[t.icon,e.jsx("span",{className:"hidden md:inline",children:t.label})]},t.id)})})}),e.jsxs("div",{className:"space-y-6",children:[x==="analytics"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8",children:[e.jsxs("div",{className:"glass-card p-4 md:p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[e.jsx("div",{className:"text-white/50 text-[10px] md:text-xs uppercase tracking-wider font-bold",children:"Total Materials"}),e.jsx(S,{size:16,className:"text-white/70 md:w-5 md:h-5"})]}),e.jsx("div",{className:"text-xl md:text-2xl font-extrabold",children:F.totalMaterials})]}),e.jsxs("div",{className:"glass-card p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-white/50 text-xs uppercase tracking-wider font-bold",children:"Total Views"}),e.jsx(We,{size:20,className:"text-white/70"})]}),e.jsx("div",{className:"text-2xl font-extrabold",children:Ee(F.totalViews)})]}),e.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800/80 rounded-xl p-4 flex flex-col justify-center hover:border-cyan-500/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-zinc-400 text-xs sm:text-sm font-bold tracking-wider uppercase flex items-center gap-1.5",children:"Today's Visitors"}),e.jsx(Qe,{size:16,className:"text-cyan-400"})]}),e.jsx("h3",{className:"text-3xl font-bold text-white",children:Ce})]}),e.jsxs("div",{className:"glass-card p-5 border border-amber-500/30 bg-amber-500/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-amber-400 text-xs uppercase tracking-wider font-bold",children:"Pending Requests"}),e.jsx(He,{size:20,className:"text-amber-400"})]}),e.jsx("div",{className:"text-2xl font-extrabold text-amber-300",children:F.pendingRequests})]})]}),e.jsxs("div",{className:"glass-card p-4 md:p-6",children:[e.jsx("h3",{className:"font-bold text-base md:text-lg mb-3 md:mb-4 text-white/90",children:"Platform Overview"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4 text-xs md:text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white/50 mb-1",children:"Semesters"}),e.jsx("div",{className:"font-bold",children:F.totalSemesters})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/50 mb-1",children:"Subjects"}),e.jsx("div",{className:"font-bold",children:F.totalSubjects})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/50 mb-1",children:"Registered Users"}),e.jsx("div",{className:"font-bold",children:(Q||[]).length})]})]})]})]}),x==="materials"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"glass-card p-4 mb-6 overflow-visible",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>z("Pending"),className:`px-4 py-2 rounded-full text-sm font-bold transition-colors ${h==="Pending"?"bg-amber-500/20 text-amber-300 border border-amber-500/30":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:["Pending (",se().length,")"]}),e.jsxs("button",{type:"button",onClick:()=>z("Approved"),className:`px-4 py-2 rounded-full text-sm font-bold transition-colors ${h==="Approved"?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:["Approved (",ae().length,")"]})]}),h==="Approved"&&e.jsxs("div",{className:"relative grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",style:{position:"relative",zIndex:9999},children:[e.jsxs("div",{className:"relative col-span-2 md:col-span-4",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ce,{size:16,className:"text-white/50"})}),e.jsx("input",{type:"text",value:V,onChange:t=>Ne(t.target.value),placeholder:"Search by title...",className:"w-full glass-card pl-10 pr-4 py-2 rounded-xl border border-white/10 bg-white/5 text-white placeholder:text-white/30 focus:border-blue-500 focus:outline-none text-sm"})]}),e.jsxs("select",{value:W,onChange:t=>ye(t.target.value),className:"glass-card px-3 py-2 rounded-xl border border-white/10 bg-white/5 text-white focus:border-blue-500 focus:outline-none text-sm",children:[e.jsx("option",{value:"All",className:"bg-[#0a0a0a]",children:"All Sem"}),(y||[]).map(t=>e.jsx("option",{value:t.id,className:"bg-[#0a0a0a]",children:t.name},t.id))]}),e.jsxs("select",{value:O,onChange:t=>ve(t.target.value),className:"glass-card px-3 py-2 rounded-xl border border-white/10 bg-white/5 text-white focus:border-blue-500 focus:outline-none text-sm",children:[e.jsx("option",{value:"All",className:"bg-[#0a0a0a]",children:"All Types"}),e.jsx("option",{value:"Notes",className:"bg-[#0a0a0a]",children:"Notes"}),e.jsx("option",{value:"Practicals",className:"bg-[#0a0a0a]",children:"Practicals"}),e.jsx("option",{value:"IMP",className:"bg-[#0a0a0a]",children:"IMP"}),e.jsx("option",{value:"Assignment",className:"bg-[#0a0a0a]",children:"Assignment"})]}),e.jsxs("select",{value:G,onChange:t=>we(t.target.value),className:"glass-card px-3 py-2 rounded-xl border border-white/10 bg-white/5 text-white focus:border-blue-500 focus:outline-none text-sm",children:[e.jsx("option",{value:"All",className:"bg-[#0a0a0a]",children:"All Subjects"}),Me.map(t=>{const s=H(t);return e.jsx("option",{value:t,className:"bg-[#0a0a0a]",children:s?.name||t},t)})]}),e.jsxs("select",{value:M,onChange:t=>Se(t.target.value),className:"glass-card px-3 py-2 rounded-xl border border-white/10 bg-white/5 text-white focus:border-blue-500 focus:outline-none text-sm",children:[e.jsx("option",{value:"newest",className:"bg-[#0a0a0a]",children:"Sort: Newest First"}),e.jsx("option",{value:"oldest",className:"bg-[#0a0a0a]",children:"Sort: Oldest First"}),e.jsx("option",{value:"az",className:"bg-[#0a0a0a]",children:"Sort: A-Z"})]})]})]}),e.jsxs("div",{className:"relative space-y-4",style:{position:"relative",zIndex:1},children:[h==="Pending"?se().map(t=>{const s=te(t.semId),a=H(t.subjectId);return e.jsx("div",{className:"glass-card p-5",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1",children:t.type==="Notes"?e.jsx(S,{className:"text-blue-400",size:18}):t.type==="Practicals"?e.jsx(de,{className:"text-green-400",size:18}):t.type==="IMP"?e.jsx(xe,{className:"text-yellow-400",size:18}):t.type==="Assignment"?e.jsx(me,{className:"text-purple-400",size:18}):e.jsx(S,{className:"text-amber-400",size:18})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white/90",children:t.title}),e.jsxs("div",{className:"text-sm text-white/50 mt-1",children:[s?.name," â€¢ ",a?.name," â€¢ ",t.type]}),e.jsxs("div",{className:"text-xs text-white/40 mt-2",children:["Uploaded by ",t.uploadedBy?.split(" ")[0]||"Admin"," â€¢ ",t.date?new Date(typeof t.date=="object"&&t.date.toDate?t.date.toDate():t.date).toLocaleDateString():"Just now"]}),e.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-white/50",children:[e.jsxs("span",{children:["ðŸ‘ ",t.views," views"]}),e.jsxs("span",{children:["â¬‡ ",t.downloads," downloads"]})]})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>{ze(t.id).success&&r.success("Material approved successfully!")},className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-emerald-500/15 border border-emerald-500/25 text-emerald-200 font-bold hover:bg-emerald-500/20 transition-colors",children:[e.jsx(C,{size:16}),"Approve"]}),e.jsxs("button",{type:"button",onClick:()=>Y(t.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-rose-500/10 border border-rose-500/20 text-rose-200 font-bold hover:bg-rose-500/15 transition-colors",children:[e.jsx(j,{size:16}),"Reject"]})]})]})},t.id)}):le.map(t=>{const s=te(t.semId),a=H(t.subjectId);return e.jsx("div",{className:"glass-card p-5",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1",children:t.type==="Notes"?e.jsx(S,{className:"text-blue-400",size:18}):t.type==="Practicals"?e.jsx(de,{className:"text-green-400",size:18}):t.type==="IMP"?e.jsx(xe,{className:"text-yellow-400",size:18}):t.type==="Assignment"?e.jsx(me,{className:"text-purple-400",size:18}):e.jsx(S,{className:"text-emerald-400",size:18})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white/90",children:t.title}),e.jsxs("div",{className:"text-sm text-white/50 mt-1",children:[s?.name," â€¢ ",a?.name," â€¢ ",t.type]}),e.jsxs("div",{className:"text-xs text-white/40 mt-2",children:["Uploaded by ",t.uploadedBy?.split(" ")[0]||"Admin"," â€¢ ",t.date?new Date(typeof t.date=="object"&&t.date.toDate?t.date.toDate():t.date).toLocaleDateString():"Just now"]}),e.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-white/50",children:[e.jsxs("span",{children:["ðŸ‘ ",t.views," views"]}),e.jsxs("span",{children:["â¬‡ ",t.downloads," downloads"]})]})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1 sm:gap-2 p-2 sm:px-4 sm:py-2 rounded-xl bg-blue-500/15 border border-blue-500/25 text-blue-200 font-bold hover:bg-blue-500/20 transition-colors min-w-[36px] sm:min-w-[auto]",children:[e.jsx(Je,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"View"})]}),e.jsxs("button",{type:"button",onClick:()=>Re(t),className:"flex items-center justify-center gap-1 sm:gap-2 p-2 sm:px-4 sm:py-2 rounded-xl bg-blue-600/15 border border-blue-500/25 text-blue-200 font-bold hover:bg-blue-600/20 transition-colors min-w-[36px] sm:min-w-[auto]",children:[e.jsx(Ze,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),e.jsxs("button",{type:"button",onClick:()=>$(t.id),className:"flex items-center justify-center gap-1 sm:gap-2 p-2 sm:px-4 sm:py-2 rounded-xl bg-rose-500/10 border border-rose-500/20 text-rose-200 font-bold hover:bg-rose-500/15 transition-colors min-w-[36px] sm:min-w-[auto]",children:[e.jsx(D,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})},t.id)}),h==="Approved"&&le.length===0&&e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx("div",{className:"text-white/50 mb-2",children:"No matching materials found"}),e.jsx("div",{className:"text-sm text-white/40",children:"Try adjusting your search, filter, or sort options"})]}),h==="Pending"&&g.filter(t=>t.status===h).length===0&&e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx("div",{className:"text-white/50 mb-2",children:"No pending materials found"}),e.jsx("div",{className:"text-sm text-white/40",children:"All materials are approved!"})]})]})]}),x==="reports"&&e.jsx(rt,{}),x==="subjects"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{type:"button",onClick:()=>B(!A),className:"w-full glass-card border-2 border-dashed border-white/20 p-8 flex flex-col items-center justify-center gap-3 rounded-2xl hover:bg-white/5 transition-colors",children:[e.jsx(_e,{size:24,className:"text-white/50"}),e.jsx("span",{className:"font-bold text-white/70",children:"Add New Subject"}),e.jsxs("span",{className:"text-sm text-white/40 text-center",children:["Click to ",A?"cancel":"open"," the form"]})]})}),A&&e.jsxs("div",{className:"glass-card p-6 mb-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-white/90",children:"Add Subject"}),e.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/50 text-sm mb-2",children:"Subject Name"}),e.jsx("input",{type:"text",value:w.name,onChange:t=>E(s=>({...s,name:t.target.value})),className:"w-full glass-card p-3 rounded-xl border border-white/10 bg-white/5 text-white placeholder:text-white/30 focus:border-[#FFD700] focus:outline-none",placeholder:"Enter subject name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/50 text-sm mb-2",children:"Semester"}),e.jsx("select",{value:w.semesterId,onChange:t=>E(s=>({...s,semesterId:t.target.value})),className:"w-full glass-card p-3 rounded-xl border border-white/10 bg-white/5 text-white focus:border-[#FFD700] focus:outline-none",children:y.map(t=>e.jsx("option",{value:t.id,className:"bg-[#0a0a0a]",children:t.name},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/50 text-sm mb-2",children:"Icon"}),e.jsxs("select",{value:w.icon,onChange:t=>E(s=>({...s,icon:t.target.value})),className:"w-full glass-card p-3 rounded-xl border border-white/10 bg-white/5 text-white focus:border-[#FFD700] focus:outline-none",children:[e.jsx("option",{value:"Book",className:"bg-[#0a0a0a]",children:"ðŸ“š Book"}),e.jsx("option",{value:"Code",className:"bg-[#0a0a0a]",children:"ðŸ’» Code"}),e.jsx("option",{value:"Sigma",className:"bg-[#0a0a0a]",children:"âˆ‘ Sigma"}),e.jsx("option",{value:"Cpu",className:"bg-[#0a0a0a]",children:"ðŸ–¥ï¸ CPU"}),e.jsx("option",{value:"Wrench",className:"bg-[#0a0a0a]",children:"ðŸ”§ Wrench"}),e.jsx("option",{value:"Brackets",className:"bg-[#0a0a0a]",children:"[ ] Brackets"}),e.jsx("option",{value:"Database",className:"bg-[#0a0a0a]",children:"ðŸ—„ï¸ Database"}),e.jsx("option",{value:"Boxes",className:"bg-[#0a0a0a]",children:"ðŸ“¦ Boxes"}),e.jsx("option",{value:"Monitor",className:"bg-[#0a0a0a]",children:"ðŸ–¥ï¸ Monitor"}),e.jsx("option",{value:"Network",className:"bg-[#0a0a0a]",children:"ðŸŒ Network"}),e.jsx("option",{value:"Coffee",className:"bg-[#0a0a0a]",children:"â˜• Coffee"}),e.jsx("option",{value:"Globe",className:"bg-[#0a0a0a]",children:"ðŸŒ Globe"}),e.jsx("option",{value:"Bot",className:"bg-[#0a0a0a]",children:"ðŸ¤– Bot"}),e.jsx("option",{value:"Image",className:"bg-[#0a0a0a]",children:"ðŸ–¼ï¸ Image"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"submit",className:"flex-1 btn-primary py-3",children:"Add Subject"}),e.jsx("button",{type:"button",onClick:()=>B(!1),className:"flex-1 glass-card py-3 text-center font-bold rounded-xl border border-white/10 text-white/70 hover:bg-white/5 transition-colors",children:"Cancel"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[(y||[]).map(t=>{const s=Te?.(t.id)||[];return s.length===0?null:e.jsxs("div",{className:"glass-card p-4 md:p-5",children:[e.jsx("h3",{className:"font-bold text-base md:text-lg mb-3 md:mb-4 text-white/90 border-b border-white/10 pb-2",children:t.name}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-3",children:(s||[]).map(a=>e.jsxs("div",{className:"glass-card p-3 md:p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:a.name}),e.jsxs("div",{className:"text-xs text-white/50 mt-1",children:["Icon: ",a.icon]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>qe(a),className:"p-1.5 md:p-2 rounded-lg bg-blue-500/10 text-blue-300 hover:bg-blue-500/20 transition-colors",title:"Edit subject",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{type:"button",onClick:()=>Ue(a.id),className:"p-1.5 md:p-2 rounded-lg bg-rose-500/10 text-rose-300 hover:bg-rose-500/20 transition-colors",title:"Delete subject",children:e.jsx(D,{size:16})})]})]},a.id))})]},t.id)}),(!y||y.length===0)&&e.jsxs("div",{className:"glass-card p-8 text-center",children:[e.jsx(be,{size:32,className:"mx-auto mb-3 text-white/30"}),e.jsx("div",{className:"font-semibold text-white mb-1",children:"No semesters found"}),e.jsx("div",{className:"text-sm text-white/40",children:"Add semesters to manage subjects"})]})]})]}),x==="users"&&e.jsxs("div",{className:"glass-card overflow-hidden",children:[e.jsxs("div",{className:"p-5 border-b border-white/10",children:[e.jsx("h3",{className:"font-bold text-lg text-white/90",children:"User Management"}),e.jsx("p",{className:"text-sm text-white/50 mt-1",children:"Manage registered users and their roles"}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ce,{size:16,className:"text-white/50"})}),e.jsx("input",{type:"text",value:u,onChange:t=>P(t.target.value),placeholder:"Search by name or email...",className:"w-full glass-card pl-10 pr-4 py-2 rounded-xl border border-white/10 bg-white/5 text-white placeholder:text-white/30 focus:border-[#FFD700] focus:outline-none"})]})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"sticky top-0 bg-[#0a0a0a]",children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"text-left p-4 text-white/50 text-sm font-bold uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"text-left p-4 text-white/50 text-sm font-bold uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"text-left p-4 text-white/50 text-sm font-bold uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"text-left p-4 text-white/50 text-sm font-bold uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-left p-4 text-white/50 text-sm font-bold uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{children:I.length>0?I.map(t=>e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/2",children:[e.jsx("td",{className:"p-4 font-medium",children:t.displayName||t.name}),e.jsx("td",{className:"p-4 text-white/70",children:t.email}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold ${t.role==="admin"?"bg-purple-500/20 text-purple-300":"bg-blue-500/20 text-blue-300"}`,children:t.role==="admin"?e.jsxs(e.Fragment,{children:[e.jsx(U,{size:12,className:"mr-1"})," Admin"]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{size:12,className:"mr-1"})," Student"]})})}),e.jsx("td",{className:"p-4",children:t.isBanned?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-rose-500/20 text-rose-300 text-xs font-bold rounded-full",children:[e.jsx(j,{size:12,className:"mr-1"})," Banned"]}):e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-emerald-500/20 text-emerald-300 text-xs font-bold rounded-full",children:[e.jsx(C,{size:12,className:"mr-1"})," Active"]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[t.role==="student"?e.jsxs("button",{type:"button",onClick:()=>re(t.id),className:"flex items-center gap-1 px-3 py-1 rounded-lg bg-purple-500/15 text-purple-300 text-sm font-bold hover:bg-purple-500/25 transition-colors",children:[e.jsx(U,{size:14}),"Promote"]}):e.jsxs("button",{type:"button",onClick:()=>ne(t.id),className:"flex items-center gap-1 px-3 py-1 rounded-lg bg-amber-500/15 text-amber-300 text-sm font-bold hover:bg-amber-500/25 transition-colors",children:[e.jsx(f,{size:14}),"Demote"]}),e.jsx("button",{type:"button",onClick:()=>ie(t),className:`flex items-center gap-1 px-3 py-1 rounded-lg text-sm font-bold transition-colors ${t.isBanned?"bg-emerald-500/15 text-emerald-300 hover:bg-emerald-500/25":"bg-rose-500/15 text-rose-300 hover:bg-rose-500/25"}`,children:t.isBanned?e.jsxs(e.Fragment,{children:[e.jsx(C,{size:14}),"Unban"]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{size:14}),"Ban"]})})]})})]},`user-${t.id}`)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",className:"p-8 text-center",children:[e.jsx(f,{size:32,className:"mx-auto mb-3 text-white/30"}),e.jsx("p",{className:"text-white/50 text-sm",children:"No users found"}),u&&e.jsx("p",{className:"text-white/40 text-xs mt-1",children:"Try a different search term"})]})})})]})}),e.jsx("div",{className:"md:hidden space-y-3 p-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:I.length>0?I.map(t=>e.jsxs("div",{className:"glass-card p-4",children:[e.jsx("div",{className:"flex justify-between items-start mb-3",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-sm",children:t.displayName||t.name}),e.jsx("p",{className:"text-white/70 text-xs mt-1 truncate max-w-[200px]",children:t.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-[10px] font-bold ${t.role==="admin"?"bg-purple-500/20 text-purple-300":"bg-blue-500/20 text-blue-300"}`,children:t.role==="admin"?e.jsxs(e.Fragment,{children:[e.jsx(U,{size:10,className:"inline mr-1"})," Admin"]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{size:10,className:"inline mr-1"})," Student"]})}),t.isBanned&&e.jsxs("span",{className:"px-2 py-1 bg-rose-500/20 text-rose-300 text-[10px] font-bold rounded-full flex items-center",children:[e.jsx(j,{size:10,className:"inline mr-1"})," Banned"]})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[t.role==="student"?e.jsxs("button",{type:"button",onClick:()=>re(t.id),className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-lg bg-purple-500/15 text-purple-300 text-xs font-bold hover:bg-purple-500/25 transition-colors",children:[e.jsx(U,{size:12}),"Promote"]}):e.jsxs("button",{type:"button",onClick:()=>ne(t.id),className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-lg bg-amber-500/15 text-amber-300 text-xs font-bold hover:bg-amber-500/25 transition-colors",children:[e.jsx(f,{size:12}),"Demote"]}),t.isBanned?e.jsxs("button",{type:"button",onClick:()=>Pe(t.id),className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-lg bg-emerald-500/15 text-emerald-300 text-xs font-bold hover:bg-emerald-500/25 transition-colors",children:[e.jsx(C,{size:12}),"Unban"]}):e.jsxs("button",{type:"button",onClick:()=>ie(t),className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-lg bg-rose-500/15 text-rose-300 text-xs font-bold hover:bg-rose-500/25 transition-colors",children:[e.jsx(j,{size:12}),"Ban"]})]})]},`user-${t.id}`)):e.jsxs("div",{className:"glass-card p-8 text-center",children:[e.jsx(f,{size:32,className:"mx-auto mb-3 text-white/30"}),e.jsx("p",{className:"text-white/50 text-sm",children:"No users found"}),u&&e.jsx("p",{className:"text-white/40 text-xs mt-1",children:"Try a different search term"})]})})]}),x==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"glass-card p-4 md:p-6",children:[e.jsx("h3",{className:"font-bold text-base md:text-lg mb-3 md:mb-4 text-white/90",children:"System Information"}),e.jsxs("div",{className:"space-y-2 md:space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-1.5 md:py-2 border-b border-white/10",children:[e.jsx("span",{className:"text-white/50 text-sm md:text-base",children:"Platform Version"}),e.jsx("span",{className:"font-mono font-bold text-sm md:text-base",children:"1.0.0"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[e.jsx("span",{className:"text-white/50",children:"Total Materials"}),e.jsx("span",{className:"font-bold",children:(g||[]).length})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-white/50",children:"Registered Users"}),e.jsx("span",{className:"font-bold",children:(Q||[]).length})]})]})]}),e.jsxs("div",{className:"glass-card p-4 md:p-6 border border-rose-500/20 bg-rose-500/5",children:[e.jsx("h3",{className:"font-bold text-base md:text-lg mb-2 text-rose-300",children:"Danger Zone"}),e.jsx("p",{className:"text-white/50 text-xs md:text-sm mb-3 md:mb-4",children:"These actions cannot be undone. Proceed with caution."}),e.jsxs("button",{type:"button",onClick:Ve,className:"btn-danger px-4 py-2 md:px-6 md:py-3 font-bold flex items-center gap-2 mb-3 md:mb-4",children:[e.jsx(D,{size:18}),"Reset All Analytics"]}),e.jsx("p",{className:"text-xs text-white/40 mt-2 mb-4",children:"This will reset all views and downloads to zero"})]})]})]})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"glass-card p-6 w-full max-w-md rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Material"}),e.jsx("button",{type:"button",onClick:()=>i(null),className:"text-white/50 hover:text-white transition-colors","aria-label":"Close edit material modal",children:e.jsx(j,{size:24})})]}),e.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Title"}),e.jsx("input",{type:"text",value:p.title,onChange:t=>v(s=>({...s,title:t.target.value})),className:"w-full glass-card px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white placeholder:text-white/30 focus:border-blue-500 focus:outline-none",placeholder:"Enter material title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Subject"}),e.jsxs("select",{value:p.subjectId,onChange:t=>v(s=>({...s,subjectId:t.target.value})),className:"w-full glass-card px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white focus:border-blue-500 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",className:"bg-[#0a0a0a]",children:"Select subject"}),ee.map(t=>e.jsx("option",{value:t.id,className:"bg-[#0a0a0a]",children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Type"}),e.jsxs("select",{value:p.type,onChange:t=>v(s=>({...s,type:t.target.value})),className:"w-full glass-card px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white focus:border-blue-500 focus:outline-none",required:!0,children:[e.jsx("option",{value:"Notes",className:"bg-[#0a0a0a]",children:"Notes"}),e.jsx("option",{value:"Practicals",className:"bg-[#0a0a0a]",children:"Practicals"}),e.jsx("option",{value:"IMP",className:"bg-[#0a0a0a]",children:"IMP"}),e.jsx("option",{value:"Assignment",className:"bg-[#0a0a0a]",children:"Assignment"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Google Drive Link"}),e.jsx("input",{type:"url",value:p.link,onChange:t=>v(s=>({...s,link:t.target.value})),className:"w-full glass-card px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white placeholder:text-white/30 focus:border-blue-500 focus:outline-none",placeholder:"https://drive.google.com/...",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Update Material"}),e.jsx("button",{type:"button",onClick:()=>i(null),className:"flex-1 glass-card py-3 text-center font-bold rounded-xl border border-white/10 text-white/70 hover:bg-white/5 transition-colors",children:"Cancel"})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"glass-card p-6 w-full max-w-md rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Subject"}),e.jsx("button",{type:"button",onClick:()=>o(null),className:"text-white/50 hover:text-white transition-colors","aria-label":"Close edit subject modal",children:e.jsx(j,{size:24})})]}),e.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Subject Name"}),e.jsx("input",{type:"text",value:J,onChange:t=>R(t.target.value),className:"w-full glass-card px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white placeholder:text-white/30 focus:border-blue-500 focus:outline-none",placeholder:"Enter subject name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Icon Name"}),e.jsxs("select",{value:Z,onChange:t=>L(t.target.value),className:"w-full glass-card px-4 py-3 rounded-xl border border-white/10 bg-white/5 text-white focus:border-blue-500 focus:outline-none",required:!0,children:[e.jsx("option",{value:"Book",className:"bg-[#0a0a0a]",children:"ðŸ“š Book"}),e.jsx("option",{value:"Code",className:"bg-[#0a0a0a]",children:"ðŸ’» Code"}),e.jsx("option",{value:"Sigma",className:"bg-[#0a0a0a]",children:"âˆ‘ Sigma"}),e.jsx("option",{value:"Cpu",className:"bg-[#0a0a0a]",children:"ðŸ–¥ï¸ CPU"}),e.jsx("option",{value:"Wrench",className:"bg-[#0a0a0a]",children:"ðŸ”§ Wrench"}),e.jsx("option",{value:"Brackets",className:"bg-[#0a0a0a]",children:"[ ] Brackets"}),e.jsx("option",{value:"Database",className:"bg-[#0a0a0a]",children:"ðŸ—„ï¸ Database"}),e.jsx("option",{value:"Boxes",className:"bg-[#0a0a0a]",children:"ðŸ“¦ Boxes"}),e.jsx("option",{value:"Monitor",className:"bg-[#0a0a0a]",children:"ðŸ–¥ï¸ Monitor"}),e.jsx("option",{value:"Network",className:"bg-[#0a0a0a]",children:"ðŸŒ Network"}),e.jsx("option",{value:"Coffee",className:"bg-[#0a0a0a]",children:"â˜• Coffee"}),e.jsx("option",{value:"Globe",className:"bg-[#0a0a0a]",children:"ðŸŒ Globe"}),e.jsx("option",{value:"Bot",className:"bg-[#0a0a0a]",children:"ðŸ¤– Bot"}),e.jsx("option",{value:"Image",className:"bg-[#0a0a0a]",children:"ðŸ–¼ï¸ Image"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>o(null),className:"flex-1 glass-card py-3 text-center font-bold rounded-xl border border-white/10 text-white/70 hover:bg-white/5 transition-colors",children:"Cancel"})]})]})]})}),fe&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-zinc-900 border border-red-500/20 w-full max-w-md p-6 rounded-xl shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 border border-red-500/30 flex items-center justify-center",children:e.jsx(ue,{size:32,className:"text-red-400"})})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Reset All Analytics?"}),e.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"This will permanently reset views and downloads to zero. This action cannot be undone."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>q(!1),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"button",onClick:Ye,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg transition-colors",children:"Yes, Reset"})]})]})})}),_&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-zinc-900 border border-red-500/30 w-full max-w-sm p-6 rounded-xl shadow-2xl animate-in fade-in zoom-in-95",children:e.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[e.jsx("div",{className:"p-3 bg-red-500/10 rounded-full text-red-500",children:e.jsx(D,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete Material?"}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Are you sure you want to delete this? This action cannot be undone and the link will break."})]}),e.jsxs("div",{className:"flex gap-3 w-full mt-2",children:[e.jsx("button",{type:"button",onClick:()=>$(null),className:"flex-1 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"button",onClick:async()=>{const t=await Be(_);t?.success?r.success("Material deleted successfully!"):t?.error&&r.error(t.error),$(null)},className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-bold",children:"Yes, Delete"})]})]})})}),K&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-zinc-900 border border-red-500/30 w-full max-w-sm p-6 rounded-xl shadow-2xl animate-in fade-in zoom-in-95",children:e.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[e.jsx("div",{className:"p-3 bg-red-500/10 rounded-full text-red-500",children:e.jsx(j,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Reject Material?"}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Are you sure you want to reject this upload? This cannot be undone."})]}),e.jsxs("div",{className:"flex gap-3 w-full mt-2",children:[e.jsx("button",{type:"button",onClick:()=>Y(null),className:"flex-1 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"button",onClick:async()=>{const t=await Ae(K);t?.success?r.success("Material rejected successfully!"):t?.error&&r.error(t.error),Y(null)},className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-bold",children:"Yes, Reject"})]})]})})})]})}export{bt as default};
