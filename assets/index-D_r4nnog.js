(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var hm={exports:{}},Vl={};var D_;function ew(){if(D_)return Vl;D_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var M_;function tw(){return M_||(M_=1,hm.exports=ew()),hm.exports}var E=tw(),fm={exports:{}},Se={};var O_;function nw(){if(O_)return Se;O_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function C(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,K={};function ie(k,W,oe){this.props=k,this.context=W,this.refs=K,this.updater=oe||Q}ie.prototype.isReactComponent={},ie.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},ie.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ne(){}ne.prototype=ie.prototype;function se(k,W,oe){this.props=k,this.context=W,this.refs=K,this.updater=oe||Q}var ve=se.prototype=new ne;ve.constructor=se,$(ve,ie.prototype),ve.isPureReactComponent=!0;var Ae=Array.isArray;function Te(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(k,W,oe){var ce=oe.ref;return{$$typeof:s,type:k,key:W,ref:ce!==void 0?ce:null,props:oe}}function j(k,W){return N(k.type,W,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function U(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return W[oe]})}var D=/\/+/g;function Je(k,W){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):W.toString(36)}function le(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Te,Te):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function x(k,W,oe,ce,Ee){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Ue=!1;if(k===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(k.$$typeof){case s:case e:Ue=!0;break;case b:return Ue=k._init,x(Ue(k._payload),W,oe,ce,Ee)}}if(Ue)return Ee=Ee(k),Ue=ce===""?"."+Je(k,0):ce,Ae(Ee)?(oe="",Ue!=null&&(oe=Ue.replace(D,"$&/")+"/"),x(Ee,W,oe,"",function(Er){return Er})):Ee!=null&&(O(Ee)&&(Ee=j(Ee,oe+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(D,"$&/")+"/")+Ue)),W.push(Ee)),1;Ue=0;var Mt=ce===""?".":ce+":";if(Ae(k))for(var lt=0;lt<k.length;lt++)ce=k[lt],Ce=Mt+Je(ce,lt),Ue+=x(ce,W,oe,Ce,Ee);else if(lt=C(k),typeof lt=="function")for(k=lt.call(k),lt=0;!(ce=k.next()).done;)ce=ce.value,Ce=Mt+Je(ce,lt++),Ue+=x(ce,W,oe,Ce,Ee);else if(Ce==="object"){if(typeof k.then=="function")return x(le(k),W,oe,ce,Ee);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function G(k,W,oe){if(k==null)return k;var ce=[],Ee=0;return x(k,ce,"","",function(Ce){return W.call(oe,Ce,Ee++)}),ce}function ae(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var Ie=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Qe={map:G,forEach:function(k,W,oe){G(k,function(){W.apply(this,arguments)},oe)},count:function(k){var W=0;return G(k,function(){W++}),W},toArray:function(k){return G(k,function(W){return W})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=T,Se.Children=Qe,Se.Component=ie,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=se,Se.StrictMode=r,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,W,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=$({},k.props),Ee=k.key;if(W!=null)for(Ce in W.key!==void 0&&(Ee=""+W.key),W)!R.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(ce[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=oe;else if(1<Ce){for(var Ue=Array(Ce),Mt=0;Mt<Ce;Mt++)Ue[Mt]=arguments[Mt+2];ce.children=Ue}return N(k.type,Ee,ce)},Se.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Se.createElement=function(k,W,oe){var ce,Ee={},Ce=null;if(W!=null)for(ce in W.key!==void 0&&(Ce=""+W.key),W)R.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=W[ce]);var Ue=arguments.length-2;if(Ue===1)Ee.children=oe;else if(1<Ue){for(var Mt=Array(Ue),lt=0;lt<Ue;lt++)Mt[lt]=arguments[lt+2];Ee.children=Mt}if(k&&k.defaultProps)for(ce in Ue=k.defaultProps,Ue)Ee[ce]===void 0&&(Ee[ce]=Ue[ce]);return N(k,Ce,Ee)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:m,render:k}},Se.isValidElement=O,Se.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:ae}},Se.memo=function(k,W){return{$$typeof:p,type:k,compare:W===void 0?null:W}},Se.startTransition=function(k){var W=I.T,oe={};I.T=oe;try{var ce=k(),Ee=I.S;Ee!==null&&Ee(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Te,Ie)}catch(Ce){Ie(Ce)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),I.T=W}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(k){return I.H.use(k)},Se.useActionState=function(k,W,oe){return I.H.useActionState(k,W,oe)},Se.useCallback=function(k,W){return I.H.useCallback(k,W)},Se.useContext=function(k){return I.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,W){return I.H.useDeferredValue(k,W)},Se.useEffect=function(k,W){return I.H.useEffect(k,W)},Se.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(k,W,oe){return I.H.useImperativeHandle(k,W,oe)},Se.useInsertionEffect=function(k,W){return I.H.useInsertionEffect(k,W)},Se.useLayoutEffect=function(k,W){return I.H.useLayoutEffect(k,W)},Se.useMemo=function(k,W){return I.H.useMemo(k,W)},Se.useOptimistic=function(k,W){return I.H.useOptimistic(k,W)},Se.useReducer=function(k,W,oe){return I.H.useReducer(k,W,oe)},Se.useRef=function(k){return I.H.useRef(k)},Se.useState=function(k){return I.H.useState(k)},Se.useSyncExternalStore=function(k,W,oe){return I.H.useSyncExternalStore(k,W,oe)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.4",Se}var V_;function cp(){return V_||(V_=1,fm.exports=nw()),fm.exports}var L=cp(),dm={exports:{}},jl={},mm={exports:{}},pm={};var j_;function iw(){return j_||(j_=1,(function(s){function e(x,G){var ae=x.length;x.push(G);e:for(;0<ae;){var Ie=ae-1>>>1,Qe=x[Ie];if(0<o(Qe,G))x[Ie]=G,x[ae]=Qe,ae=Ie;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var G=x[0],ae=x.pop();if(ae!==G){x[0]=ae;e:for(var Ie=0,Qe=x.length,k=Qe>>>1;Ie<k;){var W=2*(Ie+1)-1,oe=x[W],ce=W+1,Ee=x[ce];if(0>o(oe,ae))ce<Qe&&0>o(Ee,oe)?(x[Ie]=Ee,x[ce]=ae,Ie=ce):(x[Ie]=oe,x[W]=ae,Ie=W);else if(ce<Qe&&0>o(Ee,ae))x[Ie]=Ee,x[ce]=ae,Ie=ce;else break e}}return G}function o(x,G){var ae=x.sortIndex-G.sortIndex;return ae!==0?ae:x.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],p=[],b=1,T=null,A=3,C=!1,Q=!1,$=!1,K=!1,ie=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ve(x){for(var G=n(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=x)r(p),G.sortIndex=G.expirationTime,e(g,G);else break;G=n(p)}}function Ae(x){if($=!1,ve(x),!Q)if(n(g)!==null)Q=!0,Te||(Te=!0,U());else{var G=n(p);G!==null&&le(Ae,G.startTime-x)}}var Te=!1,I=-1,R=5,N=-1;function j(){return K?!0:!(s.unstable_now()-N<R)}function O(){if(K=!1,Te){var x=s.unstable_now();N=x;var G=!0;try{e:{Q=!1,$&&($=!1,ne(I),I=-1),C=!0;var ae=A;try{t:{for(ve(x),T=n(g);T!==null&&!(T.expirationTime>x&&j());){var Ie=T.callback;if(typeof Ie=="function"){T.callback=null,A=T.priorityLevel;var Qe=Ie(T.expirationTime<=x);if(x=s.unstable_now(),typeof Qe=="function"){T.callback=Qe,ve(x),G=!0;break t}T===n(g)&&r(g),ve(x)}else r(g);T=n(g)}if(T!==null)G=!0;else{var k=n(p);k!==null&&le(Ae,k.startTime-x),G=!1}}break e}finally{T=null,A=ae,C=!1}G=void 0}}finally{G?U():Te=!1}}}var U;if(typeof se=="function")U=function(){se(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Je=D.port2;D.port1.onmessage=O,U=function(){Je.postMessage(null)}}else U=function(){ie(O,0)};function le(x,G){I=ie(function(){x(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(x){x.callback=null},s.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<x?Math.floor(1e3/x):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(x){switch(A){case 1:case 2:case 3:var G=3;break;default:G=A}var ae=A;A=G;try{return x()}finally{A=ae}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(x,G){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var ae=A;A=x;try{return G()}finally{A=ae}},s.unstable_scheduleCallback=function(x,G,ae){var Ie=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ie+ae:Ie):ae=Ie,x){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ae+Qe,x={id:b++,callback:G,priorityLevel:x,startTime:ae,expirationTime:Qe,sortIndex:-1},ae>Ie?(x.sortIndex=ae,e(p,x),n(g)===null&&x===n(p)&&($?(ne(I),I=-1):$=!0,le(Ae,ae-Ie))):(x.sortIndex=Qe,e(g,x),Q||C||(Q=!0,Te||(Te=!0,U()))),x},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(x){var G=A;return function(){var ae=A;A=G;try{return x.apply(this,arguments)}finally{A=ae}}}})(pm)),pm}var k_;function sw(){return k_||(k_=1,mm.exports=iw()),mm.exports}var gm={exports:{}},Jt={};var L_;function rw(){if(L_)return Jt;L_=1;var s=cp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,b)},Jt.flushSync=function(g){var p=h.T,b=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=p,r.p=b,r.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,T=m(b,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:C}):b==="script"&&r.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,T=m(b,p.crossOrigin);r.d.L(g,b,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Jt.requestFormReset=function(g){r.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,b){return h.H.useFormState(g,p,b)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.4",Jt}var P_;function aw(){if(P_)return gm.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gm.exports=rw(),gm.exports}var U_;function ow(){if(U_)return jl;U_=1;var s=sw(),e=cp(),n=aw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,l=d;break}if(S===l){v=!0,l=f,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=f;break}if(S===l){v=!0,l=d,a=f;break}S=S.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ie:return"Profiler";case K:return"StrictMode";case Ae:return"Suspense";case Te:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case se:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Je(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Je(t(i))}catch{}}return null}var le=Array.isArray,x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Ie=[],Qe=-1;function k(t){return{current:t}}function W(t){0>Qe||(t.current=Ie[Qe],Ie[Qe]=null,Qe--)}function oe(t,i){Qe++,Ie[Qe]=t.current,t.current=i}var ce=k(null),Ee=k(null),Ce=k(null),Ue=k(null);function Mt(t,i){switch(oe(Ce,i),oe(Ee,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?e_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=e_(i),t=t_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ce),oe(ce,t)}function lt(){W(ce),W(Ee),W(Ce)}function Er(t){t.memoizedState!==null&&oe(Ue,t);var i=ce.current,a=t_(i,t.type);i!==a&&(oe(Ee,t),oe(ce,a))}function fa(t){Ee.current===t&&(W(ce),W(Ee)),Ue.current===t&&(W(Ue),Il._currentValue=ae)}var da,ma;function oi(t){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+ma}var Io=!1;function br(t,i){if(!t||Io)return"";Io=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var q=Y}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Y){q=Y}t.call(Z.prototype)}}else{try{throw Error()}catch(Y){q=Y}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var M=v.split(`
`),H=S.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===H.length)for(l=M.length-1,f=H.length-1;1<=l&&0<=f&&M[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==H[f]){var X=`
`+M[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Io=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function Do(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return br(t.type,!1);case 11:return br(t.type.render,!1);case 1:return br(t.type,!0);case 31:return oi("Activity");default:return""}}function Mo(t){try{var i="",a=null;do i+=Do(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,vs=s.unstable_cancelCallback,df=s.unstable_shouldYield,Eu=s.unstable_requestPaint,nn=s.unstable_now,Tr=s.unstable_getCurrentPriorityLevel,Oo=s.unstable_ImmediatePriority,Vo=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,mf=s.unstable_LowPriority,bu=s.unstable_IdlePriority,Tu=s.log,Su=s.unstable_setDisableYieldValue,Fn=null,Bt=null;function xn(t){if(typeof Tu=="function"&&Su(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Fn,t)}catch{}}var pt=Math.clz32?Math.clz32:Au,wu=Math.log,pa=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(wu(t)/pa|0)|0}var li=256,Sr=262144,Tt=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=ui(l):(v&=S,v!==0?f=ui(v):a||(a=S&~t,a!==0&&(f=ui(a))))):(S=l&~d,S!==0?f=ui(S):v!==0?f=ui(v):a||(a=l&~t,a!==0&&(f=ui(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function wr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,M=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-pt(a),Z=1<<X;S[X]=0,M[X]=-1;var q=H[X];if(q!==null)for(H[X]=null,X=0;X<q.length;X++){var Y=q[X];Y!==null&&(Y.lane&=-536870913)}a&=~Z}l!==0&&Ar(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Ar(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function ko(t,i){var a=i&-i;return a=(a&42)!==0?1:xr(a),(a&(t.suspendedLanes|i))!==0?0:a}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ru(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:w_(t.type))}function Yn(t,i){var a=G.p;try{return G.p=t,i()}finally{G.p=a}}var Qn=Math.random().toString(36).slice(2),St="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,fi="__reactContainer$"+Qn,ga="__reactEvents$"+Qn,yf="__reactListeners$"+Qn,Cu="__reactHandles$"+Qn,Nu="__reactResources$"+Qn,di="__reactMarker$"+Qn;function ya(t){delete t[St],delete t[Lt],delete t[ga],delete t[yf],delete t[Cu]}function mi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=l_(t);t!==null;){if(a=t[St])return a;t=l_(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[St]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function pi(t){var i=t[Nu];return i||(i=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[di]=!0}var Lo=new Set,Po={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Po[t]=i,t=0;t<i.length;t++)Lo.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Iu(t){return bt.call(Bo,t)?!0:bt.call(zo,t)?!1:Uo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function va(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Es(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Es(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function Rr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Es(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function an(t){return t.replace(Cr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,l,f,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?qo(t,v,Pt(i)):a!=null?qo(t,v,Pt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function Du(t,i,a,l,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ke(t)}function qo(t,i,a){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bs(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Mu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function Ts(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(le(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ou.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Fo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(t,d,i[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Ss.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Yo=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ws=null,_i=null;function Nr(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(r(90));_a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Rr(l)}break e;case"textarea":Mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&bs(t,!!a.multiple,i,!1)}}}var Ta=!1;function As(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var l=t(i);return l}finally{if(Ta=!1,(ws!==null||_i!==null)&&(Rc(),ws&&(i=ws,t=_i,_i=ws=null,Nr(i),t)))for(i=0;i<t.length;i++)Nr(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Nn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Ir=!1}var Ei=null,Qo=null,Dr=null;function Ko(){if(Dr)return Dr;var t,i=Qo,a=i.length,l,f="value"in Ei?Ei.value:Ei.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return Dr=f.slice(t,1<l?1-l:void 0)}function Mr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Xn(){return!1}function Ht(t){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Xn,this.isPropagationStopped=Xn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ht(Bi),xs=T({},Bi,{view:0,detail:0}),$o=Ht(xs),Rs,Sa,Ti,wa=T({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Rs=t.screenX-Ti.screenX,Sa=t.screenY-Ti.screenY):Sa=Rs=0,Ti=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Xo=Ht(wa),Or=T({},wa,{dataTransfer:0}),ju=Ht(Or),ku=T({},xs,{relatedTarget:0}),Vr=Ht(ku),Jo=T({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=Ht(Jo),Aa=T({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pu=Ht(Aa),Uu=T({},Bi,{data:0}),Si=Ht(Uu),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function Cs(){return qu}var sn=T({},xs,{key:function(t){if(t.key){var i=zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fu=Ht(sn),Gu=T({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ht(Gu),c=T({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),y=Ht(c),_=T({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(_),z=T({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ht(z),re=T({},Bi,{newState:0,oldState:0}),xe=Ht(re),gt=[9,13,27,32],Fe=Nn&&"CompositionEvent"in window,ut=null;Nn&&"documentMode"in document&&(ut=document.documentMode);var In=Nn&&"TextEvent"in window&&!ut,wi=Nn&&(!Fe||ut&&8<ut&&11>=ut),Jn=" ",Zn=!1;function jr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function wT(t,i){switch(t){case"compositionend":return xa(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Zn?null:t;default:return null}}function AT(t,i){if(Ra)return t==="compositionend"||!Fe&&jr(t,i)?(t=Ko(),Dr=Qo=Ei=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var xT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xT[t.type]:i==="textarea"}function fg(t,i,a,l){ws?_i?_i.push(l):_i=[l]:ws=l,i=Vc(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Zo=null,Wo=null;function RT(t){Kv(t,0)}function Yu(t){var i=pn(t);if(Rr(i))return t}function dg(t,i){if(t==="change")return i}var mg=!1;if(Nn){var vf;if(Nn){var _f="oninput"in document;if(!_f){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),_f=typeof pg.oninput=="function"}vf=_f}else vf=!1;mg=vf&&(!document.documentMode||9<document.documentMode)}function gg(){Zo&&(Zo.detachEvent("onpropertychange",yg),Wo=Zo=null)}function yg(t){if(t.propertyName==="value"&&Yu(Wo)){var i=[];fg(i,Wo,t,Cn(t)),As(RT,i)}}function CT(t,i,a){t==="focusin"?(gg(),Zo=i,Wo=a,Zo.attachEvent("onpropertychange",yg)):t==="focusout"&&gg()}function NT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(Wo)}function IT(t,i){if(t==="click")return Yu(i)}function DT(t,i){if(t==="input"||t==="change")return Yu(i)}function MT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:MT;function el(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(i,f)||!yn(t[f],i[f]))return!1}return!0}function vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,i){var a=vg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vg(a)}}function Eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vi(t.document)}return i}function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var OT=Nn&&"documentMode"in document&&11>=document.documentMode,Ca=null,bf=null,tl=null,Tf=!1;function Tg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||Ca==null||Ca!==vi(l)||(l=Ca,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Vc(bf,"onSelect"),0<l.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function kr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Na={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Sf={},Sg={};Nn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Lr(t){if(Sf[t])return Sf[t];if(!Na[t])return t;var i=Na[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sg)return Sf[t]=i[a];return t}var wg=Lr("animationend"),Ag=Lr("animationiteration"),xg=Lr("animationstart"),VT=Lr("transitionrun"),jT=Lr("transitionstart"),kT=Lr("transitioncancel"),Rg=Lr("transitionend"),Cg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Wn(t,i){Cg.set(t,i),gi(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Ia=0,Af=0;function Ku(){for(var t=Ia,i=Af=Ia=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var f=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Ng(a,f,d)}}function $u(t,i,a,l){Dn[Ia++]=t,Dn[Ia++]=i,Dn[Ia++]=a,Dn[Ia++]=l,Af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,i,a,l){return $u(t,i,a,l),Xu(t)}function Pr(t,i){return $u(t,null,null,i),Xu(t)}function Ng(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-pt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Xu(t){if(50<Sl)throw Sl=0,jd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function LT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new LT(t,i,a,l)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ig(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ju(t,i,a,l,f,d){var v=0;if(l=t,typeof t=="function")Rf(t)&&(v=1);else if(typeof t=="string")v=HS(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=vn(31,a,i,f),t.elementType=N,t.lanes=d,t;case $:return Ur(a.children,f,d,i);case K:v=8,f|=24;break;case ie:return t=vn(12,a,i,f|2),t.elementType=ie,t.lanes=d,t;case Ae:return t=vn(13,a,i,f),t.elementType=Ae,t.lanes=d,t;case Te:return t=vn(19,a,i,f),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:v=10;break e;case ne:v=9;break e;case ve:v=11;break e;case I:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=vn(v,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Ur(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Cf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Dg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Nf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Mg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Mg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Mo(i)},Mg.set(t,i),i)}return{value:t,source:i,stack:Mo(i)}}var Ma=[],Oa=0,Zu=null,nl=0,On=[],Vn=0,Ns=null,Ai=1,xi="";function Fi(t,i){Ma[Oa++]=nl,Ma[Oa++]=Zu,Zu=t,nl=i}function Og(t,i,a){On[Vn++]=Ai,On[Vn++]=xi,On[Vn++]=Ns,Ns=t;var l=Ai;t=xi;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ai=1<<32-pt(i)+f|a<<f|l,xi=d+t}else Ai=1<<d|a<<f|l,xi=t}function If(t){t.return!==null&&(Fi(t,1),Og(t,1,0))}function Df(t){for(;t===Zu;)Zu=Ma[--Oa],Ma[Oa]=null,nl=Ma[--Oa],Ma[Oa]=null;for(;t===Ns;)Ns=On[--Vn],On[Vn]=null,xi=On[--Vn],On[Vn]=null,Ai=On[--Vn],On[Vn]=null}function Vg(t,i){On[Vn++]=Ai,On[Vn++]=xi,On[Vn++]=Ns,Ai=i.id,xi=i.overflow,Ns=t}var qt=null,st=null,Pe=!1,Is=null,jn=!1,Mf=Error(r(519));function Ds(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Mn(i,t)),Mf}function jg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Lt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Me(Al[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Ts(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Zv(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Ds(t,!0)}function kg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:qt=qt.return}}function Va(t){if(t!==qt)return!1;if(!Pe)return kg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&st&&Ds(t),kg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=o_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=o_(t)}else i===27?(i=st,Gs(t.type)?(t=tm,tm=null,st=t):st=i):st=qt?Ln(t.stateNode.nextSibling):null;return!0}function zr(){st=qt=null,Pe=!1}function Of(){var t=Is;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Is=null),t}function il(t){Is===null?Is=[t]:Is.push(t)}var Vf=k(null),Br=null,Gi=null;function Ms(t,i,a){oe(Vf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Vf.current,W(Vf)}function jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function kf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var M=0;M<i.length;M++)if(S.context===i[M]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),jf(d.return,a,t),l||(v=null);break e}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),jf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ja(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var S=f.type;yn(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===Ue.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}f=f.return}t!==null&&kf(i,t,a,l),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){Br=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Lg(Br,t)}function ec(t,i){return Br===null&&Hr(t),Lg(t,i)}function Lg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(r(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var PT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},UT=s.unstable_scheduleCallback,zT=s.unstable_NormalPriority,xt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new PT,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&UT(zT,function(){t.controller.abort()})}var rl=null,Pf=0,ka=0,La=null;function BT(t,i){if(rl===null){var a=rl=[];Pf=0,ka=Bd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,i.then(Pg,Pg),i}function Pg(){if(--Pf===0&&rl!==null){La!==null&&(La.status="fulfilled");var t=rl;rl=null,ka=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function HT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ug=x.S;x.S=function(t,i){Tv=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&BT(t,i),Ug!==null&&Ug(t,i)};var qr=k(null);function Uf(){var t=qr.current;return t!==null?t:nt.pooledCache}function tc(t,i){i===null?oe(qr,qr.current):oe(qr,i.pool)}function zg(){var t=Uf();return t===null?null:{parent:xt._currentValue,pool:t}}var Pa=Error(r(460)),zf=Error(r(474)),nc=Error(r(542)),ic={then:function(){}};function Bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t}throw Gr=i,Pa}}function Fr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gr=a,Pa):a}}var Gr=null;function qg(){if(Gr===null)throw Error(r(459));var t=Gr;return Gr=null,t}function Fg(t){if(t===Pa||t===nc)throw Error(r(483))}var Ua=null,al=0;function sc(t){var i=al;return al+=1,Ua===null&&(Ua=[]),Hg(Ua,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Gg(t){function i(P,V){if(t){var B=P.deletions;B===null?(P.deletions=[V],P.flags|=16):B.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function f(P,V){return P=qi(P,V),P.index=0,P.sibling=null,P}function d(P,V,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<V?(P.flags|=67108866,V):B):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,V,B,J){return V===null||V.tag!==6?(V=Cf(B,P.mode,J),V.return=P,V):(V=f(V,B),V.return=P,V)}function M(P,V,B,J){var me=B.type;return me===$?X(P,V,B.props.children,J,B.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Fr(me)===V.type)?(V=f(V,B.props),ol(V,B),V.return=P,V):(V=Ju(B.type,B.key,B.props,null,P.mode,J),ol(V,B),V.return=P,V)}function H(P,V,B,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Nf(B,P.mode,J),V.return=P,V):(V=f(V,B.children||[]),V.return=P,V)}function X(P,V,B,J,me){return V===null||V.tag!==7?(V=Ur(B,P.mode,J,me),V.return=P,V):(V=f(V,B),V.return=P,V)}function Z(P,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Cf(""+V,P.mode,B),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return B=Ju(V.type,V.key,V.props,null,P.mode,B),ol(B,V),B.return=P,B;case Q:return V=Nf(V,P.mode,B),V.return=P,V;case R:return V=Fr(V),Z(P,V,B)}if(le(V)||U(V))return V=Ur(V,P.mode,B,null),V.return=P,V;if(typeof V.then=="function")return Z(P,sc(V),B);if(V.$$typeof===se)return Z(P,ec(P,V),B);rc(P,V)}return null}function q(P,V,B,J){var me=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:S(P,V,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return B.key===me?M(P,V,B,J):null;case Q:return B.key===me?H(P,V,B,J):null;case R:return B=Fr(B),q(P,V,B,J)}if(le(B)||U(B))return me!==null?null:X(P,V,B,J,null);if(typeof B.then=="function")return q(P,V,sc(B),J);if(B.$$typeof===se)return q(P,V,ec(P,B),J);rc(P,B)}return null}function Y(P,V,B,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(B)||null,S(V,P,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return P=P.get(J.key===null?B:J.key)||null,M(V,P,J,me);case Q:return P=P.get(J.key===null?B:J.key)||null,H(V,P,J,me);case R:return J=Fr(J),Y(P,V,B,J,me)}if(le(J)||U(J))return P=P.get(B)||null,X(V,P,J,me,null);if(typeof J.then=="function")return Y(P,V,B,sc(J),me);if(J.$$typeof===se)return Y(P,V,B,ec(V,J),me);rc(V,J)}return null}function he(P,V,B,J){for(var me=null,He=null,fe=V,Ne=V=0,Ve=null;fe!==null&&Ne<B.length;Ne++){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var qe=q(P,fe,B[Ne],J);if(qe===null){fe===null&&(fe=Ve);break}t&&fe&&qe.alternate===null&&i(P,fe),V=d(qe,V,Ne),He===null?me=qe:He.sibling=qe,He=qe,fe=Ve}if(Ne===B.length)return a(P,fe),Pe&&Fi(P,Ne),me;if(fe===null){for(;Ne<B.length;Ne++)fe=Z(P,B[Ne],J),fe!==null&&(V=d(fe,V,Ne),He===null?me=fe:He.sibling=fe,He=fe);return Pe&&Fi(P,Ne),me}for(fe=l(fe);Ne<B.length;Ne++)Ve=Y(fe,P,Ne,B[Ne],J),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?Ne:Ve.key),V=d(Ve,V,Ne),He===null?me=Ve:He.sibling=Ve,He=Ve);return t&&fe.forEach(function(Xs){return i(P,Xs)}),Pe&&Fi(P,Ne),me}function ge(P,V,B,J){if(B==null)throw Error(r(151));for(var me=null,He=null,fe=V,Ne=V=0,Ve=null,qe=B.next();fe!==null&&!qe.done;Ne++,qe=B.next()){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var Xs=q(P,fe,qe.value,J);if(Xs===null){fe===null&&(fe=Ve);break}t&&fe&&Xs.alternate===null&&i(P,fe),V=d(Xs,V,Ne),He===null?me=Xs:He.sibling=Xs,He=Xs,fe=Ve}if(qe.done)return a(P,fe),Pe&&Fi(P,Ne),me;if(fe===null){for(;!qe.done;Ne++,qe=B.next())qe=Z(P,qe.value,J),qe!==null&&(V=d(qe,V,Ne),He===null?me=qe:He.sibling=qe,He=qe);return Pe&&Fi(P,Ne),me}for(fe=l(fe);!qe.done;Ne++,qe=B.next())qe=Y(fe,P,Ne,qe.value,J),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Ne:qe.key),V=d(qe,V,Ne),He===null?me=qe:He.sibling=qe,He=qe);return t&&fe.forEach(function(WS){return i(P,WS)}),Pe&&Fi(P,Ne),me}function tt(P,V,B,J){if(typeof B=="object"&&B!==null&&B.type===$&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case C:e:{for(var me=B.key;V!==null;){if(V.key===me){if(me=B.type,me===$){if(V.tag===7){a(P,V.sibling),J=f(V,B.props.children),J.return=P,P=J;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Fr(me)===V.type){a(P,V.sibling),J=f(V,B.props),ol(J,B),J.return=P,P=J;break e}a(P,V);break}else i(P,V);V=V.sibling}B.type===$?(J=Ur(B.props.children,P.mode,J,B.key),J.return=P,P=J):(J=Ju(B.type,B.key,B.props,null,P.mode,J),ol(J,B),J.return=P,P=J)}return v(P);case Q:e:{for(me=B.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(P,V.sibling),J=f(V,B.children||[]),J.return=P,P=J;break e}else{a(P,V);break}else i(P,V);V=V.sibling}J=Nf(B,P.mode,J),J.return=P,P=J}return v(P);case R:return B=Fr(B),tt(P,V,B,J)}if(le(B))return he(P,V,B,J);if(U(B)){if(me=U(B),typeof me!="function")throw Error(r(150));return B=me.call(B),ge(P,V,B,J)}if(typeof B.then=="function")return tt(P,V,sc(B),J);if(B.$$typeof===se)return tt(P,V,ec(P,B),J);rc(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(P,V.sibling),J=f(V,B),J.return=P,P=J):(a(P,V),J=Cf(B,P.mode,J),J.return=P,P=J),v(P)):a(P,V)}return function(P,V,B,J){try{al=0;var me=tt(P,V,B,J);return Ua=null,me}catch(fe){if(fe===Pa||fe===nc)throw fe;var He=vn(29,fe,null,P.mode);return He.lanes=J,He.return=P,He}}}var Yr=Gg(!0),Yg=Gg(!1),Os=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Xu(t),Ng(t,null,a),i}return $u(t,l,i,a),Xu(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}function qf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function ul(){if(Ff){var t=La;if(t!==null)throw t}}function cl(t,i,a,l){Ff=!1;var f=t.updateQueue;Os=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,H=M.next;M.next=null,v===null?d=H:v.next=H,v=M;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=M))}if(d!==null){var Z=f.baseState;v=0,X=H=M=null,S=d;do{var q=S.lane&-536870913,Y=q!==S.lane;if(Y?(Oe&q)===q:(l&q)===q){q!==0&&q===ka&&(Ff=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,ge=S;q=i;var tt=a;switch(ge.tag){case 1:if(he=ge.payload,typeof he=="function"){Z=he.call(tt,Z,q);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,q=typeof he=="function"?he.call(tt,Z,q):he,q==null)break e;Z=T({},Z,q);break e;case 2:Os=!0}}q=S.callback,q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=Y,M=Z):X=X.next=Y,v|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(M=Z),f.baseState=M,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),zs|=v,t.lanes=v,t.memoizedState=Z}}function Qg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Kg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Qg(a[t],i)}var za=k(null),ac=k(0);function $g(t,i){t=ts,oe(ac,t),oe(za,i),ts=t|i.baseLanes}function Gf(){oe(ac,ts),oe(za,za.current)}function Yf(){ts=ac.current,W(za),W(ac)}var _n=k(null),kn=null;function ks(t){var i=t.alternate;oe(yt,yt.current&1),oe(_n,t),kn===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(kn=t)}function Qf(t){oe(yt,yt.current),oe(_n,t),kn===null&&(kn=t)}function Xg(t){t.tag===22?(oe(yt,yt.current),oe(_n,t),kn===null&&(kn=t)):Ls()}function Ls(){oe(yt,yt.current),oe(_n,_n.current)}function En(t){W(_n),kn===t&&(kn=null),W(yt)}var yt=k(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Re=null,We=null,Rt=null,lc=!1,Ba=!1,Qr=!1,uc=0,hl=0,Ha=null,qT=0;function dt(){throw Error(r(321))}function Kf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,f,d){return Qi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,x.H=t===null||t.memoizedState===null?Oy:cd,Qr=!1,d=a(l,f),Qr=!1,Ba&&(d=Zg(i,a,l,f)),Jg(t),d}function Jg(t){x.H=ml;var i=We!==null&&We.next!==null;if(Qi=0,Rt=We=Re=null,lc=!1,hl=0,Ha=null,i)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&Wu(t)&&(Ct=!0))}function Zg(t,i,a,l){Re=t;var f=0;do{if(Ba&&(Ha=null),hl=0,Ba=!1,25<=f)throw Error(r(301));if(f+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}x.H=Vy,d=i(a,l)}while(Ba);return d}function FT(){var t=x.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),i}function Xf(){var t=uc!==0;return uc=0,t}function Jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zf(t){if(lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lc=!1}Qi=0,Rt=We=Re=null,Ba=!1,hl=uc=0,Ha=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function vt(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Rt===null?Re.memoizedState:Rt.next;if(i!==null)Rt=i,We=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,Ha===null&&(Ha=[]),t=Hg(Ha,t,i),i=Re,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,x.H=i===null||i.memoizedState===null?Oy:cd),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===se)return Ft(t)}throw Error(r(438,String(t)))}function Wf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=j;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function fc(t){var i=vt();return ed(i,We,t)}function ed(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=v=null,M=null,H=i,X=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Oe&Z)===Z:(Qi&Z)===Z){var q=H.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===ka&&(X=!0);else if((Qi&q)===q){H=H.next,q===ka&&(X=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=Z,v=d):M=M.next=Z,Re.lanes|=q,zs|=q;Z=H.action,Qr&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else q={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=q,v=d):M=M.next=q,Re.lanes|=Z,zs|=Z;H=H.next}while(H!==null&&H!==i);if(M===null?v=d:M.next=S,!yn(d,t.memoizedState)&&(Ct=!0,X&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var i=vt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);yn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Wg(t,i,a){var l=Re,f=vt(),d=Pe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!yn((We||f).memoizedState,a);if(v&&(f.memoizedState=a,Ct=!0),f=f.queue,sd(ny.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},ty.bind(null,l,f,a,i),null),nt===null)throw Error(r(349));d||(Qi&127)!==0||ey(l,i,a)}return a}function ey(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=cc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ty(t,i,a,l){i.value=a,i.getSnapshot=l,iy(i)&&sy(t)}function ny(t,i,a){return a(function(){iy(i)&&sy(t)})}function iy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function sy(t){var i=Pr(t,2);i!==null&&fn(i,t,2)}function nd(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Qr){xn(!0);try{a()}finally{xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function ry(t,i,a,l){return t.baseState=a,ed(t,We,typeof l=="function"?l:Ki)}function GT(t,i,a,l,f){if(pc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};x.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ay(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ay(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=x.T,v={};x.T=v;try{var S=a(f,l),M=x.S;M!==null&&M(v,S),oy(t,i,S)}catch(H){id(t,i,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),x.T=d}}else try{d=a(f,l),oy(t,i,d)}catch(H){id(t,i,H)}}function oy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ly(t,i,l)},function(l){return id(t,i,l)}):ly(t,i,a)}function ly(t,i,a){i.status="fulfilled",i.value=a,uy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ay(t,a)))}function id(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,uy(i),i=i.next;while(i!==l)}t.action=null}function uy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function cy(t,i){return i}function hy(t,i){if(Pe){var a=nt.formState;if(a!==null){e:{var l=Re;if(Pe){if(st){t:{for(var f=st,d=jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ln(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Ln(f.nextSibling),l=f.data==="F!";break e}}Ds(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:i},a.queue=l,a=Iy.bind(null,Re,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,Re,!1,l.queue),l=rn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=GT.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function fy(t){var i=vt();return dy(i,We,t)}function dy(t,i,a){if(i=ed(t,i,cy)[0],t=fc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(v){throw v===Pa?nc:v}else l=i;i=vt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,qa(9,{destroy:void 0},YT.bind(null,f,a),null)),[l,d,t]}function YT(t,i){t.action=i}function my(t){var i=vt(),a=We;if(a!==null)return dy(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=cc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function py(){return vt().memoizedState}function dc(t,i,a,l){var f=rn();Re.flags|=t,f.memoizedState=qa(1|i,{destroy:void 0},a,l===void 0?null:l)}function mc(t,i,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&Kf(l,We.memoizedState.deps)?f.memoizedState=qa(i,d,a,l):(Re.flags|=t,f.memoizedState=qa(1|i,d,a,l))}function gy(t,i){dc(8390656,8,t,i)}function sd(t,i){mc(2048,8,t,i)}function QT(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=cc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function yy(t){var i=vt().memoizedState;return QT({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function vy(t,i){return mc(4,2,t,i)}function _y(t,i){return mc(4,4,t,i)}function Ey(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function by(t,i,a){a=a!=null?a.concat([t]):null,mc(4,4,Ey.bind(null,i,t),a)}function rd(){}function Ty(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Sy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kf(i,l[1]))return l[0];if(l=t(),Qr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l}function ad(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=wv(),Re.lanes|=t,zs|=t,a)}function wy(t,i,a,l){return yn(a,i)?a:za.current!==null?(t=ad(t,a,l),yn(t,i)||(Ct=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Oe&261930)===0?(Ct=!0,t.memoizedState=a):(t=wv(),Re.lanes|=t,zs|=t,i)}function Ay(t,i,a,l,f){var d=G.p;G.p=d!==0&&8>d?d:8;var v=x.T,S={};x.T=S,ud(t,!1,i,a);try{var M=f(),H=x.S;if(H!==null&&H(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=HT(M,l);dl(t,i,X,Sn(t))}else dl(t,i,l,Sn(t))}catch(Z){dl(t,i,{then:function(){},status:"rejected",reason:Z},Sn())}finally{G.p=d,v!==null&&S.types!==null&&(v.types=S.types),x.T=v}}function KT(){}function od(t,i,a,l){if(t.tag!==5)throw Error(r(476));var f=xy(t).queue;Ay(t,f,i,ae,a===null?KT:function(){return Ry(t),a(l)})}function xy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ae},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ry(t){var i=xy(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},Sn())}function ld(){return Ft(Il)}function Cy(){return vt().memoizedState}function Ny(){return vt().memoizedState}function $T(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Vs(a);var l=js(i,t,a);l!==null&&(fn(l,i,a),ll(l,i,a)),i={cache:Lf()},t.payload=i;return}i=i.return}}function XT(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?Dy(i,a):(a=xf(t,i,a,l),a!==null&&(fn(a,t,l),My(a,i,l)))}function Iy(t,i,a){var l=Sn();dl(t,i,a,l)}function dl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))Dy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(f.hasEagerState=!0,f.eagerState=S,yn(S,v))return $u(t,i,f,0),nt===null&&Ku(),!1}catch{}if(a=xf(t,i,f,l),a!==null)return fn(a,t,l),My(a,i,l),!0}return!1}function ud(t,i,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(i)throw Error(r(479))}else i=xf(t,a,l,2),i!==null&&fn(i,t,2)}function pc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Dy(t,i){Ba=lc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function My(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}var ml={readContext:Ft,use:hc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};ml.useEffectEvent=dt;var Oy={readContext:Ft,use:hc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:gy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,dc(4194308,4,Ey.bind(null,i,t),a)},useLayoutEffect:function(t,i){return dc(4194308,4,t,i)},useInsertionEffect:function(t,i){dc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Qr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var f=a(i);if(Qr){xn(!0);try{a(i)}finally{xn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=XT.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,a=Iy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,i){var a=rn();return ad(a,t,i)},useTransition:function(){var t=nd(!1);return t=Ay.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=rn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),nt===null)throw Error(r(349));(Oe&127)!==0||ey(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,gy(ny.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},ty.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=nt.identifierPrefix;if(Pe){var a=xi,l=Ai;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=uc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=qT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ld,useFormState:hy,useActionState:hy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Wf,useCacheRefresh:function(){return rn().memoizedState=$T.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Ft,use:hc,useCallback:Ty,useContext:Ft,useEffect:sd,useImperativeHandle:by,useInsertionEffect:vy,useLayoutEffect:_y,useMemo:Sy,useReducer:fc,useRef:py,useState:function(){return fc(Ki)},useDebugValue:rd,useDeferredValue:function(t,i){var a=vt();return wy(a,We.memoizedState,t,i)},useTransition:function(){var t=fc(Ki)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Wg,useId:Cy,useHostTransitionStatus:ld,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=vt();return ry(a,We,t,i)},useMemoCache:Wf,useCacheRefresh:Ny};cd.useEffectEvent=yy;var Vy={readContext:Ft,use:hc,useCallback:Ty,useContext:Ft,useEffect:sd,useImperativeHandle:by,useInsertionEffect:vy,useLayoutEffect:_y,useMemo:Sy,useReducer:td,useRef:py,useState:function(){return td(Ki)},useDebugValue:rd,useDeferredValue:function(t,i){var a=vt();return We===null?ad(a,t,i):wy(a,We.memoizedState,t,i)},useTransition:function(){var t=td(Ki)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Wg,useId:Cy,useHostTransitionStatus:ld,useFormState:my,useActionState:my,useOptimistic:function(t,i){var a=vt();return We!==null?ry(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Ny};Vy.useEffectEvent=yy;function hd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=Vs(l);f.payload=i,a!=null&&(f.callback=a),i=js(t,f,l),i!==null&&(fn(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=Vs(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=js(t,f,l),i!==null&&(fn(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Vs(a);l.tag=2,i!=null&&(l.callback=i),i=js(t,l,a),i!==null&&(fn(i,t,a),ll(i,t,a))}};function jy(t,i,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(f,d):!0}function ky(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&fd.enqueueReplaceState(i,i.state,null)}function Kr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Ly(t){Qu(t)}function Py(t){console.error(t)}function Uy(t){Qu(t)}function gc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function zy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dd(t,i,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,i)},a}function By(t){return t=Vs(t),t.tag=3,t}function Hy(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){zy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){zy(i,a,l),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function JT(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ja(i,a,f,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Cc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Pd(t,l,f)),!1;case 22:return a.flags|=65536,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Pd(t,l,f)),!1}throw Error(r(435,a.tag))}return Pd(t,l,f),Cc(),!1}if(Pe)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Mf&&(t=Error(r(422),{cause:l}),il(Mn(t,a)))):(l!==Mf&&(i=Error(r(423),{cause:l}),il(Mn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=dd(t.stateNode,l,f),qf(t,f),mt!==4&&(mt=2)),!1;var d=Error(r(520),{cause:l});if(d=Mn(d,a),Tl===null?Tl=[d]:Tl.push(d),mt!==4&&(mt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=dd(a.stateNode,l,t),qf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Bs===null||!Bs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=By(f),Hy(f,t,a,l),qf(a,f),!1}a=a.return}while(a!==null);return!1}var md=Error(r(461)),Ct=!1;function Gt(t,i,a,l){i.child=t===null?Yg(i,null,a,l):Yr(i,t.child,a,l)}function qy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Hr(i),l=$f(t,i,a,v,d,f),S=Xf(),t!==null&&!Ct?(Jf(t,i,f),$i(t,i,f)):(Pe&&S&&If(i),i.flags|=1,Gt(t,i,l,f),i.child)}function Fy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Gy(t,i,d,l,f)):(t=Ju(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Td(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(v,l)&&t.ref===i.ref)return $i(t,i,f)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Gy(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,Td(t,f))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,$i(t,i,f)}return pd(t,i,a,l,f)}function Yy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Qy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(i,d!==null?d.cachePool:null),d!==null?$g(i,d):Gf(),Xg(i);else return l=i.lanes=536870912,Qy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(tc(i,d.cachePool),$g(i,d),Ls(),i.memoizedState=null):(t!==null&&tc(i,null),Gf(),Ls());return Gt(t,i,f,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Qy(t,i,a,l,f){var d=Uf();return d=d===null?null:{parent:xt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&tc(i,null),Gf(),Xg(i),t!==null&&ja(t,i,l,!0),i.childLanes=f,null}function yc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ky(t,i,a){return Yr(i,t.child,null,a),t=yc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function ZT(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=yc(i,l),i.lanes=536870912,pl(null,t);if(Qf(i),(t=st)?(t=a_(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Dg(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Ds(i);return i.lanes=536870912,null}return yc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Qf(i),f)if(i.flags&256)i.flags&=-257,i=Ky(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ct||ja(t,i,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(l=nt,l!==null&&(v=ko(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Pr(t,v),fn(l,t,v),md;Cc(),i=Ky(t,i,a)}else t=d.treeContext,st=Ln(v.nextSibling),qt=i,Pe=!0,Is=null,jn=!1,t!==null&&Vg(i,t),i=yc(i,l),i.flags|=4096;return i}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pd(t,i,a,l,f){return Hr(i),a=$f(t,i,a,l,void 0,f),l=Xf(),t!==null&&!Ct?(Jf(t,i,f),$i(t,i,f)):(Pe&&l&&If(i),i.flags|=1,Gt(t,i,a,f),i.child)}function $y(t,i,a,l,f,d){return Hr(i),i.updateQueue=null,a=Zg(i,l,a,f),Jg(t),l=Xf(),t!==null&&!Ct?(Jf(t,i,d),$i(t,i,d)):(Pe&&l&&If(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Xy(t,i,a,l,f){if(Hr(i),i.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):Da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(hd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&fd.enqueueReplaceState(d,d.state,null),cl(i,l,d,f),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,M=Kr(a,S);d.props=M;var H=d.context,X=a.contextType;v=Da,typeof X=="object"&&X!==null&&(v=Ft(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==v)&&ky(i,d,l,v),Os=!1;var q=i.memoizedState;d.state=q,cl(i,l,d,f),ul(),H=i.memoizedState,S||q!==H||Os?(typeof Z=="function"&&(hd(i,a,Z,l),H=i.memoizedState),(M=Os||jy(i,a,M,l,q,H,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=v,l=M):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(t,i),v=i.memoizedProps,X=Kr(a,v),d.props=X,Z=i.pendingProps,q=d.context,H=a.contextType,M=Da,typeof H=="object"&&H!==null&&(M=Ft(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||q!==M)&&ky(i,d,l,M),Os=!1,q=i.memoizedState,d.state=q,cl(i,l,d,f),ul();var Y=i.memoizedState;v!==Z||q!==Y||Os||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof S=="function"&&(hd(i,a,S,l),Y=i.memoizedState),(X=Os||jy(i,a,X,l,q,Y,M)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,M)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=M,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,vc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Yr(i,t.child,null,f),i.child=Yr(i,null,a,f)):Gt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=$i(t,i,f),t}function Jy(t,i,a,l){return zr(),i.flags|=256,Gt(t,i,a,l),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:zg()}}function vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Zy(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?ks(i):Ls(),(t=st)?(t=a_(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Dg(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Ds(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Ls(),f=i.mode,S=_c({mode:"hidden",children:S},f),l=Ur(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=yd(a),l.childLanes=vd(t,v,a),i.memoizedState=gd,pl(null,l)):(ks(i),_d(i,S))}var M=t.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(d)i.flags&256?(ks(i),i.flags&=-257,i=Ed(t,i,a)):i.memoizedState!==null?(Ls(),i.child=t.child,i.flags|=128,i=null):(Ls(),S=l.fallback,f=i.mode,l=_c({mode:"visible",children:l.children},f),S=Ur(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Yr(i,t.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=vd(t,v,a),i.memoizedState=gd,i=pl(null,l));else if(ks(i),em(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(r(419)),l.stack="",l.digest=v,il({value:l,source:null,stack:null}),i=Ed(t,i,a)}else if(Ct||ja(t,i,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=nt,v!==null&&(l=ko(v,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Pr(t,l),fn(v,t,l),md;Wd(S)||Cc(),i=Ed(t,i,a)}else Wd(S)?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,st=Ln(S.nextSibling),qt=i,Pe=!0,Is=null,jn=!1,t!==null&&Vg(i,t),i=_d(i,l.children),i.flags|=4096);return i}return f?(Ls(),S=l.fallback,f=i.mode,M=t.child,H=M.sibling,l=qi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?S=qi(H,S):(S=Ur(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,pl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=yd(a):(f=S.cachePool,f!==null?(M=xt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=zg(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=vd(t,v,a),i.memoizedState=gd,pl(t.child,l)):(ks(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function _d(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Ed(t,i,a){return Yr(i,t.child,null,a),t=_d(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Wy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,a)}function bd(t,i,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function ev(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=yt.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,oe(yt,v),Gt(t,i,l,a),l=Pe?nl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,a,i);else if(t.tag===19)Wy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),bd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&oc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function $i(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ja(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function WT(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Ms(i,xt,t.memoizedState.cache),zr();break;case 27:case 5:Er(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Ms(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ks(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Zy(t,i,a):(ks(i),t=$i(t,i,a),t!==null?t.sibling:null);ks(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ja(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return ev(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Yy(t,i,a,i.pendingProps);case 24:Ms(i,xt,t.memoizedState.cache)}return $i(t,i,a)}function tv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Td(t,a)&&(i.flags&128)===0)return Ct=!1,WT(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Pe&&(i.flags&1048576)!==0&&Og(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Fr(i.elementType),i.type=t,typeof t=="function")Rf(t)?(l=Kr(t,l),i.tag=1,i=Xy(null,i,t,l,a)):(i.tag=0,i=pd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ve){i.tag=11,i=qy(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=Fy(null,i,t,l,a);break e}}throw i=Je(t)||t,Error(r(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Kr(l,i.pendingProps),Xy(t,i,l,f,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Hf(t,i),cl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ms(i,xt,l),l!==d.cache&&kf(i,[xt],a,!0),ul(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Jy(t,i,l,a);break e}else if(l!==f){f=Mn(Error(r(424)),i),il(f),i=Jy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=Ln(t.firstChild),qt=i,Pe=!0,Is=null,jn=!0,a=Yg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zr(),l===f){i=$i(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return vc(t,i),t===null?(a=f_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=jc(Ce.current).createElement(a),l[St]=i,l[Lt]=t,Yt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=f_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Er(i),t===null&&Pe&&(l=i.stateNode=u_(i.type,i.pendingProps,Ce.current),qt=i,jn=!0,f=st,Gs(i.type)?(tm=f,st=Ln(l.firstChild)):st=f),Gt(t,i,i.pendingProps.children,a),vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=l=st)&&(l=NS(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,qt=i,st=Ln(l.firstChild),jn=!1,f=!0):f=!1),f||Ds(i)),Er(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Xd(f,d)?l=null:v!==null&&Xd(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=$f(t,i,FT,null,null,a),Il._currentValue=f),vc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=st)&&(a=IS(a,i.pendingProps,jn),a!==null?(i.stateNode=a,qt=i,st=null,t=!0):t=!1),t||Ds(i)),null;case 13:return Zy(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Yr(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return qy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ms(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Hr(i),f=Ft(f),l=l(f),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Fy(t,i,i.type,i.pendingProps,a);case 15:return Gy(t,i,i.type,i.pendingProps,a);case 19:return ev(t,i,a);case 31:return ZT(t,i,a);case 22:return Yy(t,i,a,i.pendingProps);case 24:return Hr(i),l=Ft(xt),t===null?(f=Uf(),f===null&&(f=nt,d=Lf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Bf(i),Ms(i,xt,f)):((t.lanes&a)!==0&&(Hf(t,i),cl(i,null,null,a),ul()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ms(i,xt,l)):(l=d.cache,Ms(i,xt,l),l!==f.cache&&kf(i,[xt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Xi(t){t.flags|=4}function Sd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Cv())t.flags|=8192;else throw Gr=ic,zf}else t.flags&=-16777217}function nv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!y_(i))if(Cv())t.flags|=8192;else throw Gr=ic,zf}function Ec(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xu():536870912,t.lanes|=i,Qa|=i)}function gl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function eS(t,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(xt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Of())),rt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(rt(i),nv(i,d)):(rt(i),Sd(i,f,null,l,a))):d?d!==t.memoizedState?(Xi(i),rt(i),nv(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(i),rt(i),Sd(i,f,t,l,a)),null;case 27:if(fa(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}t=ce.current,Va(i)?jg(i):(t=u_(f,l,a),i.stateNode=t,Xi(i))}return rt(i),null;case 5:if(fa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}if(d=ce.current,Va(i))jg(i);else{var v=jc(Ce.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[St]=i,d[Lt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Yt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xi(i)}}return rt(i),Sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ce.current,Va(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zv(t.nodeValue,a)),t||Ds(i,!0)}else t=jc(t).createTextNode(l),t[St]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Va(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=i}else zr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Va(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[St]=i}else zr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else f=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ec(i,i.updateQueue),rt(i),null);case 4:return lt(),t===null&&Gd(i.stateNode.containerInfo),rt(i),null;case 10:return Yi(i.type),rt(i),null;case 19:if(W(yt),l=i.memoizedState,l===null)return rt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)gl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=oc(t),d!==null){for(i.flags|=128,gl(l,!1),t=d.updateQueue,i.updateQueue=t,Ec(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ig(a,t),a=a.sibling;return oe(yt,yt.current&1|2),Pe&&Fi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Ac&&(i.flags|=128,f=!0,gl(l,!1),i.lanes=4194304)}else{if(!f)if(t=oc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Ec(i,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return rt(i),null}else 2*nn()-l.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,f=!0,gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=yt.current,oe(yt,f?a&1|2:a&1),Pe&&Fi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return En(i),Yf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Ec(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(xt),rt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function tS(t,i){switch(Df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(xt),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));zr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));zr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(yt),null;case 4:return lt(),null;case 10:return Yi(i.type),null;case 22:case 23:return En(i),Yf(),t!==null&&W(qr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(xt),null;case 25:return null;default:return null}}function iv(t,i){switch(Df(i),i.tag){case 3:Yi(xt),lt();break;case 26:case 27:case 5:fa(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:W(yt);break;case 10:Yi(i.type);break;case 22:case 23:En(i),Yf(),t!==null&&W(qr);break;case 24:Yi(xt)}}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(S){Xe(i,i.return,S)}}function Ps(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=i;var M=a,H=S;try{H()}catch(X){Xe(f,M,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(i,i.return,X)}}function sv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Kg(i,a)}catch(l){Xe(t,t.return,l)}}}function rv(t,i,a){a.props=Kr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,i,f)}}function Ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,i,f)}else a.current=null}function av(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function wd(t,i,a){try{var l=t.stateNode;SS(l,t.type,a,i),l[Lt]=i}catch(f){Xe(t,t.return,f)}}function ov(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ov(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xd(t,i,a),t=t.sibling;t!==null;)xd(t,i,a),t=t.sibling}function bc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bc(t,i,a),t=t.sibling;t!==null;)bc(t,i,a),t=t.sibling}function lv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Yt(i,l,a),i[St]=t,i[Lt]=a}catch(d){Xe(t,t.return,d)}}var Ji=!1,Nt=!1,Rd=!1,uv=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function nS(t,i){if(t=t.containerInfo,Kd=Hc,t=bg(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,M=-1,H=0,X=0,Z=t,q=null;t:for(;;){for(var Y;Z!==a||f!==0&&Z.nodeType!==3||(S=v+f),Z!==d||l!==0&&Z.nodeType!==3||(M=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)q=Z,Z=Y;for(;;){if(Z===t)break t;if(q===a&&++H===f&&(S=v),q===d&&++X===l&&(M=v),(Y=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=Y}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},Hc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Kr(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Xe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function cv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),l&4&&yl(5,a);break;case 1:if(Wi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var f=Kr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}l&64&&sv(a),l&512&&vl(a,a.return);break;case 3:if(Wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Kg(t,i)}catch(v){Xe(a,a.return,v)}}break;case 27:i===null&&l&4&&lv(a);case 26:case 5:Wi(t,a),i===null&&l&4&&av(a),l&512&&vl(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),l&4&&dv(t,a);break;case 13:Wi(t,a),l&4&&mv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hS.bind(null,a),DS(t,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){i=i!==null&&i.memoizedState!==null||Nt,f=Ji;var d=Nt;Ji=l,(Nt=i)&&!d?es(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Ji=f,Nt=d}break;case 30:break;default:Wi(t,a)}}function hv(t){var i=t.alternate;i!==null&&(t.alternate=null,hv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Zi(t,i,a){for(a=a.child;a!==null;)fv(t,i,a),a=a.sibling}function fv(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Nt||Ri(a,i),Zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ri(a,i);var l=ct,f=ln;Gs(a.type)&&(ct=a.stateNode,ln=!1),Zi(t,i,a),Rl(a.stateNode),ct=l,ln=f;break;case 5:Nt||Ri(a,i);case 6:if(l=ct,f=ln,ct=null,Zi(t,i,a),ct=l,ln=f,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:ct!==null&&(ln?(t=ct,s_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):s_(ct,a.stateNode));break;case 4:l=ct,f=ln,ct=a.stateNode.containerInfo,ln=!0,Zi(t,i,a),ct=l,ln=f;break;case 0:case 11:case 14:case 15:Ps(2,a,i),Nt||Ps(4,a,i),Zi(t,i,a);break;case 1:Nt||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&rv(a,i,l)),Zi(t,i,a);break;case 21:Zi(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,Zi(t,i,a),Nt=l;break;default:Zi(t,i,a)}}function dv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){Xe(i,i.return,a)}}}function mv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){Xe(i,i.return,a)}}function iS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new uv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new uv),i;default:throw Error(r(435,t.tag))}}function Tc(t,i){var a=iS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=fS.bind(null,t,l);l.then(f,f)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Gs(S.type)){ct=S.stateNode,ln=!1;break e}break;case 5:ct=S.stateNode,ln=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(ct===null)throw Error(r(160));fv(d,v,f),ct=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)pv(i,t),i=i.sibling}var ei=null;function pv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Ps(3,t,t.return),yl(3,t),Ps(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Nt||a===null||Ri(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(un(i,t),cn(t),l&512&&(Nt||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[di]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[St]=t,wt(d),l=d;break e;case"link":var v=p_("link","href",f).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=p_("meta","content",f).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[St]=t,wt(d),l=d}t.stateNode=l}else g_(f,t.type,t.stateNode);else t.stateNode=m_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?g_(f,t.type,t.stateNode):m_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Nt||a===null||Ri(a,a.return)),a!==null&&l&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Nt||a===null||Ri(a,a.return)),t.flags&32){f=t.stateNode;try{on(f,"")}catch(he){Xe(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,wd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Rd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Xe(t,t.return,he)}}break;case 3:if(Pc=null,f=ei,ei=kc(i.containerInfo),un(i,t),ei=f,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(he){Xe(t,t.return,he)}Rd&&(Rd=!1,gv(t));break;case 4:l=ei,ei=kc(t.stateNode.containerInfo),un(i,t),cn(t),ei=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=Ji,X=Nt;if(Ji=H||f,Nt=X||M,un(i,t),Nt=X,Ji=H,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||M||Ji||Nt||$r(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(d=M.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=M.stateNode;var Z=M.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Xe(M,M.return,he)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(he){Xe(M,M.return,he)}}}else if(i.tag===18){if(a===null){M=i;try{var Y=M.stateNode;f?r_(Y,!0):r_(M.stateNode,!1)}catch(he){Xe(M,M.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(ov(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Ad(t);bc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var S=Ad(t);bc(t,S,v);break;case 3:case 4:var M=a.stateNode.containerInfo,H=Ad(t);xd(t,H,M);break;default:throw Error(r(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function gv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;gv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Wi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cv(t,i.alternate,i),i=i.sibling}function $r(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ps(4,i,i.return),$r(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&rv(i,i.return,a),$r(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ri(i,i.return),$r(i);break;case 22:i.memoizedState===null&&$r(i);break;case 30:$r(i);break;default:$r(i)}t=t.sibling}}function es(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:es(f,d,a),yl(4,d);break;case 1:if(es(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Xe(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Qg(M[f],S)}catch(H){Xe(l,l.return,H)}}a&&v&64&&sv(d),vl(d,d.return);break;case 27:lv(d);case 26:case 5:es(f,d,a),a&&l===null&&v&4&&av(d),vl(d,d.return);break;case 12:es(f,d,a);break;case 31:es(f,d,a),a&&v&4&&dv(f,d);break;case 13:es(f,d,a),a&&v&4&&mv(f,d);break;case 22:d.memoizedState===null&&es(f,d,a),vl(d,d.return);break;case 30:break;default:es(f,d,a)}i=i.sibling}}function Cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Nd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yv(t,i,a,l),i=i.sibling}function yv(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),f&2048&&yl(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t)));break;case 12:if(f&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Xe(i,i.return,M)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):_l(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,Fa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Cd(v,i);break;case 24:ti(t,i,a,l),f&2048&&Nd(i.alternate,i);break;default:ti(t,i,a,l)}}function Fa(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,S=a,M=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(d,v,S,M,f),yl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Fa(d,v,S,M,f):_l(d,v):(X._visibility|=2,Fa(d,v,S,M,f)),f&&H&2048&&Cd(v.alternate,v);break;case 24:Fa(d,v,S,M,f),f&&H&2048&&Nd(v.alternate,v);break;default:Fa(d,v,S,M,f)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:_l(a,l),f&2048&&Cd(l.alternate,l);break;case 24:_l(a,l),f&2048&&Nd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var El=8192;function Ga(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)vv(t,i,a),t=t.sibling}function vv(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&El&&t.memoizedState!==null&&qS(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var l=ei;ei=kc(t.stateNode.containerInfo),Ga(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ga(t,i,a),El=l):Ga(t,i,a));break;default:Ga(t,i,a)}}function _v(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function bl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,bv(l,t)}_v(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ev(t),t=t.sibling}function Ev(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):bl(t);break;default:bl(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,bv(l,t)}_v(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ps(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function bv(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ps(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(hv(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var sS={getCacheForType:function(t){var i=Ft(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(xt).controller.signal}},rS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,De=null,Oe=0,$e=0,bn=null,Us=!1,Ya=!1,Id=!1,ts=0,mt=0,zs=0,Xr=0,Dd=0,Tn=0,Qa=0,Tl=null,hn=null,Md=!1,wc=0,Tv=0,Ac=1/0,xc=null,Bs=null,Vt=0,Hs=null,Ka=null,ns=0,Od=0,Vd=null,Sv=null,Sl=0,jd=null;function Sn(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:x.T!==null?Bd():Ru()}function wv(){if(Tn===0)if((Oe&536870912)===0||Pe){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function fn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&($a(t,0),qs(t,Oe,Tn,!1)),wr(t,a),((Ge&2)===0||t!==nt)&&(t===nt&&((Ge&2)===0&&(Xr|=a),mt===4&&qs(t,Oe,Tn,!1)),Ci(t))}function Av(t,i,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),f=l?lS(t,i):Ld(t,i,!0),d=l;do{if(f===0){Ya&&!l&&qs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!aS(a)){f=Ld(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;f=Tl;var M=S.current.memoizedState.isDehydrated;if(M&&($a(S,v).flags|=256),v=Ld(S,v,!1),v!==2){if(Id&&!M){S.errorRecoveryDisabledLanes|=d,Xr|=d,f=4;break e}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){$a(t,0),qs(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:qs(l,i,Tn,!Us);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=wc+300-nn(),10<f)){if(qs(l,i,Tn,!Us),ci(l,0,!0)!==0)break e;ns=i,l.timeoutHandle=n_(xv.bind(null,l,a,hn,xc,Md,i,Tn,Xr,Qa,Us,d,"Throttled",-0,0),f);break e}xv(l,a,hn,xc,Md,i,Tn,Xr,Qa,Us,d,null,-0,0)}}break}while(!0);Ci(t)}function xv(t,i,a,l,f,d,v,S,M,H,X,Z,q,Y){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},vv(i,d,Z);var he=(d&62914560)===d?wc-nn():(d&4194048)===d?Tv-nn():0;if(he=FS(Z,he),he!==null){ns=d,t.cancelPendingCommit=he(Vv.bind(null,t,i,d,a,l,f,v,S,M,X,Z,null,q,Y)),qs(t,d,v,!H);return}}Vv(t,i,d,a,l,f,v,S,M)}function aS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!yn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qs(t,i,a,l){i&=~Dd,i&=~Xr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-pt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Ar(t,a,i)}function Rc(){return(Ge&6)===0?(wl(0),!1):!0}function kd(){if(De!==null){if($e===0)var t=De.return;else t=De,Gi=Br=null,Zf(t),Ua=null,al=0,t=De;for(;t!==null;)iv(t.alternate,t),t=t.return;De=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ns=0,kd(),nt=t,De=a=qi(t.current,null),Oe=i,$e=0,bn=null,Us=!1,Ya=Gn(t,i),Id=!1,Qa=Tn=Dd=Xr=zs=mt=0,hn=Tl=null,Md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-pt(l),d=1<<f;i|=t[f],l&=~d}return ts=i,Ku(),a}function Rv(t,i){Re=null,x.H=ml,i===Pa||i===nc?(i=qg(),$e=3):i===zf?(i=qg(),$e=4):$e=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,De===null&&(mt=1,gc(t,Mn(i,t.current)))}function Cv(){var t=_n.current;return t===null?!0:(Oe&4194048)===Oe?kn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===kn:!1}function Nv(){var t=x.H;return x.H=ml,t===null?ml:t}function Iv(){var t=x.A;return x.A=sS,t}function Cc(){mt=4,Us||(Oe&4194048)!==Oe&&_n.current!==null||(Ya=!0),(zs&134217727)===0&&(Xr&134217727)===0||nt===null||qs(nt,Oe,Tn,!1)}function Ld(t,i,a){var l=Ge;Ge|=2;var f=Nv(),d=Iv();(nt!==t||Oe!==i)&&(xc=null,$a(t,i)),i=!1;var v=mt;e:do try{if($e!==0&&De!==null){var S=De,M=bn;switch($e){case 8:kd(),v=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var H=$e;if($e=0,bn=null,Xa(t,S,M,H),a&&Ya){v=0;break e}break;default:H=$e,$e=0,bn=null,Xa(t,S,M,H)}}oS(),v=mt;break}catch(X){Rv(t,X)}while(!0);return i&&t.shellSuspendCounter++,Gi=Br=null,Ge=l,x.H=f,x.A=d,De===null&&(nt=null,Oe=0,Ku()),v}function oS(){for(;De!==null;)Dv(De)}function lS(t,i){var a=Ge;Ge|=2;var l=Nv(),f=Iv();nt!==t||Oe!==i?(xc=null,Ac=nn()+500,$a(t,i)):Ya=Gn(t,i);e:do try{if($e!==0&&De!==null){i=De;var d=bn;t:switch($e){case 1:$e=0,bn=null,Xa(t,i,d,1);break;case 2:case 9:if(Bg(d)){$e=0,bn=null,Mv(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ci(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Bg(d)?($e=0,bn=null,Mv(i)):($e=0,bn=null,Xa(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var S=De;if(v?y_(v):S.stateNode.complete){$e=0,bn=null;var M=S.sibling;if(M!==null)De=M;else{var H=S.return;H!==null?(De=H,Nc(H)):De=null}break t}}$e=0,bn=null,Xa(t,i,d,5);break;case 6:$e=0,bn=null,Xa(t,i,d,6);break;case 8:kd(),mt=6;break e;default:throw Error(r(462))}}uS();break}catch(X){Rv(t,X)}while(!0);return Gi=Br=null,x.H=l,x.A=f,Ge=a,De!==null?0:(nt=null,Oe=0,Ku(),mt)}function uS(){for(;De!==null&&!df();)Dv(De)}function Dv(t){var i=tv(t.alternate,t,ts);t.memoizedProps=t.pendingProps,i===null?Nc(t):De=i}function Mv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=$y(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=$y(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Zf(i);default:iv(a,i),i=De=Ig(i,ts),i=tv(a,i,ts)}t.memoizedProps=t.pendingProps,i===null?Nc(t):De=i}function Xa(t,i,a,l){Gi=Br=null,Zf(i),Ua=null,al=0;var f=i.return;try{if(JT(t,f,i,a,Oe)){mt=1,gc(t,Mn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;mt=1,gc(t,Mn(a,t.current)),De=null;return}i.flags&32768?(Pe||l===1?t=!0:Ya||(Oe&536870912)!==0?t=!1:(Us=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ov(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){Ov(i,Us);return}t=i.return;var a=eS(i.alternate,i,ts);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);mt===0&&(mt=5)}function Ov(t,i){do{var a=tS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);mt=6,De=null}function Vv(t,i,a,l,f,d,v,S,M){t.cancelPendingCommit=null;do Ic();while(Vt!==0);if((Ge&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Af,gf(t,a,d,v,S,M),t===nt&&(De=nt=null,Oe=0),Ka=i,Hs=t,ns=a,Od=d,Vd=f,Sv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dS(_s,function(){return Uv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=x.T,x.T=null,f=G.p,G.p=2,v=Ge,Ge|=4;try{nS(t,i,a)}finally{Ge=v,G.p=f,x.T=l}}Vt=1,jv(),kv(),Lv()}}function jv(){if(Vt===1){Vt=0;var t=Hs,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=x.T,x.T=null;var l=G.p;G.p=2;var f=Ge;Ge|=4;try{pv(i,t);var d=$d,v=bg(t.containerInfo),S=d.focusedElem,M=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&Eg(S.ownerDocument.documentElement,S)){if(M!==null&&Ef(S)){var H=M.start,X=M.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var Y=q.getSelection(),he=S.textContent.length,ge=Math.min(M.start,he),tt=M.end===void 0?ge:Math.min(M.end,he);!Y.extend&&ge>tt&&(v=tt,tt=ge,ge=v);var P=_g(S,ge),V=_g(S,tt);if(P&&V&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var B=Z.createRange();B.setStart(P.node,P.offset),Y.removeAllRanges(),ge>tt?(Y.addRange(B),Y.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Y.addRange(B))}}}}for(Z=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Hc=!!Kd,$d=Kd=null}finally{Ge=f,G.p=l,x.T=a}}t.current=i,Vt=2}}function kv(){if(Vt===2){Vt=0;var t=Hs,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=x.T,x.T=null;var l=G.p;G.p=2;var f=Ge;Ge|=4;try{cv(t,i.alternate,i)}finally{Ge=f,G.p=l,x.T=a}}Vt=3}}function Lv(){if(Vt===4||Vt===3){Vt=0,Eu();var t=Hs,i=Ka,a=ns,l=Sv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ka=Hs=null,Pv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Bs=null),Ui(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=x.T,f=G.p,G.p=2,x.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{x.T=i,G.p=f}}(ns&3)!==0&&Ic(),Ci(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===jd?Sl++:(Sl=0,jd=t):Sl=0,wl(0)}}function Pv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sl(i)))}function Ic(){return jv(),kv(),Lv(),Uv()}function Uv(){if(Vt!==5)return!1;var t=Hs,i=Od;Od=0;var a=Ui(ns),l=x.T,f=G.p;try{G.p=32>a?32:a,x.T=null,a=Vd,Vd=null;var d=Hs,v=ns;if(Vt=0,Ka=Hs=null,ns=0,(Ge&6)!==0)throw Error(r(331));var S=Ge;if(Ge|=4,Ev(d.current),yv(d,d.current,v,a),Ge=S,wl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{G.p=f,x.T=l,Pv(t,i)}}function zv(t,i,a){i=Mn(a,i),i=dd(t.stateNode,i,2),t=js(t,i,2),t!==null&&(wr(t,2),Ci(t))}function Xe(t,i,a){if(t.tag===3)zv(t,t,a);else for(;i!==null;){if(i.tag===3){zv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bs===null||!Bs.has(l))){t=Mn(a,t),a=By(2),l=js(i,a,2),l!==null&&(Hy(a,l,i,t),wr(l,2),Ci(l));break}}i=i.return}}function Pd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new rS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Id=!0,f.add(a),t=cS.bind(null,t,i,a),i.then(t,t))}function cS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Oe&a)===a&&(mt===4||mt===3&&(Oe&62914560)===Oe&&300>nn()-wc?(Ge&2)===0&&$a(t,0):Dd|=a,Qa===Oe&&(Qa=0)),Ci(t)}function Bv(t,i){i===0&&(i=xu()),t=Pr(t,i),t!==null&&(wr(t,i),Ci(t))}function hS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Bv(t,a)}function fS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Bv(t,a)}function dS(t,i){return Ot(t,i)}var Dc=null,Ja=null,Ud=!1,Mc=!1,zd=!1,Fs=0;function Ci(t){t!==Ja&&t.next===null&&(Ja===null?Dc=Ja=t:Ja=Ja.next=t),Mc=!0,Ud||(Ud=!0,pS())}function wl(t,i){if(!zd&&Mc){zd=!0;do for(var a=!1,l=Dc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Gv(l,d))}else d=Oe,d=ci(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,Gv(l,d));l=l.next}while(a);zd=!1}}function mS(){Hv()}function Hv(){Mc=Ud=!1;var t=0;Fs!==0&&AS()&&(t=Fs);for(var i=nn(),a=null,l=Dc;l!==null;){var f=l.next,d=qv(l,i);d===0?(l.next=null,a===null?Dc=f:a.next=f,f===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=f}Vt!==0&&Vt!==5||wl(t),Fs!==0&&(Fs=0)}function qv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-pt(d),S=1<<v,M=f[v];M===-1?((S&a)===0||(S&l)!==0)&&(f[v]=pf(S,i)):M<=i&&(t.expiredLanes|=S),d&=~S}if(i=nt,a=Oe,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vs(l),Ui(a)){case 2:case 8:a=Vo;break;case 32:a=_s;break;case 268435456:a=bu;break;default:a=_s}return l=Fv.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vs(l),t.callbackPriority=2,t.callbackNode=null,2}function Fv(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Oe;return l=ci(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Av(t,l,i),qv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Fv.bind(null,t):null)}function Gv(t,i){if(Ic())return null;Av(t,i,!0)}function pS(){RS(function(){(Ge&6)!==0?Ot(Oo,mS):Hv()})}function Bd(){if(Fs===0){var t=ka;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Fs=t}return Fs}function Yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function Qv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function gS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Yv((f[Lt]||null).action),v=l.submitter;v&&(i=(i=v[Lt]||null)?Yv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new bi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var M=v?Qv(f,v):new FormData(f);od(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(S.preventDefault(),M=v?Qv(f,v):new FormData(f),od(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var Hd=0;Hd<wf.length;Hd++){var qd=wf[Hd],yS=qd.toLowerCase(),vS=qd[0].toUpperCase()+qd.slice(1);Wn(yS,"on"+vS)}Wn(wg,"onAnimationEnd"),Wn(Ag,"onAnimationIteration"),Wn(xg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(VT,"onTransitionRun"),Wn(jT,"onTransitionStart"),Wn(kT,"onTransitionCancel"),Wn(Rg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Kv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],M=S.instance,H=S.currentTarget;if(S=S.listener,M!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch(X){Qu(X)}f.currentTarget=null,d=M}else for(v=0;v<l.length;v++){if(S=l[v],M=S.instance,H=S.currentTarget,S=S.listener,M!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch(X){Qu(X)}f.currentTarget=null,d=M}}}}function Me(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var l=t+"__bubble";a.has(l)||($v(i,t,2,!1),a.add(l))}function Fd(t,i,a){var l=0;i&&(l|=4),$v(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Oc]){t[Oc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(_S.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,Fd("selectionchange",!1,i))}}function $v(t,i,a,l){switch(w_(i)){case 2:var f=QS;break;case 8:f=KS;break;default:f=am}a=f.bind(null,i,a,t),f=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Yd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=mi(S),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=d=v;continue e}S=S.parentNode}}l=l.return}As(function(){var H=d,X=Cn(a),Z=[];e:{var q=Cg.get(t);if(q!==void 0){var Y=bi,he=t;switch(t){case"keypress":if(Mr(a)===0)break e;case"keydown":case"keyup":Y=Fu;break;case"focusin":he="focus",Y=Vr;break;case"focusout":he="blur",Y=Vr;break;case"beforeblur":case"afterblur":Y=Vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case wg:case Ag:case xg:Y=Lu;break;case Rg:Y=w;break;case"scroll":case"scrollend":Y=$o;break;case"wheel":Y=F;break;case"copy":case"cut":case"paste":Y=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Hi;break;case"toggle":case"beforetoggle":Y=xe}var ge=(i&4)!==0,tt=!ge&&(t==="scroll"||t==="scrollend"),P=ge?q!==null?q+"Capture":null:q;ge=[];for(var V=H,B;V!==null;){var J=V;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||P===null||(J=$n(V,P),J!=null&&ge.push(xl(V,J,B))),tt)break;V=V.return}0<ge.length&&(q=new Y(q,he,null,a,X),Z.push({event:q,listeners:ge}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",q&&a!==Yo&&(he=a.relatedTarget||a.fromElement)&&(mi(he)||he[fi]))break e;if((Y||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=H,he=he?mi(he):null,he!==null&&(tt=u(he),ge=he.tag,he!==tt||ge!==5&&ge!==27&&ge!==6)&&(he=null)):(Y=null,he=H),Y!==he)){if(ge=Xo,J="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Hi,J="onPointerLeave",P="onPointerEnter",V="pointer"),tt=Y==null?q:pn(Y),B=he==null?q:pn(he),q=new ge(J,V+"leave",Y,a,X),q.target=tt,q.relatedTarget=B,J=null,mi(X)===H&&(ge=new ge(P,V+"enter",he,a,X),ge.target=B,ge.relatedTarget=tt,J=ge),tt=J,Y&&he)t:{for(ge=ES,P=Y,V=he,B=0,J=P;J;J=ge(J))B++;J=0;for(var me=V;me;me=ge(me))J++;for(;0<B-J;)P=ge(P),B--;for(;0<J-B;)V=ge(V),J--;for(;B--;){if(P===V||V!==null&&P===V.alternate){ge=P;break t}P=ge(P),V=ge(V)}ge=null}else ge=null;Y!==null&&Xv(Z,q,Y,ge,!1),he!==null&&tt!==null&&Xv(Z,tt,he,ge,!0)}}e:{if(q=H?pn(H):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var He=dg;else if(hg(q))if(mg)He=DT;else{He=NT;var fe=CT}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Ea(H.elementType)&&(He=dg):He=IT;if(He&&(He=He(t,H))){fg(Z,He,a,X);break e}fe&&fe(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&qo(q,"number",q.value)}switch(fe=H?pn(H):window,t){case"focusin":(hg(fe)||fe.contentEditable==="true")&&(Ca=fe,bf=H,tl=null);break;case"focusout":tl=bf=Ca=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Tg(Z,a,X);break;case"selectionchange":if(OT)break;case"keydown":case"keyup":Tg(Z,a,X)}var Ne;if(Fe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ra?jr(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(wi&&a.locale!=="ko"&&(Ra||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ra&&(Ne=Ko()):(Ei=X,Qo="value"in Ei?Ei.value:Ei.textContent,Ra=!0)),fe=Vc(H,Ve),0<fe.length&&(Ve=new Si(Ve,t,null,a,X),Z.push({event:Ve,listeners:fe}),Ne?Ve.data=Ne:(Ne=xa(a),Ne!==null&&(Ve.data=Ne)))),(Ne=In?wT(t,a):AT(t,a))&&(Ve=Vc(H,"onBeforeInput"),0<Ve.length&&(fe=new Si("onBeforeInput","beforeinput",null,a,X),Z.push({event:fe,listeners:Ve}),fe.data=Ne)),gS(Z,t,H,a,X)}Kv(Z,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(t,a),f!=null&&l.unshift(xl(t,f,d)),f=$n(t,i),f!=null&&l.push(xl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function ES(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xv(t,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,M=S.alternate,H=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||H===null||(M=H,f?(H=$n(a,d),H!=null&&v.unshift(xl(a,H,M))):f||(H=$n(a,d),H!=null&&v.push(xl(a,H,M)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var bS=/\r\n?/g,TS=/\u0000|\uFFFD/g;function Jv(t){return(typeof t=="string"?t:""+t).replace(bS,`
`).replace(TS,"")}function Zv(t,i){return i=Jv(i),Jv(t)===i}function et(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",f.name,f,null),et(t,i,"formEncType",f.formEncType,f,null),et(t,i,"formMethod",f.formMethod,f,null),et(t,i,"formTarget",f.formTarget,f,null)):(et(t,i,"encType",f.encType,f,null),et(t,i,"method",f.method,f,null),et(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),va(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,va(t,a,l))}}function Qd(t,i,a,l,f,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,d,v,a,null)}}f&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var S=d=v=f=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":M=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:et(t,i,l,X,a,null)}}Du(t,d,S,M,H,v,f,!1);return;case"select":Me("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:et(t,i,f,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?bs(t,!!l,i,!1):a!=null&&bs(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:et(t,i,v,S,a,null)}Ts(t,l,f,d);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,M,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Me(Al[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,H,l,a,null)}return;default:if(Ea(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Qd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,i,S,l,a,null))}function SS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,M=null,H=null,X=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=Z;default:l.hasOwnProperty(Y)||et(t,i,Y,null,l,Z)}}for(var q in l){var Y=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(Y!=null||Z!=null))switch(q){case"type":d=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Y!==Z&&et(t,i,q,Y,l,Z)}}_a(t,v,S,M,H,X,d,f);return;case"select":Y=v=S=q=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Y=M;default:l.hasOwnProperty(d)||et(t,i,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==M&&et(t,i,f,d,l,M)}i=S,a=v,l=Y,q!=null?bs(t,!!a,q,!1):!!l!=!!a&&(i!=null?bs(t,!!a,i,!0):bs(t,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,i,S,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&et(t,i,v,f,l,d)}Mu(t,q,Y);return;case"option":for(var he in a)q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:et(t,i,he,null,l,q));for(M in l)q=l[M],Y=a[M],l.hasOwnProperty(M)&&q!==Y&&(q!=null||Y!=null)&&(M==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":et(t,i,M,q,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge)&&et(t,i,ge,null,l,q);for(H in l)if(q=l[H],Y=a[H],l.hasOwnProperty(H)&&q!==Y&&(q!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:et(t,i,H,q,l,Y)}return;default:if(Ea(i)){for(var tt in a)q=a[tt],a.hasOwnProperty(tt)&&q!==void 0&&!l.hasOwnProperty(tt)&&Qd(t,i,tt,void 0,l,q);for(X in l)q=l[X],Y=a[X],!l.hasOwnProperty(X)||q===Y||q===void 0&&Y===void 0||Qd(t,i,X,q,l,Y);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&et(t,i,P,null,l,q);for(Z in l)q=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||q===Y||q==null&&Y==null||et(t,i,Z,q,l,Y)}function Wv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&Wv(v)){for(v=0,S=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>S)break;var X=M.transferSize,Z=M.initiatorType;X&&Wv(Z)&&(M=M.responseEnd,v+=X*(M<S?1:(S-H)/(M-H)))}if(--l,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,$d=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function e_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jd=null;function AS(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(t){return i_.resolve(null).then(t).catch(CS)}:n_;function CS(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function s_(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),to(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[di]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Rl(t.ownerDocument.body);a=f}while(a);to(i)}function r_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function NS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function IS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function a_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function DS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function o_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function l_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function u_(t,i,a){switch(i=jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var Pn=new Map,c_=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=G.d;G.d={f:MS,r:OS,D:VS,C:jS,L:kS,m:LS,X:US,S:PS,M:zS};function MS(){var t=is.f(),i=Rc();return t||i}function OS(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?Ry(i):is.r(t)}var Za=typeof document>"u"?null:document;function h_(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var f=an(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),c_.has(f)||(c_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Yt(i,"link",t),wt(i),l.head.appendChild(i)))}}function VS(t){is.D(t),h_("dns-prefetch",t,null)}function jS(t,i){is.C(t,i),h_("preconnect",t,i)}function kS(t,i,a){is.L(t,i,a);var l=Za;if(l&&t&&i){var f='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var d=f;switch(i){case"style":d=Wa(t);break;case"script":d=eo(t)}Pn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Nl(d))||(i=l.createElement("link"),Yt(i,"link",t),wt(i),l.head.appendChild(i)))}}function LS(t,i){is.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Pn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),Yt(l,"link",t),wt(l),a.head.appendChild(l)}}}function PS(t,i,a){is.S(t,i,a);var l=Za;if(l&&t){var f=pi(l).hoistableStyles,d=Wa(t);i=i||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Cl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&nm(t,a);var M=v=l.createElement("link");wt(M),Yt(M,"link",t),M._p=new Promise(function(H,X){M.onload=H,M.onerror=X}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function US(t,i){is.X(t,i);var a=Za;if(a&&t){var l=pi(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(Nl(f)),d||(t=T({src:t,async:!0},i),(i=Pn.get(f))&&im(t,i),d=a.createElement("script"),wt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function zS(t,i){is.M(t,i);var a=Za;if(a&&t){var l=pi(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(Nl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Pn.get(f))&&im(t,i),d=a.createElement("script"),wt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function f_(t,i,a,l){var f=(f=Ce.current)?kc(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=pi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=pi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Cl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||BS(f,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=pi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Wa(t){return'href="'+an(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function d_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function BS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),wt(i),t.head.appendChild(i))}function eo(t){return'[src="'+an(t)+'"]'}function Nl(t){return"script[async]"+t}function m_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Yt(l,"style",f),Lc(l,a.precedence,t),i.instance=l;case"stylesheet":f=Wa(a.href);var d=t.querySelector(Cl(f));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=d_(a),(f=Pn.get(f))&&nm(l,f),d=(t.ownerDocument||t).createElement("link"),wt(d);var v=d;return v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),Yt(d,"link",l),i.state.loading|=4,Lc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(f=t.querySelector(Nl(d)))?(i.instance=f,wt(f),f):(l=a,(f=Pn.get(d))&&(l=T({},a),im(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Yt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,a.precedence,t));return i.instance}function Lc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pc=null;function p_(t,i,a){if(Pc===null){var l=new Map,f=Pc=new Map;f.set(a,l)}else f=Pc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[di]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function g_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function HS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function qS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Wa(l.href),d=i.querySelector(Cl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,l=d_(l),(f=Pn.get(f))&&nm(l,f),d=d.createElement("link"),wt(d);var v=d;v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function FS(t,i){return t.stylesheets&&t.count===0&&Bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*wS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Bc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(GS,t),zc=null,Uc.call(t))}function GS(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Uc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:se,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function YS(t,i,a,l,f,d,v,S,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function v_(t,i,a,l,f,d,v,S,M,H,X,Z){return t=new YS(t,i,a,v,M,H,X,Z,S),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Lf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),t}function __(t){return t?(t=Da,t):Da}function E_(t,i,a,l,f,d){f=__(f),l.context===null?l.context=f:l.pendingContext=f,l=Vs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=js(t,l,i),a!==null&&(fn(a,t,i),ll(a,t,i))}function b_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){b_(t,i),(t=t.alternate)&&b_(t,i)}function T_(t){if(t.tag===13||t.tag===31){var i=Pr(t,67108864);i!==null&&fn(i,t,67108864),rm(t,67108864)}}function S_(t){if(t.tag===13||t.tag===31){var i=Sn();i=xr(i);var a=Pr(t,i);a!==null&&fn(a,t,i),rm(t,i)}}var Hc=!0;function QS(t,i,a,l){var f=x.T;x.T=null;var d=G.p;try{G.p=2,am(t,i,a,l)}finally{G.p=d,x.T=f}}function KS(t,i,a,l){var f=x.T;x.T=null;var d=G.p;try{G.p=8,am(t,i,a,l)}finally{G.p=d,x.T=f}}function am(t,i,a,l){if(Hc){var f=om(l);if(f===null)Yd(t,i,l,qc,a),A_(t,l);else if(XS(f,t,i,a,l))l.stopPropagation();else if(A_(t,l),i&4&&-1<$S.indexOf(t)){for(;f!==null;){var d=Rn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ui(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var M=1<<31-pt(v);S.entanglements[1]|=M,v&=~M}Ci(d),(Ge&6)===0&&(Ac=nn()+500,wl(0))}}break;case 31:case 13:S=Pr(d,2),S!==null&&fn(S,d,2),Rc(),rm(d,2)}if(d=om(l),d===null&&Yd(t,i,l,qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Yd(t,i,l,null,a)}}function om(t){return t=Cn(t),lm(t)}var qc=null;function lm(t){if(qc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qc=t,null}function w_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case Oo:return 2;case Vo:return 8;case _s:case mf:return 32;case bu:return 268435456;default:return 32}default:return 32}}var um=!1,Ys=null,Qs=null,Ks=null,Dl=new Map,Ml=new Map,$s=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(t,i){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Ol(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Rn(i),i!==null&&T_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function XS(t,i,a,l,f){switch(i){case"focusin":return Ys=Ol(Ys,t,i,a,l,f),!0;case"dragenter":return Qs=Ol(Qs,t,i,a,l,f),!0;case"mouseover":return Ks=Ol(Ks,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ml.set(d,Ol(Ml.get(d)||null,t,i,a,l,f)),!0}return!1}function x_(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){S_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){S_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=Rn(a),i!==null&&T_(i),t.blockedOn=a,!1;i.shift()}return!0}function R_(t,i,a){Fc(t)&&a.delete(i)}function JS(){um=!1,Ys!==null&&Fc(Ys)&&(Ys=null),Qs!==null&&Fc(Qs)&&(Qs=null),Ks!==null&&Fc(Ks)&&(Ks=null),Dl.forEach(R_),Ml.forEach(R_)}function Gc(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,JS)))}var Yc=null;function C_(t){Yc!==t&&(Yc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function to(t){function i(M){return Gc(M,t)}Ys!==null&&Gc(Ys,t),Qs!==null&&Gc(Qs,t),Ks!==null&&Gc(Ks,t),Dl.forEach(i),Ml.forEach(i);for(var a=0;a<$s.length;a++){var l=$s[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$s.length&&(a=$s[0],a.blockedOn===null);)x_(a),a.blockedOn===null&&$s.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Lt]||null;if(typeof d=="function")v||C_(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Lt]||null)S=v.formAction;else if(lm(f)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),C_(a)}}}function N_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function cm(t){this._internalRoot=t}Qc.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Sn();E_(a,l,t,i,null,null)},Qc.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;E_(t.current,2,null,t,null,null),Rc(),i[fi]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ru();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$s.length&&i!==0&&i<$s[a].priority;a++);$s.splice(a,0,t),a===0&&x_(t)}};var I_=e.version;if(I_!=="19.2.4")throw Error(r(527,I_,"19.2.4"));G.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var ZS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Fn=Kc.inject(ZS),Bt=Kc}catch{}}return jl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",f=Ly,d=Py,v=Uy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=v_(t,1,!1,null,null,a,l,null,f,d,v,N_),t[fi]=i.current,Gd(t),new cm(i)},jl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=Ly,v=Py,S=Uy,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),i=v_(t,1,!0,i,a??null,l,f,M,d,v,S,N_),i.context=__(null),a=i.current,l=Sn(),l=xr(l),f=Vs(l),f.callback=null,js(a,f,l),a=l,i.current.lanes=a,wr(i,a),Ci(i),t[fi]=i.current,Gd(t),new Qc(i)},jl.version="19.2.4",jl}var z_;function lw(){if(z_)return dm.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dm.exports=ow(),dm.exports}var uw=lw();var B_="popstate";function cw(s={}){function e(o,u){let{pathname:h="/",search:m="",hash:g=""}=la(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),jm("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:$l(u))}function r(o,u){qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return fw(e,n,r,s)}function ht(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function qn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hw(){return Math.random().toString(36).substring(2,10)}function H_(s,e){return{usr:s.state,key:s.key,idx:e}}function jm(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:n,key:e&&e.key||r||hw()}}function $l({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function la(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function fw(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",g=null,p=b();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function b(){return(h.state||{idx:null}).idx}function T(){m="POP";let K=b(),ie=K==null?null:K-p;p=K,g&&g({action:m,location:$.location,delta:ie})}function A(K,ie){m="PUSH";let ne=jm($.location,K,ie);n&&n(ne,K),p=b()+1;let se=H_(ne,p),ve=$.createHref(ne);try{h.pushState(se,"",ve)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(ve)}u&&g&&g({action:m,location:$.location,delta:1})}function C(K,ie){m="REPLACE";let ne=jm($.location,K,ie);n&&n(ne,K),p=b();let se=H_(ne,p),ve=$.createHref(ne);h.replaceState(se,"",ve),u&&g&&g({action:m,location:$.location,delta:0})}function Q(K){return dw(K)}let $={get action(){return m},get location(){return s(o,h)},listen(K){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(B_,T),g=K,()=>{o.removeEventListener(B_,T),g=null}},createHref(K){return e(o,K)},createURL:Q,encodeLocation(K){let ie=Q(K);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:A,replace:C,go(K){return h.go(K)}};return $}function dw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:$l(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xE(s,e,n="/"){return mw(s,e,n,!1)}function mw(s,e,n,r){let o=typeof e=="string"?la(e):e,u=cs(o.pathname||"/",n);if(u==null)return null;let h=RE(s);pw(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=xw(u);m=ww(h[g],p,r)}return m}function RE(s,e=[],n=[],r="",o=!1){let u=(h,m,g=o,p)=>{let b={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&g)return;ht(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let T=us([r,b.relativePath]),A=n.concat(b);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),RE(h.children,e,A,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:Tw(T,h.index),routesMeta:A})};return s.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of CE(h.path))u(h,m,!0,g)}),e}function CE(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=CE(r.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>s.startsWith("/")&&g===""?"/":g)}function pw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Sw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gw=/^:[\w-]+$/,yw=3,vw=2,_w=1,Ew=10,bw=-2,q_=s=>s==="*";function Tw(s,e){let n=s.split("/"),r=n.length;return n.some(q_)&&(r+=bw),e&&(r+=vw),n.filter(o=>!q_(o)).reduce((o,u)=>o+(gw.test(u)?yw:u===""?_w:Ew),r)}function Sw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function ww(s,e,n=!1){let{routesMeta:r}=s,o={},u="/",h=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=gh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),A=g.route;if(!T&&p&&n&&!r[r.length-1].route.index&&(T=gh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:us([u,T.pathname]),pathnameBase:Iw(us([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=us([u,T.pathnameBase]))}return h}function gh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Aw(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:b,isOptional:T},A)=>{if(b==="*"){let Q=m[A]||"";h=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const C=m[A];return T&&!C?p[b]=void 0:p[b]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:s}}function Aw(s,e=!1,n=!0){qn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function xw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function cs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var Rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Cw(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?la(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=F_(n.substring(1),"/"):u=F_(n,e)):u=e,{pathname:u,search:Dw(r),hash:Mw(o)}}function F_(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(s){let e=Nw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fp(s,e,n,r=!1){let o;typeof s=="string"?o=la(s):(o={...s},ht(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!r&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=Cw(o,m),p=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}var us=s=>s.join("/").replace(/\/\/+/g,"/"),Iw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Dw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Mw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Ow=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Vw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function jw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function IE(s,e){let n=s;if(typeof n!="string"||!Rw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(NE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=cs(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DE=["POST","PUT","PATCH","DELETE"];new Set(DE);var kw=["GET",...DE];new Set(kw);var bo=L.createContext(null);bo.displayName="DataRouter";var Uh=L.createContext(null);Uh.displayName="DataRouterState";var Lw=L.createContext(!1),ME=L.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var Pw=L.createContext(new Map);Pw.displayName="Fetchers";var Uw=L.createContext(null);Uw.displayName="Await";var An=L.createContext(null);An.displayName="Navigation";var au=L.createContext(null);au.displayName="Location";var ai=L.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var dp=L.createContext(null);dp.displayName="RouteError";var OE="REACT_ROUTER_ERROR",zw="REDIRECT",Bw="ROUTE_ERROR_RESPONSE";function Hw(s){if(s.startsWith(`${OE}:${zw}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qw(s){if(s.startsWith(`${OE}:${Bw}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Ow(e.status,e.statusText,e.data)}catch{}}function Fw(s,{relative:e}={}){ht(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(An),{hash:o,pathname:u,search:h}=ou(s,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:us([n,u])),r.createHref({pathname:m,search:h,hash:o})}function To(){return L.useContext(au)!=null}function gs(){return ht(To(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(au).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jE(s){L.useContext(An).static||L.useLayoutEffect(s)}function ua(){let{isDataRoute:s}=L.useContext(ai);return s?iA():Gw()}function Gw(){ht(To(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(bo),{basename:e,navigator:n}=L.useContext(An),{matches:r}=L.useContext(ai),{pathname:o}=gs(),u=JSON.stringify(hp(r)),h=L.useRef(!1);return jE(()=>{h.current=!0}),L.useCallback((g,p={})=>{if(qn(h.current,VE),!h.current)return;if(typeof g=="number"){n.go(g);return}let b=fp(g,JSON.parse(u),o,p.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:us([e,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[e,n,u,o,s])}L.createContext(null);function kE(){let{matches:s}=L.useContext(ai),e=s[s.length-1];return e?e.params:{}}function ou(s,{relative:e}={}){let{matches:n}=L.useContext(ai),{pathname:r}=gs(),o=JSON.stringify(hp(n));return L.useMemo(()=>fp(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function Yw(s,e){return LE(s,e)}function LE(s,e,n,r,o){ht(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(An),{matches:h}=L.useContext(ai),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";UE(p,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=gs(),C;if(e){let ne=typeof e=="string"?la(e):e;ht(b==="/"||ne.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),C=ne}else C=A;let Q=C.pathname||"/",$=Q;if(b!=="/"){let ne=b.replace(/^\//,"").split("/");$="/"+Q.replace(/^\//,"").split("/").slice(ne.length).join("/")}let K=xE(s,{pathname:$});qn(T||K!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),qn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=Jw(K&&K.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:us([b,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?b:us([b,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,r,o);return e&&ie?L.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},ie):ie}function Qw(){let s=nA(),e=Vw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var Kw=L.createElement(Qw,null),PE=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=qw(s.digest);n&&(s=n)}let e=s!==void 0?L.createElement(ai.Provider,{value:this.props.routeContext},L.createElement(dp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?L.createElement($w,{error:s},e):e}};PE.contextType=Lw;var vm=new WeakMap;function $w({children:s,error:e}){let{basename:n}=L.useContext(An);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Hw(e.digest);if(r){let o=vm.get(e);if(o)throw o;let u=IE(r.location,n);if(NE&&!vm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw vm.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Xw({routeContext:s,match:e,children:n}){let r=L.useContext(bo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ai.Provider,{value:s},n)}function Jw(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,h=n?.errors;if(h!=null){let b=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ht(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,g=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=b),T.route.id){let{loaderData:A,errors:C}=n,Q=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||Q){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&r?(b,T)=>{r(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:jw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,A)=>{let C,Q=!1,$=null,K=null;n&&(C=h&&T.route.id?h[T.route.id]:void 0,$=T.route.errorElement||Kw,m&&(g<0&&A===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,K=null):g===A&&(Q=!0,K=T.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,A+1)),ne=()=>{let se;return C?se=$:Q?se=K:T.route.Component?se=L.createElement(T.route.Component,null):T.route.element?se=T.route.element:se=b,L.createElement(Xw,{match:T,routeContext:{outlet:b,matches:ie,isDataRoute:n!=null},children:se})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?L.createElement(PE,{location:n.location,revalidation:n.revalidation,component:$,error:C,children:ne(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:p}):ne()},null)}function mp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zw(s){let e=L.useContext(bo);return ht(e,mp(s)),e}function Ww(s){let e=L.useContext(Uh);return ht(e,mp(s)),e}function eA(s){let e=L.useContext(ai);return ht(e,mp(s)),e}function pp(s){let e=eA(s),n=e.matches[e.matches.length-1];return ht(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function tA(){return pp("useRouteId")}function nA(){let s=L.useContext(dp),e=Ww("useRouteError"),n=pp("useRouteError");return s!==void 0?s:e.errors?.[n]}function iA(){let{router:s}=Zw("useNavigate"),e=pp("useNavigate"),n=L.useRef(!1);return jE(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{qn(n.current,VE),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var G_={};function UE(s,e,n){!e&&!G_[s]&&(G_[s]=!0,qn(!1,n))}L.memo(sA);function sA({routes:s,future:e,state:n,onError:r}){return LE(s,void 0,n,r,e)}function rA({to:s,replace:e,state:n,relative:r}){ht(To(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(An);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ai),{pathname:h}=gs(),m=ua(),g=fp(s,hp(u),h,r==="path"),p=JSON.stringify(g);return L.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:r})},[m,p,r,e,n]),null}function rs(s){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aA({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ht(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=la(n));let{pathname:p="/",search:b="",hash:T="",state:A=null,key:C="default"}=n,Q=L.useMemo(()=>{let $=cs(p,m);return $==null?null:{location:{pathname:$,search:b,hash:T,state:A,key:C},navigationType:r}},[m,p,b,T,A,C,r]);return qn(Q!=null,`<Router basename="${m}"> is not able to match the URL "${p}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:L.createElement(An.Provider,{value:g},L.createElement(au.Provider,{children:e,value:Q}))}function oA({children:s,location:e}){return Yw(km(s),e)}function km(s,e=[]){let n=[];return L.Children.forEach(s,(r,o)=>{if(!L.isValidElement(r))return;let u=[...e,o];if(r.type===L.Fragment){n.push.apply(n,km(r.props.children,u));return}ht(r.type===rs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=km(r.props.children,u)),n.push(h)}),n}var ih="get",sh="application/x-www-form-urlencoded";function zh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function lA(s){return zh(s)&&s.tagName.toLowerCase()==="button"}function uA(s){return zh(s)&&s.tagName.toLowerCase()==="form"}function cA(s){return zh(s)&&s.tagName.toLowerCase()==="input"}function hA(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function fA(s,e){return s.button===0&&(!e||e==="_self")&&!hA(s)}var $c=null;function dA(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var mA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(s){return s!=null&&!mA.has(s)?(qn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):s}function pA(s,e){let n,r,o,u,h;if(uA(s)){let m=s.getAttribute("action");r=m?cs(m,e):null,n=s.getAttribute("method")||ih,o=_m(s.getAttribute("enctype"))||sh,u=new FormData(s)}else if(lA(s)||cA(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||m.getAttribute("action");if(r=g?cs(g,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||ih,o=_m(s.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||sh,u=new FormData(m,s),!dA()){let{name:p,type:b,value:T}=s;if(b==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,T)}}else{if(zh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,r=null,o=sh,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function gA(s,e,n,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&cs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function yA(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vA(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function _A(s,e,n){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await yA(u,n);return h.links?h.links():[]}return[]}));return SA(r.flat(1).filter(vA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Y_(s,e,n,r,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let b=r.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function EA(s,e,{includeHydrateFallback:n}={}){return bA(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function bA(s){return[...new Set(s)]}function TA(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function SA(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(TA(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function zE(){let s=L.useContext(bo);return gp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function wA(){let s=L.useContext(Uh);return gp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var yp=L.createContext(void 0);yp.displayName="FrameworkContext";function BE(){let s=L.useContext(yp);return gp(s,"You must render this element inside a <HydratedRouter> element"),s}function AA(s,e){let n=L.useContext(yp),[r,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:b,onTouchStart:T}=e,A=L.useRef(null);L.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let $=ie=>{ie.forEach(ne=>{h(ne.isIntersecting)})},K=new IntersectionObserver($,{threshold:.5});return A.current&&K.observe(A.current),()=>{K.disconnect()}}},[s]),L.useEffect(()=>{if(r){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[r]);let C=()=>{o(!0)},Q=()=>{o(!1),h(!1)};return n?s!=="intent"?[u,A,{}]:[u,A,{onFocus:kl(m,C),onBlur:kl(g,Q),onMouseEnter:kl(p,C),onMouseLeave:kl(b,Q),onTouchStart:kl(T,C)}]:[!1,A,{}]}function kl(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function xA({page:s,...e}){let{router:n}=zE(),r=L.useMemo(()=>xE(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?L.createElement(CA,{page:s,matches:r,...e}):null}function RA(s){let{manifest:e,routeModules:n}=BE(),[r,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return _A(s,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[s,e,n]),r}function CA({page:s,matches:e,...n}){let r=gs(),{future:o,manifest:u,routeModules:h}=BE(),{basename:m}=zE(),{loaderData:g,matches:p}=wA(),b=L.useMemo(()=>Y_(s,e,p,u,r,"data"),[s,e,p,u,r]),T=L.useMemo(()=>Y_(s,e,p,u,r,"assets"),[s,e,p,u,r]),A=L.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let $=new Set,K=!1;if(e.forEach(ne=>{let se=u.routes[ne.route.id];!se||!se.hasLoader||(!b.some(ve=>ve.route.id===ne.route.id)&&ne.route.id in g&&h[ne.route.id]?.shouldRevalidate||se.hasClientLoader?K=!0:$.add(ne.route.id))}),$.size===0)return[];let ie=gA(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return K&&$.size>0&&ie.searchParams.set("_routes",e.filter(ne=>$.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,r,u,b,e,s,h]),C=L.useMemo(()=>EA(T,u),[T,u]),Q=RA(T);return L.createElement(L.Fragment,null,A.map($=>L.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),C.map($=>L.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),Q.map(({key:$,link:K})=>L.createElement("link",{key:$,nonce:n.nonce,...K,crossOrigin:K.crossOrigin??n.crossOrigin})))}function NA(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IA&&(window.__reactRouterVersion="7.13.0")}catch{}function DA({basename:s,children:e,unstable_useTransitions:n,window:r}){let o=L.useRef();o.current==null&&(o.current=cw({window:r,v5Compat:!0}));let u=o.current,[h,m]=L.useState({action:u.action,location:u.location}),g=L.useCallback(p=>{n===!1?m(p):L.startTransition(()=>m(p))},[n]);return L.useLayoutEffect(()=>u.listen(g),[u,g]),L.createElement(aA,{basename:s,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lu=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:A,...C},Q){let{basename:$,unstable_useTransitions:K}=L.useContext(An),ie=typeof p=="string"&&HE.test(p),ne=IE(p,$);p=ne.to;let se=Fw(p,{relative:o}),[ve,Ae,Te]=AA(r,C),I=jA(p,{replace:h,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:K});function R(j){e&&e(j),j.defaultPrevented||I(j)}let N=L.createElement("a",{...C,...Te,href:ne.absoluteURL||se,onClick:ne.isExternal||u?e:R,ref:NA(Q,Ae),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return ve&&!ie?L.createElement(L.Fragment,null,N,L.createElement(xA,{page:se})):N});lu.displayName="Link";var MA=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},b){let T=ou(h,{relative:p.relative}),A=gs(),C=L.useContext(Uh),{navigator:Q,basename:$}=L.useContext(An),K=C!=null&&zA(T)&&m===!0,ie=Q.encodeLocation?Q.encodeLocation(T).pathname:T.pathname,ne=A.pathname,se=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),se=se?se.toLowerCase():null,ie=ie.toLowerCase()),se&&$&&(se=cs(se,$)||se);const ve=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let Ae=ne===ie||!o&&ne.startsWith(ie)&&ne.charAt(ve)==="/",Te=se!=null&&(se===ie||!o&&se.startsWith(ie)&&se.charAt(ie.length)==="/"),I={isActive:Ae,isPending:Te,isTransitioning:K},R=Ae?e:void 0,N;typeof r=="function"?N=r(I):N=[r,Ae?"active":null,Te?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(I):u;return L.createElement(lu,{...p,"aria-current":R,className:N,ref:b,style:j,to:h,viewTransition:m},typeof g=="function"?g(I):g)});MA.displayName="NavLink";var OA=L.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=ih,action:m,onSubmit:g,relative:p,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:A,...C},Q)=>{let{unstable_useTransitions:$}=L.useContext(An),K=PA(),ie=UA(m,{relative:p}),ne=h.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&HE.test(m),ve=Ae=>{if(g&&g(Ae),Ae.defaultPrevented)return;Ae.preventDefault();let Te=Ae.nativeEvent.submitter,I=Te?.getAttribute("formmethod")||h,R=()=>K(Te||Ae.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:p,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:A});$&&n!==!1?L.startTransition(()=>R()):R()};return L.createElement("form",{ref:Q,method:ne,action:ie,onSubmit:r?g:ve,...C,"data-discover":!se&&s==="render"?"true":void 0})});OA.displayName="Form";function VA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(s){let e=L.useContext(bo);return ht(e,VA(s)),e}function jA(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=ua(),b=gs(),T=ou(s,{relative:u});return L.useCallback(A=>{if(fA(A,e)){A.preventDefault();let C=n!==void 0?n:$l(b)===$l(T),Q=()=>p(s,{replace:C,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?L.startTransition(()=>Q()):Q()}},[b,p,T,n,r,e,s,o,u,h,m,g])}var kA=0,LA=()=>`__${String(++kA)}__`;function PA(){let{router:s}=qE("useSubmit"),{basename:e}=L.useContext(An),n=tA(),r=s.fetch,o=s.navigate;return L.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:b,body:T}=pA(u,e);if(h.navigate===!1){let A=h.fetcherKey||LA();await r(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,e,n])}function UA(s,{relative:e}={}){let{basename:n}=L.useContext(An),r=L.useContext(ai);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...ou(s||".",{relative:e})},h=gs();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:us([n,u.pathname])),$l(u)}function zA(s,{relative:e}={}){let n=L.useContext(ME);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qE("useViewTransitionState"),o=ou(s,{relative:e});if(!n.isTransitioning)return!1;let u=cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gh(o.pathname,h)!=null||gh(o.pathname,u)!=null}let BA={data:""},HA=s=>{if(typeof window=="object"){let e=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(s||document.head).appendChild(e),e.firstChild}return s||BA},qA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,FA=/\/\*[^]*?\*\/|  +/g,Q_=/\n+/g,Zs=(s,e)=>{let n="",r="",o="";for(let u in s){let h=s[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":r+=u[1]=="f"?Zs(h,u):u+"{"+Zs(h,u[1]=="k"?"":e)+"}":typeof h=="object"?r+=Zs(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,m):m?m+" "+g:g)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Zs.p?Zs.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+r},ss={},FE=s=>{if(typeof s=="object"){let e="";for(let n in s)e+=n+FE(s[n]);return e}return s},GA=(s,e,n,r,o)=>{let u=FE(s),h=ss[u]||(ss[u]=(g=>{let p=0,b=11;for(;p<g.length;)b=101*b+g.charCodeAt(p++)>>>0;return"go"+b})(u));if(!ss[h]){let g=u!==s?s:(p=>{let b,T,A=[{}];for(;b=qA.exec(p.replace(FA,""));)b[4]?A.shift():b[3]?(T=b[3].replace(Q_," ").trim(),A.unshift(A[0][T]=A[0][T]||{})):A[0][b[1]]=b[2].replace(Q_," ").trim();return A[0]})(s);ss[h]=Zs(o?{["@keyframes "+h]:g}:g,n?"":"."+h)}let m=n&&ss.g?ss.g:null;return n&&(ss.g=ss[h]),((g,p,b,T)=>{T?p.data=p.data.replace(T,g):p.data.indexOf(g)===-1&&(p.data=b?g+p.data:p.data+g)})(ss[h],e,r,m),h},YA=(s,e,n)=>s.reduce((r,o,u)=>{let h=e[u];if(h&&h.call){let m=h(n),g=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=g?"."+g:m&&typeof m=="object"?m.props?"":Zs(m,""):m===!1?"":m}return r+o+(h??"")},"");function Bh(s){let e=this||{},n=s.call?s(e.p):s;return GA(n.unshift?n.raw?YA(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,HA(e.target),e.g,e.o,e.k)}let GE,Lm,Pm;Bh.bind({g:1});let hs=Bh.bind({k:1});function QA(s,e,n,r){Zs.p=e,GE=s,Lm=n,Pm=r}function yr(s,e){let n=this||{};return function(){let r=arguments;function o(u,h){let m=Object.assign({},u),g=m.className||o.className;n.p=Object.assign({theme:Lm&&Lm()},m),n.o=/ *go\d+/.test(g),m.className=Bh.apply(n,r)+(g?" "+g:"");let p=s;return s[0]&&(p=m.as||s,delete m.as),Pm&&p[0]&&Pm(m),GE(p,m)}return o}}var KA=s=>typeof s=="function",yh=(s,e)=>KA(s)?s(e):s,$A=(()=>{let s=0;return()=>(++s).toString()})(),YE=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s}})(),XA=20,vp="default",QE=(s,e)=>{let{toastLimit:n}=s.settings;switch(e.type){case 0:return{...s,toasts:[e.toast,...s.toasts].slice(0,n)};case 1:return{...s,toasts:s.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:r}=e;return QE(s,{type:s.toasts.find(h=>h.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=e;return{...s,toasts:s.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...s,pausedAt:e.time};case 6:let u=e.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},rh=[],KE={toasts:[],pausedAt:void 0,settings:{toastLimit:XA}},Ii={},$E=(s,e=vp)=>{Ii[e]=QE(Ii[e]||KE,s),rh.forEach(([n,r])=>{n===e&&r(Ii[e])})},XE=s=>Object.keys(Ii).forEach(e=>$E(s,e)),JA=s=>Object.keys(Ii).find(e=>Ii[e].toasts.some(n=>n.id===s)),Hh=(s=vp)=>e=>{$E(e,s)},ZA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},WA=(s={},e=vp)=>{let[n,r]=L.useState(Ii[e]||KE),o=L.useRef(Ii[e]);L.useEffect(()=>(o.current!==Ii[e]&&r(Ii[e]),rh.push([e,r]),()=>{let h=rh.findIndex(([m])=>m===e);h>-1&&rh.splice(h,1)}),[e]);let u=n.toasts.map(h=>{var m,g,p;return{...s,...s[h.type],...h,removeDelay:h.removeDelay||((m=s[h.type])==null?void 0:m.removeDelay)||s?.removeDelay,duration:h.duration||((g=s[h.type])==null?void 0:g.duration)||s?.duration||ZA[h.type],style:{...s.style,...(p=s[h.type])==null?void 0:p.style,...h.style}}});return{...n,toasts:u}},ex=(s,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...n,id:n?.id||$A()}),uu=s=>(e,n)=>{let r=ex(e,s,n);return Hh(r.toasterId||JA(r.id))({type:2,toast:r}),r.id},Be=(s,e)=>uu("blank")(s,e);Be.error=uu("error");Be.success=uu("success");Be.loading=uu("loading");Be.custom=uu("custom");Be.dismiss=(s,e)=>{let n={type:3,toastId:s};e?Hh(e)(n):XE(n)};Be.dismissAll=s=>Be.dismiss(void 0,s);Be.remove=(s,e)=>{let n={type:4,toastId:s};e?Hh(e)(n):XE(n)};Be.removeAll=s=>Be.remove(void 0,s);Be.promise=(s,e,n)=>{let r=Be.loading(e.loading,{...n,...n?.loading});return typeof s=="function"&&(s=s()),s.then(o=>{let u=e.success?yh(e.success,o):void 0;return u?Be.success(u,{id:r,...n,...n?.success}):Be.dismiss(r),o}).catch(o=>{let u=e.error?yh(e.error,o):void 0;u?Be.error(u,{id:r,...n,...n?.error}):Be.dismiss(r)}),s};var tx=1e3,nx=(s,e="default")=>{let{toasts:n,pausedAt:r}=WA(s,e),o=L.useRef(new Map).current,u=L.useCallback((T,A=tx)=>{if(o.has(T))return;let C=setTimeout(()=>{o.delete(T),h({type:4,toastId:T})},A);o.set(T,C)},[]);L.useEffect(()=>{if(r)return;let T=Date.now(),A=n.map(C=>{if(C.duration===1/0)return;let Q=(C.duration||0)+C.pauseDuration-(T-C.createdAt);if(Q<0){C.visible&&Be.dismiss(C.id);return}return setTimeout(()=>Be.dismiss(C.id,e),Q)});return()=>{A.forEach(C=>C&&clearTimeout(C))}},[n,r,e]);let h=L.useCallback(Hh(e),[e]),m=L.useCallback(()=>{h({type:5,time:Date.now()})},[h]),g=L.useCallback((T,A)=>{h({type:1,toast:{id:T,height:A}})},[h]),p=L.useCallback(()=>{r&&h({type:6,time:Date.now()})},[r,h]),b=L.useCallback((T,A)=>{let{reverseOrder:C=!1,gutter:Q=8,defaultPosition:$}=A||{},K=n.filter(se=>(se.position||$)===(T.position||$)&&se.height),ie=K.findIndex(se=>se.id===T.id),ne=K.filter((se,ve)=>ve<ie&&se.visible).length;return K.filter(se=>se.visible).slice(...C?[ne+1]:[0,ne]).reduce((se,ve)=>se+(ve.height||0)+Q,0)},[n]);return L.useEffect(()=>{n.forEach(T=>{if(T.dismissed)u(T.id,T.removeDelay);else{let A=o.get(T.id);A&&(clearTimeout(A),o.delete(T.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:g,startPause:m,endPause:p,calculateOffset:b}}},ix=hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sx=hs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rx=hs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ax=yr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ix} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ox=hs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lx=yr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${ox} 1s linear infinite;
`,ux=hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,cx=hs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hx=yr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ux} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${cx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fx=yr("div")`
  position: absolute;
`,dx=yr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mx=hs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,px=yr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gx=({toast:s})=>{let{icon:e,type:n,iconTheme:r}=s;return e!==void 0?typeof e=="string"?L.createElement(px,null,e):e:n==="blank"?null:L.createElement(dx,null,L.createElement(lx,{...r}),n!=="loading"&&L.createElement(fx,null,n==="error"?L.createElement(ax,{...r}):L.createElement(hx,{...r})))},yx=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,vx=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,_x="0%{opacity:0;} 100%{opacity:1;}",Ex="0%{opacity:1;} 100%{opacity:0;}",bx=yr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Tx=yr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Sx=(s,e)=>{let n=s.includes("top")?1:-1,[r,o]=YE()?[_x,Ex]:[yx(n),vx(n)];return{animation:e?`${hs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hs(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wx=L.memo(({toast:s,position:e,style:n,children:r})=>{let o=s.height?Sx(s.position||e||"top-center",s.visible):{opacity:0},u=L.createElement(gx,{toast:s}),h=L.createElement(Tx,{...s.ariaProps},yh(s.message,s));return L.createElement(bx,{className:s.className,style:{...o,...n,...s.style}},typeof r=="function"?r({icon:u,message:h}):L.createElement(L.Fragment,null,u,h))});QA(L.createElement);var Ax=({id:s,className:e,style:n,onHeightUpdate:r,children:o})=>{let u=L.useCallback(h=>{if(h){let m=()=>{let g=h.getBoundingClientRect().height;r(s,g)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[s,r]);return L.createElement("div",{ref:u,className:e,style:n},o)},xx=(s,e)=>{let n=s.includes("top"),r=n?{top:0}:{bottom:0},o=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:YE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},Rx=Bh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xc=16,Cx=({reverseOrder:s,position:e="top-center",toastOptions:n,gutter:r,children:o,toasterId:u,containerStyle:h,containerClassName:m})=>{let{toasts:g,handlers:p}=nx(n,u);return L.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Xc,left:Xc,right:Xc,bottom:Xc,pointerEvents:"none",...h},className:m,onMouseEnter:p.startPause,onMouseLeave:p.endPause},g.map(b=>{let T=b.position||e,A=p.calculateOffset(b,{reverseOrder:s,gutter:r,defaultPosition:e}),C=xx(T,A);return L.createElement(Ax,{id:b.id,key:b.id,onHeightUpdate:p.updateHeight,className:b.visible?Rx:"",style:C},b.type==="custom"?yh(b.message,b):o?o(b):L.createElement(wx,{toast:b,position:T}))}))};const Nx=()=>{};var K_={};const JE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ix=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],h=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],h=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,m=h?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,C=p&63;g||(C=64,h||(A=64)),r.push(n[b],n[T],n[A],n[C])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(JE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Ix(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const T=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||p==null||T==null)throw new Dx;const A=u<<2|m>>4;if(r.push(A),p!==64){const C=m<<4&240|p>>2;if(r.push(C),T!==64){const Q=p<<6&192|T;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Dx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mx=function(s){const e=JE(s);return ZE.encodeByteArray(e,!0)},vh=function(s){return Mx(s).replace(/\./g,"")},WE=function(s){try{return ZE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Vx=()=>Ox().__FIREBASE_DEFAULTS__,jx=()=>{if(typeof process>"u"||typeof K_>"u")return;const s=K_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},kx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&WE(s[1]);return e&&JSON.parse(e)},qh=()=>{try{return Nx()||Vx()||jx()||kx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},e1=s=>qh()?.emulatorHosts?.[s],Lx=s=>{const e=e1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},t1=()=>qh()?.config,n1=s=>qh()?.[`_${s}`];class Px{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function So(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i1(s){return(await fetch(s,{credentials:"include"})).ok}function Ux(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[vh(JSON.stringify(n)),vh(JSON.stringify(h)),""].join(".")}const ql={};function zx(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function Bx(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let $_=!1;function s1(s,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||ql[s]===e||ql[s]||$_)return;ql[s]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=zx().prod.length>0;function h(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,C){A.setAttribute("width","24"),A.setAttribute("id",C),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{$_=!0,h()},A}function b(A,C){A.setAttribute("id",C),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=Bx(r),C=n("text"),Q=document.getElementById(C)||document.createElement("span"),$=n("learnmore"),K=document.getElementById($)||document.createElement("a"),ie=n("preprendIcon"),ne=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const se=A.element;m(se),b(K,$);const ve=p();g(ne,ie),se.append(ne,Q,K,ve),document.body.appendChild(se)}u?(Q.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function qx(){const s=qh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Yx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qx(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Kx(){return!qx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $x(){try{return typeof indexedDB=="object"}catch{return!1}}function Xx(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Jx="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Jx,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Zx(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ys(o,m,r)}}function Zx(s,e){return s.replace(Wx,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Wx=/\{\$([^}]+)}/g;function e2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ia(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],h=e[o];if(X_(u)&&X_(h)){if(!ia(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function X_(s){return s!==null&&typeof s=="object"}function hu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function t2(s,e){const n=new n2(s,e);return n.subscribe.bind(n)}class n2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i2(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Em(){}function $t(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jr="[DEFAULT]";class s2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Px;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a2(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r2(s){return s===Jr?void 0:s}function a2(s){return s.instantiationMode==="EAGER"}class o2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(je||(je={}));const l2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},u2=je.INFO,c2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},h2=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=c2[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=u2,this._logHandler=h2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const f2=(s,e)=>e.some(n=>s instanceof n);let J_,Z_;function d2(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m2(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r1=new WeakMap,Um=new WeakMap,a1=new WeakMap,bm=new WeakMap,Ep=new WeakMap;function p2(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{n(sr(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&r1.set(n,s)}).catch(()=>{}),Ep.set(e,s),e}function g2(s){if(Um.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Um.set(s,e)}let zm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Um.get(s);if(e==="objectStoreNames")return s.objectStoreNames||a1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function y2(s){zm=s(zm)}function v2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Tm(this),e,...n);return a1.set(r,e.sort?e.sort():[e]),sr(r)}:m2().includes(s)?function(...e){return s.apply(Tm(this),e),sr(r1.get(this))}:function(...e){return sr(s.apply(Tm(this),e))}}function _2(s){return typeof s=="function"?v2(s):(s instanceof IDBTransaction&&g2(s),f2(s,d2())?new Proxy(s,zm):s)}function sr(s){if(s instanceof IDBRequest)return p2(s);if(bm.has(s))return bm.get(s);const e=_2(s);return e!==s&&(bm.set(s,e),Ep.set(e,s)),e}const Tm=s=>Ep.get(s);function E2(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,e),m=sr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(sr(h.result),g.oldVersion,g.newVersion,sr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const b2=["get","getKey","getAll","getAllKeys","count"],T2=["put","add","delete","clear"],Sm=new Map;function W_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=T2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||b2.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Sm.set(e,u),u}y2(s=>({...s,get:(e,n,r)=>W_(e,n)||s.get(e,n,r),has:(e,n)=>!!W_(e,n)||s.has(e,n)}));class S2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w2(s){return s.getComponent()?.type==="VERSION"}const Bm="@firebase/app",e0="0.14.7";const fs=new _p("@firebase/app"),A2="@firebase/app-compat",x2="@firebase/analytics-compat",R2="@firebase/analytics",C2="@firebase/app-check-compat",N2="@firebase/app-check",I2="@firebase/auth",D2="@firebase/auth-compat",M2="@firebase/database",O2="@firebase/data-connect",V2="@firebase/database-compat",j2="@firebase/functions",k2="@firebase/functions-compat",L2="@firebase/installations",P2="@firebase/installations-compat",U2="@firebase/messaging",z2="@firebase/messaging-compat",B2="@firebase/performance",H2="@firebase/performance-compat",q2="@firebase/remote-config",F2="@firebase/remote-config-compat",G2="@firebase/storage",Y2="@firebase/storage-compat",Q2="@firebase/firestore",K2="@firebase/ai",$2="@firebase/firestore-compat",X2="firebase",J2="12.8.0";const Hm="[DEFAULT]",Z2={[Bm]:"fire-core",[A2]:"fire-core-compat",[R2]:"fire-analytics",[x2]:"fire-analytics-compat",[N2]:"fire-app-check",[C2]:"fire-app-check-compat",[I2]:"fire-auth",[D2]:"fire-auth-compat",[M2]:"fire-rtdb",[O2]:"fire-data-connect",[V2]:"fire-rtdb-compat",[j2]:"fire-fn",[k2]:"fire-fn-compat",[L2]:"fire-iid",[P2]:"fire-iid-compat",[U2]:"fire-fcm",[z2]:"fire-fcm-compat",[B2]:"fire-perf",[H2]:"fire-perf-compat",[q2]:"fire-rc",[F2]:"fire-rc-compat",[G2]:"fire-gcs",[Y2]:"fire-gcs-compat",[Q2]:"fire-fst",[$2]:"fire-fst-compat",[K2]:"fire-vertex","fire-js":"fire-js",[X2]:"fire-js-all"};const _h=new Map,W2=new Map,qm=new Map;function t0(s,e){try{s.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function fo(s){const e=s.name;if(qm.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,s);for(const n of _h.values())t0(n,s);for(const n of W2.values())t0(n,s);return!0}function bp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ni(s){return s==null?!1:s.settings!==void 0}const eR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new cu("app","Firebase",eR);class tR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const wo=J2;function o1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Hm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(n||(n=t1()),!n)throw rr.create("no-options");const u=_h.get(o);if(u){if(ia(n,u.options)&&ia(r,u.config))return u;throw rr.create("duplicate-app",{appName:o})}const h=new o2(o);for(const g of qm.values())h.addComponent(g);const m=new tR(n,r,h);return _h.set(o,m),m}function l1(s=Hm){const e=_h.get(s);if(!e&&s===Hm&&t1())return o1();if(!e)throw rr.create("no-app",{appName:s});return e}function ar(s,e,n){let r=Z2[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(h.join(" "));return}fo(new sa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const nR="firebase-heartbeat-database",iR=1,Xl="firebase-heartbeat-store";let wm=null;function u1(){return wm||(wm=E2(nR,iR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),wm}async function sR(s){try{const n=(await u1()).transaction(Xl),r=await n.objectStore(Xl).get(c1(s));return await n.done,r}catch(e){if(e instanceof ys)fs.warn(e.message);else{const n=rr.create("idb-get",{originalErrorMessage:e?.message});fs.warn(n.message)}}}async function n0(s,e){try{const r=(await u1()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,c1(s)),await r.done}catch(n){if(n instanceof ys)fs.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n?.message});fs.warn(r.message)}}}function c1(s){return`${s.name}!${s.options.appId}`}const rR=1024,aR=30;class oR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=i0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>aR){const o=cR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=i0(),{heartbeatsToSend:n,unsentEntries:r}=lR(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fs.warn(e),""}}}function i0(){return new Date().toISOString().substring(0,10)}function lR(s,e=rR){const n=[];let r=s.slice();for(const o of s){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),s0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),s0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $x()?Xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function s0(s){return vh(JSON.stringify({version:2,heartbeats:s})).length}function cR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function hR(s){fo(new sa("platform-logger",e=>new S2(e),"PRIVATE")),fo(new sa("heartbeat",e=>new oR(e),"PRIVATE")),ar(Bm,e0,s),ar(Bm,e0,"esm2020"),ar("fire-js","")}hR("");var fR="firebase",dR="12.8.0";ar(fR,dR,"app");function h1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mR=h1,f1=new cu("auth","Firebase",h1());const Eh=new _p("@firebase/auth");function pR(s,...e){Eh.logLevel<=je.WARN&&Eh.warn(`Auth (${wo}): ${s}`,...e)}function ah(s,...e){Eh.logLevel<=je.ERROR&&Eh.error(`Auth (${wo}): ${s}`,...e)}function ji(s,...e){throw Sp(s,...e)}function si(s,...e){return Sp(s,...e)}function Tp(s,e,n){const r={...mR(),[e]:n};return new cu("auth","Firebase",r).create(e,{appName:s.name})}function ea(s){return Tp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gR(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ji(s,"argument-error"),Tp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return f1.create(s,...e)}function _e(s,e,...n){if(!s)throw Sp(e,...n)}function os(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ah(e),new Error(e)}function ds(s,e){s||os(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function yR(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}function vR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yR()||Gx()||"connection"in navigator)?navigator.onLine:!0}function _R(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=Hx()||Yx()}get(){return vR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wp(s,e){ds(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class d1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ER={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TR=new fu(3e4,6e4);function Ap(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ao(s,e,n,r,o={}){return m1(s,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const m=hu({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:g,...u};return Fx()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&So(s.emulatorConfig.host)&&(p.credentials="include"),d1.fetch()(await p1(s,s.config.apiHost,n,m),p)})}async function m1(s,e,n){s._canInitEmulator=!1;const r={...ER,...e};try{const o=new wR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Jc(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Jc(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw Jc(s,"user-disabled",h);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Tp(s,b,p);ji(s,b)}}catch(o){if(o instanceof ys)throw o;ji(s,"network-request-failed",{message:String(o)})}}async function SR(s,e,n,r,o={}){const u=await Ao(s,e,n,r,o);return"mfaPendingCredential"in u&&ji(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function p1(s,e,n,r){const o=`${e}${n}?${r}`,u=s,h=u.config.emulator?wp(s.config,o):`${s.config.apiScheme}://${o}`;return bR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class wR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),TR.get())})}}function Jc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=si(s,e,r);return o.customData._tokenResponse=n,o}async function AR(s,e){return Ao(s,"POST","/v1/accounts:delete",e)}async function bh(s,e){return Ao(s,"POST","/v1/accounts:lookup",e)}function Fl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xR(s,e=!1){const n=$t(s),r=await n.getIdToken(e),o=xp(r);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:Fl(Am(o.auth_time)),issuedAtTime:Fl(Am(o.iat)),expirationTime:Fl(Am(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Am(s){return Number(s)*1e3}function xp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=WE(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a0(s){const e=xp(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&RR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function RR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class CR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Th(s){const e=s.auth,n=await s.getIdToken(),r=await Jl(s,bh(e,{idToken:n}));_e(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?g1(o.providerUserInfo):[],h=IR(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,p=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,b)}async function NR(s){const e=$t(s);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IR(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function g1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function DR(s,e){const n=await m1(s,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await p1(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&So(s.emulatorConfig.host)&&(g.credentials="include"),d1.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MR(s,e){return Ao(s,"POST","/v2/accounts:revokeToken",Ap(s,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=a0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await DR(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,h=new ao;return r&&(_e(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return os("not implemented")}}function Js(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new CR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xR(this,e)}reload(){return NR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(ea(this.auth));const e=await this.getIdToken();return await Jl(this,AR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:C,providerData:Q,stsTokenManager:$}=n;_e(T&&$,e,"internal-error");const K=ao.fromJSON(this.name,$);_e(typeof T=="string",e,"internal-error"),Js(r,e.name),Js(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof C=="boolean",e,"internal-error"),Js(u,e.name),Js(h,e.name),Js(m,e.name),Js(g,e.name),Js(p,e.name),Js(b,e.name);const ie=new ii({uid:T,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:C,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:p,lastLoginAt:b});return Q&&Array.isArray(Q)&&(ie.providerData=Q.map(ne=>({...ne}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,r=!1){const o=new ao;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Th(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?g1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(r);const g=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const o0=new Map;function ls(s){ds(s instanceof Function,"Expected a class definition");let e=o0.get(s);return e?(ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,o0.set(s,e),e)}class y1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y1.type="NONE";const l0=y1;function oh(s,e,n){return`firebase:${s}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(ls(l0),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ls(l0);const h=oh(r,e.config.apiKey,e.name);let m=null;for(const p of n)try{const b=await p._get(h);if(b){let T;if(typeof b=="string"){const A=await bh(e,{idToken:b}).catch(()=>{});if(!A)break;T=await ii._fromGetAccountInfoResponse(e,A,b)}else T=ii._fromJSON(e,b);p!==u&&(m=T),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new oo(u,e,r):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new oo(u,e,r))}}function u0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S1(e))return"Blackberry";if(w1(e))return"Webos";if(_1(e))return"Safari";if((e.includes("chrome/")||E1(e))&&!e.includes("edge/"))return"Chrome";if(T1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function v1(s=tn()){return/firefox\//i.test(s)}function _1(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E1(s=tn()){return/crios\//i.test(s)}function b1(s=tn()){return/iemobile/i.test(s)}function T1(s=tn()){return/android/i.test(s)}function S1(s=tn()){return/blackberry/i.test(s)}function w1(s=tn()){return/webos/i.test(s)}function Rp(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function OR(s=tn()){return Rp(s)&&!!window.navigator?.standalone}function VR(){return Qx()&&document.documentMode===10}function A1(s=tn()){return Rp(s)||T1(s)||w1(s)||S1(s)||/windows phone/i.test(s)||b1(s)}function x1(s,e=[]){let n;switch(s){case"Browser":n=u0(tn());break;case"Worker":n=`${u0(tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${r}`}class jR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function kR(s,e={}){return Ao(s,"GET","/v2/passwordPolicy",Ap(s,e))}const LR=6;class PR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class UR{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new jR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(ea(this));const n=e?$t(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kR(this),n=new PR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fh(s){return $t(s)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=t2(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zR(s){Cp=s}function BR(s){return Cp.loadJS(s)}function HR(){return Cp.gapiScript}function qR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function FR(s,e){const n=bp(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ia(u,e??{}))return o;ji(o,"already-initialized")}return n.initialize({options:e})}function GR(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ls);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function YR(s,e,n){const r=Fh(s);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=R1(e),{host:h,port:m}=QR(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(ia(p,r.config.emulator)&&ia(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,So(h)?(i1(`${u}//${h}${g}`),s1("Auth",!0)):KR()}function R1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function QR(s){const e=R1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:h0(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:h0(h)}}}function h0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function KR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class C1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,n){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function lo(s,e){return SR(s,"POST","/v1/accounts:signInWithIdp",Ap(s,e))}const $R="http://localhost";class ra extends C1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const h=new ra(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:$R,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}class Np{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends Np{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ws extends du{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class as extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return as.credential(n,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";class er extends du{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class tr extends du{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ii._fromIdTokenResponse(e,r,o),h=f0(r);return new mo({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=f0(r);return new mo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function f0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Sh extends ys{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Sh(e,n,r,o)}}function N1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(s,u,e,r):u})}async function XR(s,e,n=!1){const r=await Jl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return mo._forOperation(s,"link",r)}async function JR(s,e,n=!1){const{auth:r}=s;if(ni(r.app))return Promise.reject(ea(r));const o="reauthenticate";try{const u=await Jl(s,N1(r,o,e,s),n);_e(u.idToken,r,"internal-error");const h=xp(u.idToken);_e(h,r,"internal-error");const{sub:m}=h;return _e(s.uid===m,r,"user-mismatch"),mo._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ji(r,"user-mismatch"),u}}async function ZR(s,e,n=!1){if(ni(s.app))return Promise.reject(ea(s));const r="signIn",o=await N1(s,r,e),u=await mo._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function WR(s,e,n,r){return $t(s).onIdTokenChanged(e,n,r)}function eC(s,e,n){return $t(s).beforeAuthStateChanged(e,n)}function tC(s,e,n,r){return $t(s).onAuthStateChanged(e,n,r)}function nC(s){return $t(s).signOut()}const wh="__sak";class I1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const iC=1e3,sC=10;class D1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);VR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sC):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}D1.type="LOCAL";const rC=D1;class M1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M1.type="SESSION";const O1=M1;function aC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await aC(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Ip(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class oC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Ip("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Di(){return window}function lC(s){Di().location.href=s}function V1(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function uC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cC(){return navigator?.serviceWorker?.controller||null}function hC(){return V1()?self:null}const j1="firebaseLocalStorageDb",fC=1,Ah="firebaseLocalStorage",k1="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(s,e){return s.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function dC(){const s=indexedDB.deleteDatabase(j1);return new mu(s).toPromise()}function Ym(){const s=indexedDB.open(j1,fC);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Ah,{keyPath:k1})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await dC(),e(await Ym()))})})}async function d0(s,e,n){const r=Yh(s,!0).put({[k1]:e,value:n});return new mu(r).toPromise()}async function mC(s,e){const n=Yh(s,!1).get(e),r=await new mu(n).toPromise();return r===void 0?null:r.value}function m0(s,e){const n=Yh(s,!0).delete(e);return new mu(n).toPromise()}const pC=800,gC=3;class L1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(hC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uC(),!this.activeServiceWorker)return;this.sender=new oC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await d0(e,wh,"1"),await m0(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L1.type="LOCAL";const yC=L1;new fu(3e4,6e4);function P1(s,e){return e?ls(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Dp extends C1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vC(s){return ZR(s.auth,new Dp(s),s.bypassAuthState)}function _C(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),JR(n,new Dp(s),s.bypassAuthState)}async function EC(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),XR(n,new Dp(s),s.bypassAuthState)}class U1{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vC;case"linkViaPopup":case"linkViaRedirect":return EC;case"reauthViaPopup":case"reauthViaRedirect":return _C;default:ji(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bC=new fu(2e3,1e4);async function TC(s,e,n){if(ni(s.app))return Promise.reject(si(s,"operation-not-supported-in-this-environment"));const r=Fh(s);gR(s,e,Np);const o=P1(r,n);return new Zr(r,"signInViaPopup",e,o).executeNotNull()}class Zr extends U1{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bC.get())};e()}}Zr.currentPopupAction=null;const SC="pendingRedirect",lh=new Map;class wC extends U1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const r=await AC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AC(s,e){const n=CC(e),r=RC(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function xC(s,e){lh.set(s._key(),e)}function RC(s){return ls(s._redirectPersistence)}function CC(s){return oh(SC,s.config.apiKey,s.name)}async function NC(s,e,n=!1){if(ni(s.app))return Promise.reject(ea(s));const r=Fh(s),o=P1(r,e),h=await new wC(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const IC=600*1e3;class DC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!z1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IC&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(e))}saveEventToCache(e){this.cachedEventUids.add(p0(e)),this.lastProcessedEventTime=Date.now()}}function p0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function z1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function MC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z1(s);default:return!1}}async function OC(s,e={}){return Ao(s,"GET","/v1/projects",e)}const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jC=/^https?/;async function kC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await OC(s);for(const n of e)try{if(LC(n))return}catch{}ji(s,"unauthorized-domain")}function LC(s){const e=Fm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!jC.test(n))return!1;if(VC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const PC=new fu(3e4,6e4);function g0(){const s=Di().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function UC(s){return new Promise((e,n)=>{function r(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),n(si(s,"network-request-failed"))},timeout:PC.get()})}if(Di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Di().gapi?.load)r();else{const o=qR("iframefcb");return Di()[o]=()=>{gapi.load?r():n(si(s,"network-request-failed"))},BR(`${HR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw uh=null,e})}let uh=null;function zC(s){return uh=uh||UC(s),uh}const BC=new fu(5e3,15e3),HC="__/auth/iframe",qC="emulator/auth/iframe",FC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YC(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?wp(e,qC):`https://${s.config.authDomain}/${HC}`,r={apiKey:e.apiKey,appName:s.name,v:wo},o=GC.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${hu(r).slice(1)}`}async function QC(s){const e=await zC(s),n=Di().gapi;return _e(n,s,"internal-error"),e.open({where:document.body,url:YC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FC,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=si(s,"network-request-failed"),m=Di().setTimeout(()=>{u(h)},BC.get());function g(){Di().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(h)})}))}const KC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$C=500,XC=600,JC="_blank",ZC="http://localhost";class y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WC(s,e,n,r=$C,o=XC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...KC,width:r.toString(),height:o.toString(),top:u,left:h},p=tn().toLowerCase();n&&(m=E1(p)?JC:n),v1(p)&&(e=e||ZC,g.scrollbars="yes");const b=Object.entries(g).reduce((A,[C,Q])=>`${A}${C}=${Q},`,"");if(OR(p)&&m!=="_self")return eN(e||"",m),new y0(null);const T=window.open(e||"",m,b);_e(T,s,"popup-blocked");try{T.focus()}catch{}return new y0(T)}function eN(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const tN="__/auth/handler",nN="emulator/auth/handler",iN=encodeURIComponent("fac");async function v0(s,e,n,r,o,u){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:wo,eventId:o};if(e instanceof Np){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",e2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof du){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await s._getAppCheckToken(),p=g?`#${iN}=${encodeURIComponent(g)}`:"";return`${sN(s)}?${hu(m).slice(1)}${p}`}function sN({config:s}){return s.emulator?wp(s,nN):`https://${s.authDomain}/${tN}`}const xm="webStorageSupport";class rN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O1,this._completeRedirectFn=NC,this._overrideRedirectResult=xC}async _openPopup(e,n,r,o){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await v0(e,n,r,Fm(),o);return WC(e,u,Ip())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await v0(e,n,r,Fm(),o);return lC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ds(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QC(e),r=new DC(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},o=>{const u=o?.[0]?.[xm];u!==void 0&&n(!!u),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A1()||_1()||Rp()}}const aN=rN;var _0="@firebase/auth",E0="1.12.0";class oN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uN(s){fo(new sa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x1(s)},p=new UR(r,o,u,g);return GR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fo(new sa("auth-internal",e=>{const n=Fh(e.getProvider("auth").getImmediate());return(r=>new oN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(_0,E0,lN(s)),ar(_0,E0,"esm2020")}const cN=300,hN=n1("authIdTokenMaxAge")||cN;let b0=null;const fN=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hN)return;const o=n?.token;b0!==o&&(b0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dN(s=l1()){const e=bp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=FR(s,{popupRedirectResolver:aN,persistence:[yC,rC,O1]}),r=n1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=fN(u.toString());eC(n,h,()=>h(n.currentUser)),WR(n,m=>h(m))}}const o=e1("auth");return o&&YR(n,`http://${o}`),n}function mN(){return document.getElementsByTagName("head")?.[0]??document}zR({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=si("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",mN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uN("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,B1;(function(){var s;function e(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(j,O,U){for(var D=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)D[Je-2]=arguments[Je];return R.prototype[O].apply(j,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,N){N||(N=0);const j=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)j[O]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(O=0;O<16;++O)j[O]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],O=I.g[2];let U=I.g[3],D;D=R+(U^N&(O^U))+j[0]+3614090360&4294967295,R=N+(D<<7&4294967295|D>>>25),D=U+(O^R&(N^O))+j[1]+3905402710&4294967295,U=R+(D<<12&4294967295|D>>>20),D=O+(N^U&(R^N))+j[2]+606105819&4294967295,O=U+(D<<17&4294967295|D>>>15),D=N+(R^O&(U^R))+j[3]+3250441966&4294967295,N=O+(D<<22&4294967295|D>>>10),D=R+(U^N&(O^U))+j[4]+4118548399&4294967295,R=N+(D<<7&4294967295|D>>>25),D=U+(O^R&(N^O))+j[5]+1200080426&4294967295,U=R+(D<<12&4294967295|D>>>20),D=O+(N^U&(R^N))+j[6]+2821735955&4294967295,O=U+(D<<17&4294967295|D>>>15),D=N+(R^O&(U^R))+j[7]+4249261313&4294967295,N=O+(D<<22&4294967295|D>>>10),D=R+(U^N&(O^U))+j[8]+1770035416&4294967295,R=N+(D<<7&4294967295|D>>>25),D=U+(O^R&(N^O))+j[9]+2336552879&4294967295,U=R+(D<<12&4294967295|D>>>20),D=O+(N^U&(R^N))+j[10]+4294925233&4294967295,O=U+(D<<17&4294967295|D>>>15),D=N+(R^O&(U^R))+j[11]+2304563134&4294967295,N=O+(D<<22&4294967295|D>>>10),D=R+(U^N&(O^U))+j[12]+1804603682&4294967295,R=N+(D<<7&4294967295|D>>>25),D=U+(O^R&(N^O))+j[13]+4254626195&4294967295,U=R+(D<<12&4294967295|D>>>20),D=O+(N^U&(R^N))+j[14]+2792965006&4294967295,O=U+(D<<17&4294967295|D>>>15),D=N+(R^O&(U^R))+j[15]+1236535329&4294967295,N=O+(D<<22&4294967295|D>>>10),D=R+(O^U&(N^O))+j[1]+4129170786&4294967295,R=N+(D<<5&4294967295|D>>>27),D=U+(N^O&(R^N))+j[6]+3225465664&4294967295,U=R+(D<<9&4294967295|D>>>23),D=O+(R^N&(U^R))+j[11]+643717713&4294967295,O=U+(D<<14&4294967295|D>>>18),D=N+(U^R&(O^U))+j[0]+3921069994&4294967295,N=O+(D<<20&4294967295|D>>>12),D=R+(O^U&(N^O))+j[5]+3593408605&4294967295,R=N+(D<<5&4294967295|D>>>27),D=U+(N^O&(R^N))+j[10]+38016083&4294967295,U=R+(D<<9&4294967295|D>>>23),D=O+(R^N&(U^R))+j[15]+3634488961&4294967295,O=U+(D<<14&4294967295|D>>>18),D=N+(U^R&(O^U))+j[4]+3889429448&4294967295,N=O+(D<<20&4294967295|D>>>12),D=R+(O^U&(N^O))+j[9]+568446438&4294967295,R=N+(D<<5&4294967295|D>>>27),D=U+(N^O&(R^N))+j[14]+3275163606&4294967295,U=R+(D<<9&4294967295|D>>>23),D=O+(R^N&(U^R))+j[3]+4107603335&4294967295,O=U+(D<<14&4294967295|D>>>18),D=N+(U^R&(O^U))+j[8]+1163531501&4294967295,N=O+(D<<20&4294967295|D>>>12),D=R+(O^U&(N^O))+j[13]+2850285829&4294967295,R=N+(D<<5&4294967295|D>>>27),D=U+(N^O&(R^N))+j[2]+4243563512&4294967295,U=R+(D<<9&4294967295|D>>>23),D=O+(R^N&(U^R))+j[7]+1735328473&4294967295,O=U+(D<<14&4294967295|D>>>18),D=N+(U^R&(O^U))+j[12]+2368359562&4294967295,N=O+(D<<20&4294967295|D>>>12),D=R+(N^O^U)+j[5]+4294588738&4294967295,R=N+(D<<4&4294967295|D>>>28),D=U+(R^N^O)+j[8]+2272392833&4294967295,U=R+(D<<11&4294967295|D>>>21),D=O+(U^R^N)+j[11]+1839030562&4294967295,O=U+(D<<16&4294967295|D>>>16),D=N+(O^U^R)+j[14]+4259657740&4294967295,N=O+(D<<23&4294967295|D>>>9),D=R+(N^O^U)+j[1]+2763975236&4294967295,R=N+(D<<4&4294967295|D>>>28),D=U+(R^N^O)+j[4]+1272893353&4294967295,U=R+(D<<11&4294967295|D>>>21),D=O+(U^R^N)+j[7]+4139469664&4294967295,O=U+(D<<16&4294967295|D>>>16),D=N+(O^U^R)+j[10]+3200236656&4294967295,N=O+(D<<23&4294967295|D>>>9),D=R+(N^O^U)+j[13]+681279174&4294967295,R=N+(D<<4&4294967295|D>>>28),D=U+(R^N^O)+j[0]+3936430074&4294967295,U=R+(D<<11&4294967295|D>>>21),D=O+(U^R^N)+j[3]+3572445317&4294967295,O=U+(D<<16&4294967295|D>>>16),D=N+(O^U^R)+j[6]+76029189&4294967295,N=O+(D<<23&4294967295|D>>>9),D=R+(N^O^U)+j[9]+3654602809&4294967295,R=N+(D<<4&4294967295|D>>>28),D=U+(R^N^O)+j[12]+3873151461&4294967295,U=R+(D<<11&4294967295|D>>>21),D=O+(U^R^N)+j[15]+530742520&4294967295,O=U+(D<<16&4294967295|D>>>16),D=N+(O^U^R)+j[2]+3299628645&4294967295,N=O+(D<<23&4294967295|D>>>9),D=R+(O^(N|~U))+j[0]+4096336452&4294967295,R=N+(D<<6&4294967295|D>>>26),D=U+(N^(R|~O))+j[7]+1126891415&4294967295,U=R+(D<<10&4294967295|D>>>22),D=O+(R^(U|~N))+j[14]+2878612391&4294967295,O=U+(D<<15&4294967295|D>>>17),D=N+(U^(O|~R))+j[5]+4237533241&4294967295,N=O+(D<<21&4294967295|D>>>11),D=R+(O^(N|~U))+j[12]+1700485571&4294967295,R=N+(D<<6&4294967295|D>>>26),D=U+(N^(R|~O))+j[3]+2399980690&4294967295,U=R+(D<<10&4294967295|D>>>22),D=O+(R^(U|~N))+j[10]+4293915773&4294967295,O=U+(D<<15&4294967295|D>>>17),D=N+(U^(O|~R))+j[1]+2240044497&4294967295,N=O+(D<<21&4294967295|D>>>11),D=R+(O^(N|~U))+j[8]+1873313359&4294967295,R=N+(D<<6&4294967295|D>>>26),D=U+(N^(R|~O))+j[15]+4264355552&4294967295,U=R+(D<<10&4294967295|D>>>22),D=O+(R^(U|~N))+j[6]+2734768916&4294967295,O=U+(D<<15&4294967295|D>>>17),D=N+(U^(O|~R))+j[13]+1309151649&4294967295,N=O+(D<<21&4294967295|D>>>11),D=R+(O^(N|~U))+j[4]+4149444226&4294967295,R=N+(D<<6&4294967295|D>>>26),D=U+(N^(R|~O))+j[11]+3174756917&4294967295,U=R+(D<<10&4294967295|D>>>22),D=O+(R^(U|~N))+j[2]+718787259&4294967295,O=U+(D<<15&4294967295|D>>>17),D=N+(U^(O|~R))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,j=this.C;let O=this.h,U=0;for(;U<R;){if(O==0)for(;U<=N;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<R;)if(j[O++]=I.charCodeAt(U++),O==this.blockSize){o(this,j),O=0;break}}else for(;U<R;)if(j[O++]=I[U++],O==this.blockSize){o(this,j),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)I[R++]=this.g[N]>>>j&255;return I};function u(I,R){var N=m;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function h(I,R){this.h=R;const N=[];let j=!0;for(let O=I.length-1;O>=0;O--){const U=I[O]|0;j&&U==R||(N[O]=U,j=!1)}this.g=N}var m={};function g(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return K(p(-I));const R=[];let N=1;for(let j=0;I>=N;j++)R[j]=I/N|0,N*=4294967296;return new h(R,0)}function b(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return K(b(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(R,8));let j=T;for(let U=0;U<I.length;U+=8){var O=Math.min(8,I.length-U);const D=parseInt(I.substring(U,U+O),R);O<8?(O=p(Math.pow(R,O)),j=j.j(O).add(p(D))):(j=j.j(N),j=j.add(p(D)))}return j}var T=g(0),A=g(1),C=g(16777216);s=h.prototype,s.m=function(){if($(this))return-K(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);I+=(j>=0?j:4294967296+j)*R,R*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Q(this))return"0";if($(this))return"-"+K(this).toString(I);const R=p(Math.pow(I,6));var N=this;let j="";for(;;){const O=ve(N,R).g;N=ie(N,O.j(R));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=O,Q(N))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Q(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function $(I){return I.h==-1}s.l=function(I){return I=ie(this,I),$(I)?-1:Q(I)?0:1};function K(I){const R=I.g.length,N=[];for(let j=0;j<R;j++)N[j]=~I.g[j];return new h(N,~I.h).add(A)}s.abs=function(){return $(this)?K(this):this},s.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let j=0;for(let O=0;O<=R;O++){let U=j+(this.i(O)&65535)+(I.i(O)&65535),D=(U>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);j=D>>>16,U&=65535,D&=65535,N[O]=D<<16|U}return new h(N,N[N.length-1]&-2147483648?-1:0)};function ie(I,R){return I.add(K(R))}s.j=function(I){if(Q(this)||Q(I))return T;if($(this))return $(I)?K(this).j(K(I)):K(K(this).j(I));if($(I))return K(this.j(K(I)));if(this.l(C)<0&&I.l(C)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var j=0;j<2*R;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<I.g.length;O++){const U=this.i(j)>>>16,D=this.i(j)&65535,Je=I.i(O)>>>16,le=I.i(O)&65535;N[2*j+2*O]+=D*le,ne(N,2*j+2*O),N[2*j+2*O+1]+=U*le,ne(N,2*j+2*O+1),N[2*j+2*O+1]+=D*Je,ne(N,2*j+2*O+1),N[2*j+2*O+2]+=U*Je,ne(N,2*j+2*O+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new h(N,0)};function ne(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function se(I,R){this.g=I,this.h=R}function ve(I,R){if(Q(R))throw Error("division by zero");if(Q(I))return new se(T,T);if($(I))return R=ve(K(I),R),new se(K(R.g),K(R.h));if($(R))return R=ve(I,K(R)),new se(K(R.g),R.h);if(I.g.length>30){if($(I)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var N=A,j=R;j.l(I)<=0;)N=Ae(N),j=Ae(j);var O=Te(N,1),U=Te(j,1);for(j=Te(j,2),N=Te(N,2);!Q(j);){var D=U.add(j);D.l(I)<=0&&(O=O.add(N),U=D),j=Te(j,1),N=Te(N,1)}return R=ie(I,O.j(R)),new se(O,R)}for(O=T;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=p(N),D=U.j(R);$(D)||D.l(I)>0;)N-=j,U=p(N),D=U.j(R);Q(U)&&(U=A),O=O.add(U),I=ie(I,D)}return new se(O,I)}s.B=function(I){return ve(this,I).h},s.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)&I.i(j);return new h(N,this.h&I.h)},s.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)|I.i(j);return new h(N,this.h|I.h)},s.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)^I.i(j);return new h(N,this.h^I.h)};function Ae(I){const R=I.g.length+1,N=[];for(let j=0;j<R;j++)N[j]=I.i(j)<<1|I.i(j-1)>>>31;return new h(N,I.h)}function Te(I,R){const N=R>>5;R%=32;const j=I.g.length-N,O=[];for(let U=0;U<j;U++)O[U]=R>0?I.i(U+N)>>>R|I.i(U+N+1)<<32-R:I.i(U+N);return new h(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,B1=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=b,or=h}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var H1,Ul,q1,ch,Qm,F1,G1,Y1;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var _=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in _))break e;_=_[z]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&_.push([w,y[w]]);return _}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function b(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(w,z,F){for(var re=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)re[xe-2]=arguments[xe];return y.prototype[z].apply(w,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function C(c){const y=c.length;if(y>0){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function Q(c,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=c.length||0;const F=z.length||0;c.length=_+F;for(let re=0;re<F;re++)c[_+re]=z[re]}else c.push(z)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(c){h.setTimeout(()=>{throw c},0)}function ie(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,_){const w=se.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var se=new $(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,Te=!1,I=new ne,R=()=>{const c=Promise.resolve(void 0);Ae=()=>{c.then(N)}};function N(){for(var c;c=ie();){try{c.h.call(c.g)}catch(_){K(_)}var y=se;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Te=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Je(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Je,O),Je.prototype.init=function(c,y){const _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),x=0;function G(c,y,_,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=z,this.key=++x,this.da=this.fa=!1}function ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function Qe(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function k(c){const y={};for(const _ in c)y[_]=c[_];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)c[_]=w[_];for(let F=0;F<W.length;F++)_=W[F],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,_,w,z){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const re=Ce(c,y,w,z);return re>-1?(y=c[re],_||(y.fa=!1)):(y=new G(y,this.src,F,!!w,z),y.fa=_,c.push(y)),y};function Ee(c,y){const _=y.type;if(_ in c.g){var w=c.g[_],z=Array.prototype.indexOf.call(w,y,void 0),F;(F=z>=0)&&Array.prototype.splice.call(w,z,1),F&&(ae(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ce(c,y,_,w){for(let z=0;z<c.length;++z){const F=c[z];if(!F.da&&F.listener==y&&F.capture==!!_&&F.ha==w)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Mt={};function lt(c,y,_,w,z){if(Array.isArray(y)){for(let F=0;F<y.length;F++)lt(c,y[F],_,w,z);return null}return _=Mo(_),c&&c[le]?c.J(y,_,m(w)?!!w.capture:!1,z):Er(c,y,_,!1,w,z)}function Er(c,y,_,w,z,F){if(!y)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let xe=br(c);if(xe||(c[Ue]=xe=new ce(c)),_=xe.add(y,_,w,re,F),_.proxy)return _;if(w=fa(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)U||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(oi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fa(){function c(_){return y.call(c.src,c.listener,_)}const y=Io;return c}function da(c,y,_,w,z){if(Array.isArray(y))for(var F=0;F<y.length;F++)da(c,y[F],_,w,z);else w=m(w)?!!w.capture:!!w,_=Mo(_),c&&c[le]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],_=Ce(y,_,w,z),_>-1&&(ae(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=br(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,_,w,z)),(_=c>-1?y[c]:null)&&ma(_))}function ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[le])Ee(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(oi(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=br(y))?(Ee(_,c),_.h==0&&(_.src=null,y[Ue]=null)):ae(c)}}}function oi(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Io(c,y){if(c.da)c=!0;else{y=new Je(y,this);const _=c.listener,w=c.ha||c.src;c.fa&&ma(c),c=_.call(w,y)}return c}function br(c){return c=c[Ue],c instanceof ce?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(y){return c.handleEvent(y)}),c[Do])}function bt(){j.call(this),this.i=new ce(this),this.M=this,this.G=null}T(bt,j),bt.prototype[le]=!0,bt.prototype.removeEventListener=function(c,y,_,w){da(this,c,y,_,w)};function Ot(c,y){var _,w=c.G;if(w)for(_=[];w;w=w.G)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(w,c),oe(y,z)}z=!0;let F,re;if(_)for(re=_.length-1;re>=0;re--)F=y.g=_[re],z=vs(F,w,!0,y)&&z;if(F=y.g=c,z=vs(F,w,!0,y)&&z,z=vs(F,w,!1,y)&&z,_)for(re=0;re<_.length;re++)F=y.g=_[re],z=vs(F,w,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let w=0;w<_.length;w++)ae(_[w]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},bt.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function vs(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let F=0;F<y.length;++F){const re=y[F];if(re&&!re.da&&re.capture==_){const xe=re.listener,gt=re.ha||re.src;re.fa&&Ee(c.i,re),z=xe.call(gt,w)!==!1&&z}}return z&&!w.defaultPrevented}function df(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Eu(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends j{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(c){j.call(this),this.h=c,this.g={}}T(Tr,j);var Oo=[];function Vo(c){Ie(c.g,function(y,_){this.g.hasOwnProperty(_)&&ma(y)},c),c.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),Vo(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=h.JSON.stringify,mf=h.JSON.parse,bu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Tu(){}function Su(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}T(Bt,O);function xn(){O.call(this,"c")}T(xn,O);var pt={},wu=null;function pa(){return wu=wu||new bt}pt.Ia="serverreachability";function Au(c){O.call(this,pt.Ia,c)}T(Au,O);function li(c){const y=pa();Ot(y,new Au(y))}pt.STAT_EVENT="statevent";function Sr(c,y){O.call(this,pt.STAT_EVENT,c),this.stat=y}T(Sr,O);function Tt(c){const y=pa();Ot(y,new Sr(y,c))}pt.Ja="timingevent";function ui(c,y){O.call(this,pt.Ja,c),this.size=y}T(ui,O);function ci(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function pf(c,y,_,w,z,F){c.info(function(){if(c.g)if(F){var re="",xe=F.split("&");for(let Fe=0;Fe<xe.length;Fe++){var gt=xe[Fe].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const In=ut.split("_");re=In.length>=2&&In[1]=="type"?re+(ut+"="+gt+"&"):re+(ut+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+_+`
`+re})}function xu(c,y,_,w,z,F,re){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+_+`
`+F+" "+re})}function hi(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gf(c,_)+(w?" "+w:"")})}function wr(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function gf(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var _=F[c];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return _s(F)}catch{return y}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function xr(){}T(xr,Tu),xr.prototype.g=function(){return new XMLHttpRequest},ko=new xr;function Ui(c){return encodeURIComponent(String(c))}function Ru(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function Yn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.S=w||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var St={},Lt={};function fi(c,y,_){c.M=1,c.A=Rr(At(y)),c.u=_,c.R=!0,ga(c,null)}function ga(c,y){c.F=Date.now(),di(c),c.B=At(c.A);var _=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ea(_.i,"t",w),c.C=0,_=c.j.L,c.h=new Qn,c.g=Hu(c.j,_?y:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,w=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Oo[0]=z.toString()),z=Oo);for(let F=0;F<z.length;F++){const re=lt(_,z[F],w||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),li(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Xn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=Xn(this.g),gt=this.g.ya(),Fe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||xe!=4||gt==7||(gt==8||Fe<=0?li(3):li(2)),mi(this);var y=this.g.ca();this.X=y;var _=yf(this);if(this.o=y==200,xu(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var F=w;break t}}F=null}if(c=F)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Tt(12),pn(this),Rn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<_.length;)if(ut=Nu(this,_),ut==Lt){xe==4&&(this.m=4,Tt(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==St){this.m=4,Tt(15),hi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ut,null),pi(this,ut);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,_,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(_.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Jo(re),re.P=!0,Tt(11))}}else hi(this.i,this.l,_,null),pi(this,_);xe==4&&pn(this),this.o&&!this.K&&(xe==4?Pu(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),pn(this),Rn(this)}}}catch{}};function yf(c){if(!Cu(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let _="";const w=y.length,z=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<w;F++)c.h.h=!0,_+=c.h.i.decode(y[F],{stream:!(z&&F==w-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function Cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?Lt:(_=Number(y.substring(_,w)),isNaN(_)?St:(w+=1,w+_>y.length?Lt:(y=y.slice(w,w+_),c.C=w+_,y)))}Yn.prototype.cancel=function(){this.K=!0,pn(this)};function di(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(p(c.aa,c),y)}function mi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(wr(this.i,this.B),this.M!=2&&(li(),Tt(17)),pn(this),this.m=2,Rn(this)):ya(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Pu(c.j,c)}function pn(c){mi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Vo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function pi(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||yi(_.h,c))){if(!c.L&&yi(_.h,c)&&_.I==3){try{var w=_.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Aa(_),Rs(_);else break e;Vr(_),Tt(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ci(p(_.Va,_),6e3));gi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Si(_,11)}else if((c.L||_.g==c)&&Aa(_),!D(y))for(z=_.Ba.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];const ut=Fe[0];if(!(ut<=_.K))if(_.K=ut,Fe=Fe[1],_.I==2)if(Fe[0]=="c"){_.M=Fe[1],_.ba=Fe[2];const In=Fe[3];In!=null&&(_.ka=In,_.j.info("VER="+_.ka));const wi=Fe[4];wi!=null&&(_.za=wi,_.j.info("SVER="+_.za));const Jn=Fe[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(w=1.5*Jn,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Zn=c.g;if(Zn){const jr=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var F=w.h;F.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Uo(F,F.h),F.h=null))}if(w.G){const xa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(w.wa=xa,Ke(w.J,w.G,xa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var re=c;if(w.na=Bu(w,w.L?w.ba:null,w.W),re.L){zo(w.h,re);var xe=re,gt=w.O;gt&&(xe.H=gt),xe.D&&(mi(xe),di(xe)),w.g=re}else ku(w);_.i.length>0&&Ti(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Si(_,7);else _.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Si(_,7):$o(_):Fe[0]!="noop"&&_.l&&_.l.qa(Fe),_.A=0)}}li(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function Lo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Uo(c,y){c.g?c.g.add(y):c.h=y}function zo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Lo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return C(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const w=c[_].indexOf("=");let z,F=null;w>=0?(z=c[_].substring(0,w),F=c[_].substring(w+1)):z=c[_],y(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,Es(this,c.u),this.h=c.h,Ho(this,Vu(c.i)),this.m=c.m):c&&(y=String(c).match(Iu))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),Es(this,y[4]),this.h=vi(y[5]||"",!0),Ho(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Cr(y,_a,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cr(y,_a,!0),"@"),c.push(Ui(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Cr(_,_.charAt(0)=="/"?qo:Du,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Cr(_,Mu)),c.join("")},gn.prototype.resolve=function(c){const y=At(this);let _=!!c.j;_?Pt(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var w=c.h;if(_)Es(y,c.u);else if(_=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const F=[];for(let re=0;re<z.length;){const xe=z[re++];xe=="."?w&&re==z.length&&F.push(""):xe==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&re==z.length&&F.push("")):(F.push(xe),w=!0)}w=F.join("/")}else w=z}return _?y.h=w:_=c.i.toString()!=="",_?Ho(y,Vu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function At(c){return new gn(c)}function Pt(c,y,_){c.j=_?vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Es(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ho(c,y,_){y instanceof Ts?(c.i=y,ba(c.i,c.l)):(_||(y=Cr(y,bs)),c.i=new Ts(y,c.l))}function Ke(c,y,_){c.i.set(y,_)}function Rr(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cr(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,an),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,Du=/[#\?:]/g,qo=/[#\?]/g,bs=/[#\?@]/g,Mu=/#/g;function Ts(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}s=Ts.prototype,s.add=function(c,y){on(this),this.i=null,c=Ss(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ou(c,y){on(c),y=Ss(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Fo(c,y){return on(c),y=Ss(c,y),c.g.has(y)}s.forEach=function(c,y){on(this),this.g.forEach(function(_,w){_.forEach(function(z){c.call(y,z,w,this)},this)},this)};function Go(c,y){on(c);let _=[];if(typeof y=="string")Fo(c,y)&&(_=_.concat(c.g.get(Ss(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}s.set=function(c,y){return on(this),this.i=null,c=Ss(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=Go(this,c),c.length>0?String(c[0]):y):y};function Ea(c,y,_){Ou(c,y),_.length>0&&(c.i=null,c.g.set(Ss(c,y),C(_)),c.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var _=y[w];const z=Ui(_);_=Go(this,_);for(let F=0;F<_.length;F++){let re=z;_[F]!==""&&(re+="="+Ui(_[F])),c.push(re)}}return this.i=c.join("&")};function Vu(c){const y=new Ts;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ss(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ba(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(_,w){const z=w.toLowerCase();w!=z&&(Ou(this,w),Ea(this,z,_))},c)),c.j=y}function Kn(c,y){const _=new Gn;if(h.Image){const w=new Image;w.onload=b(Cn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=b(Cn,_,"TestLoadImage: error",!1,y,w),w.onabort=b(Cn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=b(Cn,_,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Yo(c,y){const _=new Gn,w=new AbortController,z=setTimeout(()=>{w.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(F=>{clearTimeout(z),F.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function ws(){this.g=new bu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}T(_i,Tu),_i.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Nr,bt),s=Nr.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?As(this):$n(this),this.readyState==3&&Ta(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,As(this))},s.Na=function(c){this.g&&(this.response=c,As(this))},s.ga=function(){this.g&&As(this)};function As(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}s.setRequestHeader=function(c,y){this.A.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return Ie(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Ir(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Nn(_),typeof c=="string"?_!=null&&Ui(_):Ke(c,y,_))}function Ze(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,bt);var Ei=/^https?$/i,Qo=["POST","PUT"];s=Ze.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Dr(this,F);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())_.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of _)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Dr(this,F)}};function Dr(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ko(c),zi(c)}function Ko(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},s.Xa=function(){Mr(this)};function Mr(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=F===0){let re=String(c.D).match(Iu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),w=!Ei.test(re?re.toLowerCase():"")}_=w}if(_)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var z=Xn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Ko(c)}}finally{zi(c)}}}}function zi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Ot(c,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const y={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(D(c[w]))continue;var _=Ru(c[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=y[z]||[];y[z]=F,F.push(_)}Qe(y,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function xs(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new ws,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=xs.prototype,s.ka=8,s.I=1,s.connect=function(c,y,_,w){Tt(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=Bu(this,null,this.W),Ti(this)};function $o(c){if(Sa(c),c.I==3){var y=c.V++,_=At(c.J);if(Ke(_,"SID",c.M),Ke(_,"RID",y),Ke(_,"TYPE","terminate"),Or(c,_),y=new Yn(c,c.j,y),y.M=2,y.A=Rr(At(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.A,_=!0),_||(y.g=Hu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),di(y)}zu(c)}function Rs(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function Sa(c){Rs(c),c.v&&(h.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Po(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ae||R(),Te||(Ae(),Te=!0),I.add(y,c),c.D=0}}function wa(c,y){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(p(c.Ea,c,y),Uu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Yn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=k(F),oe(F,this.U)):F=this.U),this.u!==null||this.R||(z.J=F,F=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ju(this,z,y),_=At(this.J),Ke(_,"RID",c),Ke(_,"CVER",22),this.G&&Ke(_,"X-HTTP-Session-Id",this.G),Or(this,_),F&&(this.R?y="headers="+Ui(Nn(F))+"&"+y:this.u&&Ir(_,this.u,F)),Uo(this.h,z),this.Ra&&Ke(_,"TYPE","init"),this.S?(Ke(_,"$req",y),Ke(_,"SID","null"),z.U=!0,fi(z,_,null)):fi(z,_,y),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Po(this.h)||Xo(this))};function Xo(c,y){var _;y?_=y.l:_=c.V++;const w=At(c.J);Ke(w,"SID",c.M),Ke(w,"RID",_),Ke(w,"AID",c.K),Or(c,w),c.u&&c.o&&Ir(w,c.u,c.o),_=new Yn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ju(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,_),fi(_,w,y)}function Or(c,y){c.H&&Ie(c.H,function(_,w){Ke(y,w,_)}),c.l&&Ie({},function(_,w){Ke(y,w,_)})}function ju(c,y,_){_=Math.min(c.i.length,_);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let xe=-1;for(;;){const gt=["count="+_];xe==-1?_>0?(xe=z[0].g,gt.push("ofs="+xe)):xe=0:gt.push("ofs="+xe);let Fe=!0;for(let ut=0;ut<_;ut++){var F=z[ut].g;const In=z[ut].map;if(F-=xe,F<0)xe=Math.max(0,z[ut].g-100),Fe=!1;else try{F="req"+F+"_"||"";try{var re=In instanceof Map?In:Object.entries(In);for(const[wi,Jn]of re){let Zn=Jn;m(Jn)&&(Zn=_s(Jn)),gt.push(F+wi+"="+encodeURIComponent(Zn))}}catch(wi){throw gt.push(F+"type="+encodeURIComponent("_badmap")),wi}}catch{w&&w(In)}}if(Fe){re=gt.join("&");break e}}re=void 0}return c=c.i.splice(0,_),y.G=c,re}function ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ae||R(),Te||(Ae(),Te=!0),I.add(y,c),c.A=0}}function Vr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(p(c.Da,c),Uu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Rs(this),Lu(this))};function Jo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Or(c,y),c.u&&c.o&&Ir(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Rr(At(y)),_.u=null,_.R=!0,ga(_,c)}s.Va=function(){this.C!=null&&(this.C=null,Rs(this),Vr(this),Tt(19))};function Aa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Pu(c,y){var _=null;if(c.g==y){Aa(c),Jo(c),c.g=null;var w=2}else if(yi(c.h,y))_=y.G,zo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;w=pa(),Ot(w,new ui(w,_)),Ti(c)}else ku(c);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&wa(c,y)||w==2&&Vr(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Uu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Si(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),w=c.Ua;const z=!w;w=new gn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pt(w,"https"),Rr(w),z?Kn(w.toString(),_):Yo(w.toString(),_)}else Tt(2);c.I=0,c.l&&c.l.pa(y),zu(c),Sa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ja,y),Q(c.ja,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.oa()}}function Bu(c,y,_){var w=_ instanceof gn?At(_):new gn(_);if(w.g!="")y&&(w.g=y+"."+w.g),Es(w,w.u);else{var z=h.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const F=new gn(null);w&&Pt(F,w),y&&(F.g=y),z&&Es(F,z),_&&(F.h=_),w=F}return _=c.G,y=c.wa,_&&y&&Ke(w,_,y),Ke(w,"VER",c.ka),Or(c,w),w}function Hu(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new _i({ab:_})):new Ze(c.ma),y.Fa(c.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}s=qu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Cs(){}Cs.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){bt.call(this),this.g=new xs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hi(this)}T(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){$o(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=_s(c),c=_);y.i.push(new wt(y.Ya++,c)),y.I==3&&Ti(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,sn.Z.N.call(this)};function Fu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Fu,Bt);function Gu(){xn.call(this),this.status=1}T(Gu,xn);function Hi(c){this.g=c}T(Hi,qu),Hi.prototype.ra=function(){Ot(this.g,"a")},Hi.prototype.qa=function(c){Ot(this.g,new Fu(c))},Hi.prototype.pa=function(c){Ot(this.g,new Gu)},Hi.prototype.oa=function(){Ot(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Y1=function(){return new Cs},G1=function(){return pa()},F1=pt,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,ch=Ar,jo.COMPLETE="complete",q1=jo,Su.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Ul=Su,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,H1=Ze}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let xo="12.8.0";function pN(s){xo=s}const aa=new _p("@firebase/firestore");function no(){return aa.logLevel}function ue(s,...e){if(aa.logLevel<=je.DEBUG){const n=e.map(Mp);aa.debug(`Firestore (${xo}): ${s}`,...n)}}function ms(s,...e){if(aa.logLevel<=je.ERROR){const n=e.map(Mp);aa.error(`Firestore (${xo}): ${s}`,...n)}}function po(s,...e){if(aa.logLevel<=je.WARN){const n=e.map(Mp);aa.warn(`Firestore (${xo}): ${s}`,...n)}}function Mp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ye(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Q1(s,r,n)}function Q1(s,e,n){let r=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ms(r),new Error(r)}function Ye(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||Q1(e,o,r)}function we(s,e){return s}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class K1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class yN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new K1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class _N{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class EN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _N(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new S0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Op{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=TN(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function ke(s,e){return s<e?-1:s>e?1:0}function Km(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Rm(o)===Rm(u)?ke(o,u):Rm(o)?1:-1}return ke(s.length,e.length)}const SN=55296,wN=57343;function Rm(s){const e=s.charCodeAt(0);return e>=SN&&e<=wN}function go(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const w0="__name__";class Ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const r=Ni.isNumericId(e),o=Ni.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class at extends Ni{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const AN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ni{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return AN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new Kt([w0])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(at.fromString(e))}static fromName(e){return new pe(at.fromString(e).popFirst(5))}static empty(){return new pe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new at(e.slice()))}}function $1(s,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function xN(s,e,n,r){if(e===!0&&r===!0)throw new de(te.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function A0(s){if(!pe.isDocumentKey(s))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function x0(s){if(pe.isDocumentKey(s))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function X1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ye(12329,{type:typeof s})}function Bn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vp(s);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function pu(s,e){if(!X1(s))throw new de(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new de(te.INVALID_ARGUMENT,n);return!0}const R0=-62135596800,C0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*C0);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R0)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Dt("string",ot._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ot(0,0))}static max(){return new be(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function RN(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new cr(o,pe.empty(),e)}function CN(s){return new cr(s.readTime,s.key,Zl)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(be.min(),pe.empty(),Zl)}static max(){return new cr(be.max(),pe.empty(),Zl)}}function NN(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(s.documentKey,e.documentKey),n!==0?n:ke(s.largestBatchId,e.largestBatchId))}const IN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(s){if(s.code!==te.FAILED_PRECONDITION||s.message!==IN)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>r(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((o=>o?ee.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((b=>{h[p]=b,++m,m===u&&r(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new ee(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function MN(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(s){return s.name==="IndexedDbTransactionError"}class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;const jp=-1;function Kh(s){return s==null}function xh(s){return s===0&&1/s==-1/0}function ON(s){return typeof s=="number"&&Number.isInteger(s)&&!xh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const J1="";function VN(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=N0(e)),e=jN(s.get(n),e);return N0(e)}function jN(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case J1:n+="";break;default:n+=u}}return n}function N0(s){return s+J1+""}function I0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function vr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Z1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Qt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new kt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new W1("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const kN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(Ye(!!s,39018),typeof s=="string"){let e=0;const n=kN.exec(s);if(Ye(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const eb="server_timestamp",tb="__type__",nb="__previous_value__",ib="__local_write_time__";function kp(s){return(s?.mapValue?.fields||{})[tb]?.stringValue===eb}function $h(s){const e=s.mapValue.fields[nb];return kp(e)?$h(e):e}function Wl(s){const e=hr(s.mapValue.fields[ib].timestampValue);return new ot(e.seconds,e.nanos)}class LN{constructor(e,n,r,o,u,h,m,g,p,b,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=b,this.apiKey=T}}const Rh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}function PN(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(s.options.projectId,e)}const sb="__type__",UN="__max__",eh={mapValue:{}},rb="__vector__",Ch="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?kp(s)?4:BN(s)?9007199254740991:zN(s)?10:11:ye(28295,{value:s})}function ki(s,e){if(s===e)return!0;const n=dr(s);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wl(s).isEqual(Wl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=hr(o.timestampValue),m=hr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return fr(o.bytesValue).isEqual(fr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?xh(h)===xh(m):isNaN(h)&&isNaN(m)}return!1})(s,e);case 9:return go(s.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(I0(h)!==I0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!ki(h[g],m[g])))return!1;return!0})(s,e);default:return ye(52216,{left:s})}}function tu(s,e){return(s.values||[]).find((n=>ki(n,e)))!==void 0}function yo(s,e){if(s===e)return 0;const n=dr(s),r=dr(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),g=_t(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return M0(s.timestampValue,e.timestampValue);case 4:return M0(Wl(s),Wl(e));case 5:return Km(s.stringValue,e.stringValue);case 6:return(function(u,h){const m=fr(u),g=fr(h);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const b=ke(m[p],g[p]);if(b!==0)return b}return ke(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(_t(u.latitude),_t(h.latitude));return m!==0?m:ke(_t(u.longitude),_t(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return O0(s.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Ch]?.arrayValue,b=g[Ch]?.arrayValue,T=ke(p?.values?.length||0,b?.values?.length||0);return T!==0?T:O0(p,b)})(s.mapValue,e.mapValue);case 11:return(function(u,h){if(u===eh.mapValue&&h===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(h===eh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},b=Object.keys(p);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const A=Km(g[T],b[T]);if(A!==0)return A;const C=yo(m[g[T]],p[b[T]]);if(C!==0)return C}return ke(g.length,b.length)})(s.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function M0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const n=hr(s),r=hr(e),o=ke(n.seconds,r.seconds);return o!==0?o:ke(n.nanos,r.nanos)}function O0(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=yo(n[o],r[o]);if(u)return u}return ke(n.length,r.length)}function vo(s){return $m(s)}function $m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return fr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return pe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=$m(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${$m(n.fields[h])}`;return o+"}"})(s.mapValue):ye(61005,{value:s})}function hh(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(s);return e?16+hh(e):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+hh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return vr(r.fields,((u,h)=>{o+=u.length+hh(h)})),o})(s.mapValue);default:throw ye(13486,{value:s})}}function Xm(s){return!!s&&"integerValue"in s}function Lp(s){return!!s&&"arrayValue"in s}function V0(s){return!!s&&"nullValue"in s}function j0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function fh(s){return!!s&&"mapValue"in s}function zN(s){return(s?.mapValue?.fields||{})[sb]?.stringValue===rb}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(s.arrayValue.values[n]);return e}return{...s}}function BN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UN}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=Kt.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=Gl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){vr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new mn(Gl(this.value))}}function ab(s){const e=[];return vr(s.fields,((n,r)=>{const o=new Kt([n]);if(fh(r)){const u=ab(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new wn(e)}class en{constructor(e,n,r,o,u,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),mn.empty(),0)}static newFoundDocument(e,n,r,o){return new en(e,1,n,be.min(),r,o,0)}static newNoDocument(e,n){return new en(e,2,n,be.min(),be.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,be.min(),be.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function k0(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],h=s.position[o];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(h.referenceValue),n.key):r=yo(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function L0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ki(s.position[n],e.position[n]))return!1;return!0}class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function HN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class ob{}class jt extends ob{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FN(e,n,r):n==="array-contains"?new QN(e,r):n==="in"?new KN(e,r):n==="not-in"?new $N(e,r):n==="array-contains-any"?new XN(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GN(e,r):new YN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends ob{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return lb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lb(s){return s.op==="and"}function ub(s){return qN(s)&&lb(s)}function qN(s){for(const e of s.filters)if(e instanceof Li)return!1;return!0}function Jm(s){if(s instanceof jt)return s.field.canonicalString()+s.op.toString()+vo(s.value);if(ub(s))return s.filters.map((e=>Jm(e))).join(",");{const e=s.filters.map((n=>Jm(n))).join(",");return`${s.op}(${e})`}}function cb(s,e){return s instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&ki(r.value,o.value)})(s,e):s instanceof Li?(function(r,o){return o instanceof Li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&cb(h,o.filters[m])),!0):!1})(s,e):void ye(19439)}function hb(s){return s instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(s):s instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(hb).join(" ,")+"}"})(s):"Filter"}class FN extends jt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class GN extends jt{constructor(e,n){super(e,"in",n),this.keys=fb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YN extends jt{constructor(e,n){super(e,"not-in",n),this.keys=fb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fb(s,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class QN extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lp(n)&&tu(n.arrayValue,this.value)}}class KN extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class $N extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class XN extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>tu(this.value.arrayValue,r)))}}class JN{constructor(e,n=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function P0(s,e=null,n=[],r=[],o=null,u=null,h=null){return new JN(s,e,n,r,o,u,h)}function Pp(s){const e=we(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vo(r))).join(",")),e.Te=n}return e.Te}function Up(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!HN(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!cb(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!L0(s.startAt,e.startAt)&&L0(s.endAt,e.endAt)}function Zm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Xh{constructor(e,n=null,r=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZN(s,e,n,r,o,u,h,m){return new Xh(s,e,n,r,o,u,h,m)}function Jh(s){return new Xh(s)}function U0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function WN(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function eI(s){return s.collectionGroup!==null}function Yl(s){const e=we(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt(Kt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ih(u,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Ih(Kt.keyField(),r))}return e.Ie}function Mi(s){const e=we(s);return e.Ee||(e.Ee=tI(e,Yl(s))),e.Ee}function tI(s,e){if(s.limitType==="F")return P0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ih(o.field,u)}));const n=s.endAt?new Nh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Nh(s.startAt.position,s.startAt.inclusive):null;return P0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Wm(s,e,n){return new Xh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Zh(s,e){return Up(Mi(s),Mi(e))&&s.limitType===e.limitType}function db(s){return`${Pp(Mi(s))}|lt:${s.limitType}`}function io(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>hb(o))).join(", ")}]`),Kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${r})`})(Mi(s))}; limitType=${s.limitType})`}function Wh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Yl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,g){const p=k0(h,m,g);return h.inclusive?p<=0:p<0})(r.startAt,Yl(r),o)||r.endAt&&!(function(h,m,g){const p=k0(h,m,g);return h.inclusive?p>=0:p>0})(r.endAt,Yl(r),o))})(s,e)}function nI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function mb(s){return(e,n)=>{let r=!1;for(const o of Yl(s)){const u=iI(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function iI(s,e,n){const r=s.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?yo(g,p):ye(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:s.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return Z1(this.inner)}size(){return this.innerSize}}const sI=new ft(pe.comparator);function ps(){return sI}const pb=new ft(pe.comparator);function zl(...s){let e=pb;for(const n of s)e=e.insert(n.key,n);return e}function gb(s){let e=pb;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wr(){return Ql()}function yb(){return Ql()}function Ql(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const rI=new ft(pe.comparator),aI=new kt(pe.comparator);function Le(...s){let e=aI;for(const n of s)e=e.add(n);return e}const oI=new kt(ke);function lI(){return oI}function zp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function vb(s){return{integerValue:""+s}}function uI(s,e){return ON(e)?vb(e):zp(s,e)}class ef{constructor(){this._=void 0}}function cI(s,e,n){return s instanceof nu?(function(o,u){const h={fields:{[tb]:{stringValue:eb},[ib]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kp(u)&&(u=$h(u)),u&&(h.fields[nb]=u),{mapValue:h}})(n,e):s instanceof iu?Eb(s,e):s instanceof su?bb(s,e):(function(o,u){const h=_b(o,u),m=z0(h)+z0(o.Ae);return Xm(h)&&Xm(o.Ae)?vb(m):zp(o.serializer,m)})(s,e)}function hI(s,e,n){return s instanceof iu?Eb(s,e):s instanceof su?bb(s,e):n}function _b(s,e){return s instanceof Dh?(function(r){return Xm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class nu extends ef{}class iu extends ef{constructor(e){super(),this.elements=e}}function Eb(s,e){const n=Tb(e);for(const r of s.elements)n.some((o=>ki(o,r)))||n.push(r);return{arrayValue:{values:n}}}class su extends ef{constructor(e){super(),this.elements=e}}function bb(s,e){let n=Tb(e);for(const r of s.elements)n=n.filter((o=>!ki(o,r)));return{arrayValue:{values:n}}}class Dh extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function z0(s){return _t(s.integerValue||s.doubleValue)}function Tb(s){return Lp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class fI{constructor(e,n){this.field=e,this.transform=n}}function dI(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof iu&&o instanceof iu||r instanceof su&&o instanceof su?go(r.elements,o.elements,ki):r instanceof Dh&&o instanceof Dh?ki(r.Ae,o.Ae):r instanceof nu&&o instanceof nu})(s.transform,e.transform)}class mI{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class tf{}function Sb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Bp(s.key,Hn.none()):new gu(s.key,s.data,Hn.none());{const n=s.data,r=mn.empty();let o=new kt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new _r(s.key,r,new wn(o.toArray()),Hn.none())}}function pI(s,e,n){s instanceof gu?(function(o,u,h){const m=o.value.clone(),g=H0(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(s,e,n):s instanceof _r?(function(o,u,h){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=H0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(wb(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Kl(s,e,n,r){return s instanceof gu?(function(u,h,m,g){if(!dh(u.precondition,h))return m;const p=u.value.clone(),b=q0(u.fieldTransforms,g,h);return p.setAll(b),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(s,e,n,r):s instanceof _r?(function(u,h,m,g){if(!dh(u.precondition,h))return m;const p=q0(u.fieldTransforms,g,h),b=h.data;return b.setAll(wb(u)),b.setAll(p),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(s,e,n,r):(function(u,h,m){return dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(s,e,n)}function gI(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=_b(r.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(r.field,u))}return n||null}function B0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&go(r,o,((u,h)=>dI(u,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class gu extends tf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _r extends tf{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wb(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function H0(s,e,n){const r=new Map;Ye(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,hI(h,m,n[o]))}return r}function q0(s,e,n){const r=new Map;for(const o of s){const u=o.transform,h=n.data.field(o.field);r.set(o.field,cI(u,h,e))}return r}class Bp extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yI extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&pI(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=Sb(h,m);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,r)=>B0(n,r)))&&go(this.baseMutations,e.baseMutations,((n,r)=>B0(n,r)))}}class Hp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return rI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Hp(e,n,r,o)}}class _I{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,ze;function bI(s){switch(s){case te.OK:return ye(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ye(15467,{code:s})}}function Ab(s){if(s===void 0)return ms("GRPC error has no .code"),te.UNKNOWN;switch(s){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return ye(39323,{code:s})}}(ze=It||(It={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function TI(){return new TextEncoder}const SI=new or([4294967295,4294967295],0);function F0(s){const e=TI().encode(s),n=new B1;return n.update(e),new Uint8Array(n.digest())}function G0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new or([n,r],0),new or([o,u],0)]}class qp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=or.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(or.fromNumber(r)));return o.compare(SI)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=F0(e),[r,o]=G0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new qp(u,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=F0(e),[r,o]=G0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nf(be.min(),o,new ft(ke),ps(),Le())}}class yu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,Le(),Le(),Le())}}class mh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class xb{constructor(e,n){this.targetId=e,this.Ce=n}}class Rb{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Y0{constructor(){this.ve=0,this.Fe=Q0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ye(38017,{changeType:u})}})),new yu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Q0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.He=th(),this.Je=th(),this.Ze=new ft(ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Zm(u))if(r===0){const h=new pe(u.path);this.et(n,h,en.newNoDocument(h,be.min()))}else Ye(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=fr(r).toUint8Array()}catch(g){if(g instanceof W1)return po("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new qp(h,o,u)}catch(g){return po(g instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Zm(m.target)){const g=new pe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,en.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let r=Le();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new nf(e,n,this.Ze,this.je,r);return this.je=ps(),this.He=th(),this.Je=th(),this.Ze=new ft(ke),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Y0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new ft(pe.comparator)}function Q0(){return new ft(pe.comparator)}const AI={asc:"ASCENDING",desc:"DESCENDING"},xI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RI={and:"AND",or:"OR"};class CI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(s,e){return s.useProto3Json||Kh(e)?e:{value:e}}function Mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function NI(s,e){return Mh(s,e.toTimestamp())}function Oi(s){return Ye(!!s,49232),be.fromTimestamp((function(n){const r=hr(n);return new ot(r.seconds,r.nanos)})(s))}function Fp(s,e){return tp(s,e).canonicalString()}function tp(s,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function Nb(s){const e=at.fromString(s);return Ye(Vb(e),10190,{key:e.toString()}),e}function np(s,e){return Fp(s.databaseId,e.path)}function Cm(s,e){const n=Nb(e);if(n.get(1)!==s.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new pe(Db(n))}function Ib(s,e){return Fp(s.databaseId,e)}function II(s){const e=Nb(s);return e.length===4?at.emptyPath():Db(e)}function ip(s){return new at(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Db(s){return Ye(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function K0(s,e,n){return{name:np(s,e),fields:n.value.mapValue.fields}}function DI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ye(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,b){return p.useProto3Json?(Ye(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const b=p.code===void 0?te.UNKNOWN:Ab(p.code);return new de(b,p.message||"")})(h);n=new Rb(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Cm(s,r.document.name),u=Oi(r.document.updateTime),h=r.document.createTime?Oi(r.document.createTime):be.min(),m=new mn({mapValue:{fields:r.document.fields}}),g=en.newFoundDocument(o,u,h,m),p=r.targetIds||[],b=r.removedTargetIds||[];n=new mh(p,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Cm(s,r.document),u=r.readTime?Oi(r.readTime):be.min(),h=en.newNoDocument(o,u),m=r.removedTargetIds||[];n=new mh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Cm(s,r.document),u=r.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new EI(o,u),m=r.targetId;n=new xb(m,h)}}return n}function MI(s,e){let n;if(e instanceof gu)n={update:K0(s,e.key,e.value)};else if(e instanceof Bp)n={delete:np(s,e.key)};else if(e instanceof _r)n={update:K0(s,e.key,e.data),updateMask:BI(e.fieldMask)};else{if(!(e instanceof yI))return ye(16599,{dt:e.type});n={verify:np(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof nu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:NI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(s,e.precondition)),n}function OI(s,e){return s&&s.length>0?(Ye(e!==void 0,14353),s.map((n=>(function(o,u){let h=o.updateTime?Oi(o.updateTime):Oi(u);return h.isEqual(be.min())&&(h=Oi(u)),new mI(h,o.transformResults||[])})(n,e)))):[]}function VI(s,e){return{documents:[Ib(s,e.path)]}}function jI(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ib(s,o);const u=(function(p){if(p.length!==0)return Ob(Li.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((b=>(function(A){return{field:so(A.field),direction:PI(A.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ep(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function kI(s){let e=II(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ye(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const A=Mb(T);return A instanceof Li&&ub(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(Q){return new Ih(ro(Q.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Kh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(T){const A=!!T.before,C=T.values||[];return new Nh(C,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const A=!T.before,C=T.values||[];return new Nh(C,A)})(n.endAt)),ZN(e,o,h,u,m,"F",g,p)}function LI(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(s):s.fieldFilter!==void 0?(function(n){return jt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((r=>Mb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(s):ye(30097,{filter:s})}function PI(s){return AI[s]}function UI(s){return xI[s]}function zI(s){return RI[s]}function so(s){return{fieldPath:s.canonicalString()}}function ro(s){return Kt.fromServerFormat(s.fieldPath)}function Ob(s){return s instanceof jt?(function(n){if(n.op==="=="){if(j0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(V0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(V0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:UI(n.op),value:n.value}}})(s):s instanceof Li?(function(n){const r=n.getFilters().map((o=>Ob(o)));return r.length===1?r[0]:{compositeFilter:{op:zI(n.op),filters:r}}})(s):ye(54877,{filter:s})}function BI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Vb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function jb(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ir{constructor(e,n,r,o,u=be.min(),h=be.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HI{constructor(e){this.yt=e}}function qI(s){const e=kI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Wm(e,e.limit,"L"):e}class FI{constructor(){this.Sn=new GI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(cr.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class GI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new kt(at.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(at.comparator)).toArray()}}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(kb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class _o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}const X0="LruGarbageCollector",YI=1048576;function J0([s,e],[n,r]){const o=ke(s,n);return o===0?ke(e,r):o}class QI{constructor(e){this.Pr=e,this.buffer=new kt(J0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();J0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(X0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?ue(X0,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Ar(3e5)}))}}class $I{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Qh.ce);const r=new QI(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve($0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,h,m,g,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(p=Date.now(),no()<=je.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-b}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function XI(s,e){return new $I(s,e)}class JI{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class WI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Kl(r.mutation,o,wn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const o=Wr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=zl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let u=ps();const h=Ql(),m=(function(){return Ql()})();return n.forEach(((g,p)=>{const b=r.get(p.key);o.has(p.key)&&(b===void 0||b.mutation instanceof _r)?u=u.insert(p.key,p):b!==void 0?(h.set(p.key,b.mutation.getFieldMask()),Kl(b.mutation,p,b.mutation.getFieldMask(),ot.now())):h.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,b)=>h.set(p,b))),n.forEach(((p,b)=>m.set(p,new ZI(b,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Ql();let o=new ft(((h,m)=>h-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let b=r.get(g)||wn.empty();b=m.applyToLocalView(p,b),r.set(g,b);const T=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,b=g.value,T=yb();b.forEach((A=>{if(!u.has(A)){const C=Sb(n.get(A),r.get(A));C!==null&&T.set(A,C),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ee.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return WN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ee.resolve(Wr());let m=Zl,g=u;return h.next((p=>ee.forEach(p,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?ee.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{g=g.insert(b,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Le()))).next((b=>({batchId:m,changes:gb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let o=zl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=zl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(g=>{const p=(function(T,A){return new Xh(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((b=>{b.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((g,p)=>{const b=p.getKey();h.get(b)===null&&(h=h.insert(b,en.newInvalidDocument(b)))}));let m=zl();return h.forEach(((g,p)=>{const b=u.get(g);b!==void 0&&Kl(b.mutation,p,wn.empty(),ot.now()),Wh(n,p)&&(m=m.insert(g,p))})),m}))}}class e4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:qI(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),ee.resolve()}}class t4{constructor(){this.overlays=new ft(pe.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const o=Wr(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ft(((p,b)=>p-b));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let b=u.get(p.largestBatchId);b===null&&(b=Wr(),u=u.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const m=Wr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,b)=>m.set(p,b))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new _I(n,r));let u=this.Lr.get(n);u===void 0&&(u=Le(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class n4{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Gp{constructor(){this.kr=new kt(zt.Kr),this.qr=new kt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new pe(new at([])),r=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([r,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new at([])),r=new zt(n,e),o=new zt(n,e+1);let u=Le();return this.qr.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new zt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||ke(e.Hr,n.Hr)}static Ur(e,n){return ke(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class i4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(zt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new vI(u,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?jp:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(ke);return n.forEach((o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{r=r.add(m.Hr)}))})),ee.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const h=new zt(new pe(u),0);let m=new kt(ke);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zt(n,0),o=this.Jr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class s4{constructor(e){this.ti=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=ps();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:b}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||NN(CN(b),r)<=0||(o.has(b.key)||Wh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,r,o){ye(9500)}ni(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new r4(this)}getSize(e){return ee.resolve(this.size)}}class r4 extends JI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class a4{constructor(e){this.persistence=e,this.ri=new ca((n=>Pp(n)),Up),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Gp,this.targetCount=0,this.oi=_o._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class Lb{constructor(e,n){this._i={},this.overlays={},this.ai=new Qh(0),this.ui=!1,this.ui=!0,this.ci=new n4,this.referenceDelegate=e(this),this.li=new a4(this),this.indexManager=new FI,this.remoteDocumentCache=(function(o){return new s4(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new HI(n),this.Pi=new e4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new i4(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const o=new o4(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class o4 extends DN{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Ri=new Gp,this.Ai=null}static Vi(e){return new Yp(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(r=>{const o=pe.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.fi=new ca((r=>VN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=XI(this,n)}static Vi(e,n){return new Oh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(r++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hh(e.data.value)),n}wr(e,n,r){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qp(e,n.fromCache,r,o)}}class l4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class u4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Kx()?8:MN(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new l4;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(no()<=je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(no()<=je.DEBUG&&ue("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(no()<=je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ee.resolve())}gs(e,n){if(U0(n))return ee.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Wm(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Le(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,Wm(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,r,o){return U0(n)||o.isEqual(be.min())?ee.resolve(null):this.fs.getDocuments(e,r).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,r,o)?ee.resolve(null):(no()<=je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.Ds(e,h,n,RN(o,Zl)).next((m=>m)))}))}bs(e,n){let r=new kt(mb(e));return n.forEach(((o,u)=>{Wh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return no()<=je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",io(n)),this.fs.getDocumentsMatchingQuery(e,n,cr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Kp="LocalStore",c4=3e8;class h4{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(ke),this.Fs=new ca((u=>Pp(u)),Up),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function f4(s,e,n,r){return new h4(s,e,n,r)}async function Pb(s,e){const n=we(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let g=Le();for(const p of o){h.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}for(const p of u){m.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(r,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function d4(s,e){const n=we(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,b){const T=p.batch,A=T.keys();let C=ee.resolve();return A.forEach((Q=>{C=C.next((()=>b.getEntry(g,Q))).next(($=>{const K=p.docVersions.get(Q);Ye(K!==null,48541),$.version.compareTo(K)<0&&(T.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),b.addEntry($)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Ub(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function m4(s,e){const n=we(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((b,T)=>{const A=o.get(T);if(!A)return;m.push(n.li.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,T))));let C=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(b.resumeToken,r)),o=o.insert(T,C),(function($,K,ie){return $.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=c4?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(A,C,b)&&m.push(n.li.updateTargetData(u,C))}));let g=ps(),p=Le();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(p4(u,h,e.documentUpdates).next((b=>{g=b.Bs,p=b.Ls}))),!r.isEqual(be.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function p4(s,e,n){let r=Le(),o=Le();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let h=ps();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ue(Kp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function g4(s,e){const n=we(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=jp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function y4(s,e){const n=we(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(r).next((h=>(o=new ir(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function sp(s,e,n){const r=we(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Co(h))throw h;ue(Kp,`Failed to update sequence numbers for target ${e}: ${h}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function Z0(s,e,n){const r=we(s);let o=be.min(),u=Le();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,b){const T=we(g),A=T.Fs.get(b);return A!==void 0?ee.resolve(T.vs.get(A)):T.li.getTargetData(p,b)})(r,h,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Le()))).next((m=>(v4(r,nI(e),m),{documents:m,ks:u})))))}function v4(s,e,n){let r=s.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class W0{constructor(){this.activeTargetIds=lI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _4{constructor(){this.vo=new W0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new W0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class E4{Mo(e){}shutdown(){}}const eE="ConnectivityMonitor";class tE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(eE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nh=null;function rp(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}const Nm="RestConnection",b4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class T4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const h=rp(),m=this.Qo(e,n.toUriEncodedString());ue(Nm,`Sending RPC '${e}' ${h}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),b=So(p);return this.zo(e,m,g,r,b).then((T=>(ue(Nm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw po(Nm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(e,n,r,o,u,h){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=b4[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class S4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",Ll=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class uo extends T4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!uo.c_){const e=G1();Ll(e,F1.STAT_EVENT,(n=>{n.stat===Qm.PROXY?ue(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===Qm.NOPROXY&&ue(Zt,"STAT_EVENT: detected no buffering proxy")})),uo.c_=!0}}zo(e,n,r,o,u){const h=rp();return new Promise(((m,g)=>{const p=new H1;p.setWithCredentials(!0),p.listenOnce(q1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const T=p.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case ch.TIMEOUT:ue(Zt,`RPC '${e}' ${h} timed out`),g(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const A=p.getStatus();if(ue(Zt,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const Q=C?.error;if(Q&&Q.status&&Q.message){const $=(function(ie){const ne=ie.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ne)>=0?ne:te.UNKNOWN})(Q.status);g(new de($,Q.message))}else g(new de(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new de(te.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Zt,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);ue(Zt,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=rp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const p=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${p}`,m);const b=h.createWebChannel(p,m);this.I_(b);let T=!1,A=!1;const C=new S4({Ho:Q=>{A?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(T||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,Q),b.send(Q))},Jo:()=>b.close()});return Ll(b,Ul.EventType.OPEN,(()=>{A||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),C.i_())})),Ll(b,Ul.EventType.CLOSE,(()=>{A||(A=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),C.o_(),this.E_(b))})),Ll(b,Ul.EventType.ERROR,(Q=>{A||(A=!0,po(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),C.o_(new de(te.UNAVAILABLE,"The operation could not be completed")))})),Ll(b,Ul.EventType.MESSAGE,(Q=>{if(!A){const $=Q.data[0];Ye(!!$,16349);const K=$,ie=K?.error||K[0]?.error;if(ie){ue(Zt,`RPC '${e}' stream ${o} received error:`,ie);const ne=ie.status;let se=(function(Te){const I=It[Te];if(I!==void 0)return Ab(I)})(ne),ve=ie.message;se===void 0&&(se=te.INTERNAL,ve="Unknown error status: "+ne+" with message "+ie.message),A=!0,C.o_(new de(se,ve)),b.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,$),C.__($)}})),uo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Y1()}}function w4(s){return new uo(s)}function Im(){return typeof document<"u"?document:null}function sf(s){return new CI(s,!0)}uo.c_=!1;class zb{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const nE="PersistentStream";class Bb{constructor(e,n,r,o,u,h,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A4 extends Bb{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Oi(h.readTime):be.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=ip(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Zm(g)?{documents:VI(u,g)}:{query:jI(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Cb(u,h.resumeToken);const p=ep(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Mh(u,h.snapshotVersion.toTimestamp());const p=ep(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const r=LI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.K_(n)}}class x4 extends Bb{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OI(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ip(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>MI(this.serializer,r)))};this.K_(n)}}class R4{}class C4 extends R4{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,tp(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,tp(n,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(te.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function N4(s,e,n,r){return new C4(s,e,n,r)}class I4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class D4{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{ha(this)&&(ue(oa,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await vu(p),p.Va.set("Unknown"),p.Ea.delete(4),await rf(p)})(this))}))})),this.Va=new I4(r,o)}}async function rf(s){if(ha(s))for(const e of s.Ra)await e(!0)}async function vu(s){for(const e of s.Ra)await e(!1)}function Hb(s,e){const n=we(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zp(n)?Jp(n):No(n).O_()&&Xp(n,e))}function $p(s,e){const n=we(s),r=No(n);n.Ia.delete(e),r.O_()&&qb(n,e),n.Ia.size===0&&(r.O_()?r.L_():ha(n)&&n.Va.set("Unknown"))}function Xp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(s).Z_(e)}function qb(s,e){s.da.$e(e),No(s).X_(e)}function Jp(s){s.da=new wI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Va.ua()}function Zp(s){return ha(s)&&!No(s).x_()&&s.Ia.size>0}function ha(s){return we(s).Ea.size===0}function Fb(s){s.da=void 0}async function M4(s){s.Va.set("Online")}async function O4(s){s.Ia.forEach(((e,n)=>{Xp(s,e)}))}async function V4(s,e){Fb(s),Zp(s)?(s.Va.ha(e),Jp(s)):s.Va.set("Unknown")}async function j4(s,e,n){if(s.Va.set("Online"),e instanceof Rb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){ue(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(s,r)}else if(e instanceof mh?s.da.Xe(e):e instanceof xb?s.da.st(e):s.da.tt(e),!n.isEqual(be.min()))try{const r=await Ub(s.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(p);b&&u.Ia.set(p,b.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),qb(u,g);const T=new ir(b.target,g,p,b.sequenceNumber);Xp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ue(oa,"Failed to raise snapshot:",r),await Vh(s,r)}}async function Vh(s,e,n){if(!Co(e))throw e;s.Ea.add(1),await vu(s),s.Va.set("Offline"),n||(n=()=>Ub(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(oa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await rf(s)}))}function Gb(s,e){return e().catch((n=>Vh(s,n,e)))}async function af(s){const e=we(s),n=mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jp;for(;k4(e);)try{const o=await g4(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,L4(e,o)}catch(o){await Vh(e,o)}Yb(e)&&Qb(e)}function k4(s){return ha(s)&&s.Ta.length<10}function L4(s,e){s.Ta.push(e);const n=mr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function Yb(s){return ha(s)&&!mr(s).x_()&&s.Ta.length>0}function Qb(s){mr(s).start()}async function P4(s){mr(s).ra()}async function U4(s){const e=mr(s);for(const n of s.Ta)e.ea(n.mutations)}async function z4(s,e,n){const r=s.Ta.shift(),o=Hp.from(r,e,n);await Gb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await af(s)}async function B4(s,e){e&&mr(s).Y_&&await(async function(r,o){if((function(h){return bI(h)&&h!==te.ABORTED})(o.code)){const u=r.Ta.shift();mr(r).B_(),await Gb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await af(r)}})(s,e),Yb(s)&&Qb(s)}async function iE(s,e){const n=we(s);n.asyncQueue.verifyOperationInProgress(),ue(oa,"RemoteStore received new credentials");const r=ha(n);n.Ea.add(3),await vu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rf(n)}async function H4(s,e){const n=we(s);e?(n.Ea.delete(2),await rf(n)):e||(n.Ea.add(2),await vu(n),n.Va.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(n,r,o){const u=we(n);return u.sa(),new A4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:M4.bind(null,s),Yo:O4.bind(null,s),t_:V4.bind(null,s),J_:j4.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Zp(s)?Jp(s):s.Va.set("Unknown")):(await s.ma.stop(),Fb(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(n,r,o){const u=we(n);return u.sa(),new x4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:P4.bind(null,s),t_:B4.bind(null,s),ta:U4.bind(null,s),na:z4.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await af(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Wp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,m=new Wp(e,n,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(s,e){if(ms("AsyncQueue",`${e}: ${s}`),Co(s))return new de(te.UNAVAILABLE,`${e}: ${s}`);throw s}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=zl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class sE{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Eo{constructor(e,n,r,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Eo(e,n,co.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class q4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class F4{constructor(){this.queries=rE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=we(n),u=o.queries;o.queries=rE(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new de(te.ABORTED,"Firestore shutting down"))}}function rE(){return new ca((s=>db(s)),Zh)}async function Kb(s,e){const n=we(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new q4,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=eg(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&tg(n)}async function $b(s,e){const n=we(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function G4(s,e){const n=we(s);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(r=!0);h.wa=o}}r&&tg(n)}function Y4(s,e,n){const r=we(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function tg(s){s.Ca.forEach((e=>{e.next()}))}var ap,aE;(aE=ap||(ap={})).Ma="default",aE.Cache="cache";class Xb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}class Jb{constructor(e){this.key=e}}class Zb{constructor(e){this.key=e}}class Q4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=mb(e),this.tu=new co(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new sE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const A=o.get(b),C=Wh(this.query,T)?T:null,Q=!!A&&this.mutatedKeys.has(A.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let K=!1;A&&C?A.data.isEqual(C.data)?Q!==$&&(r.track({type:3,doc:C}),K=!0):this.su(A,C)||(r.track({type:2,doc:C}),K=!0,(g&&this.eu(C,g)>0||p&&this.eu(C,p)<0)&&(m=!0)):!A&&C?(r.track({type:0,doc:C}),K=!0):A&&!C&&(r.track({type:1,doc:A}),K=!0,(g||p)&&(m=!0)),K&&(C?(h=h.add(C),u=$?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:h,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,T)=>(function(C,Q){const $=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:K})}};return $(C)-$(Q)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Eo(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Zb(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Jb(r))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ng="SyncEngine";class K4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $4{constructor(e){this.key=e,this.hu=!1}}class X4{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ca((m=>db(m)),Zh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(pe.comparator),this.Au=new Map,this.Vu=new Gp,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J4(s,e,n=!0){const r=sT(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Wb(r,e,n,!0),o}async function Z4(s,e){const n=sT(s);await Wb(n,e,!0,!1)}async function Wb(s,e,n,r){const o=await y4(s.localStore,Mi(e)),u=o.targetId,h=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await W4(s,e,u,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&Hb(s.remoteStore,o),m}async function W4(s,e,n,r,o){s.pu=(T,A,C)=>(async function($,K,ie,ne){let se=K.view.ru(ie);se.Ss&&(se=await Z0($.localStore,K.query,!1).then((({documents:I})=>K.view.ru(I,se))));const ve=ne&&ne.targetChanges.get(K.targetId),Ae=ne&&ne.targetMismatches.get(K.targetId)!=null,Te=K.view.applyChanges(se,$.isPrimaryClient,ve,Ae);return lE($,K.targetId,Te.au),Te.snapshot})(s,T,A,C);const u=await Z0(s.localStore,e,!0),h=new Q4(e,u.ks),m=h.ru(u.documents),g=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),p=h.applyChanges(m,s.isPrimaryClient,g);lE(s,n,p.au);const b=new K4(e,n,h);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),p.snapshot}async function eD(s,e,n){const r=we(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!Zh(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&$p(r.remoteStore,o.targetId),op(r,o.targetId)})).catch(Ro)):(op(r,o.targetId),await sp(r.localStore,o.targetId,!0))}async function tD(s,e){const n=we(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$p(n.remoteStore,r.targetId))}async function nD(s,e,n){const r=uD(s);try{const o=await(function(h,m){const g=we(h),p=ot.now(),b=m.reduce(((C,Q)=>C.add(Q.key)),Le());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let Q=ps(),$=Le();return g.xs.getEntries(C,b).next((K=>{Q=K,Q.forEach(((ie,ne)=>{ne.isValidDocument()||($=$.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,Q))).next((K=>{T=K;const ie=[];for(const ne of m){const se=gI(ne,T.get(ne.key).overlayedDocument);se!=null&&ie.push(new _r(ne.key,se,ab(se.value.mapValue),Hn.exists(!0)))}return g.mutationQueue.addMutationBatch(C,p,ie,m)})).next((K=>{A=K;const ie=K.applyToLocalDocumentSet(T,$);return g.documentOverlayCache.saveOverlays(C,K.batchId,ie)}))})).then((()=>({batchId:A.batchId,changes:gb(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new ft(ke)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(r,o.batchId,n),await _u(r,o.changes),await af(r.remoteStore)}catch(o){const u=eg(o,"Failed to persist write");n.reject(u)}}async function eT(s,e){const n=we(s);try{const r=await m4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ye(h.hu,14607):o.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))})),await _u(n,r,e)}catch(r){await Ro(r)}}function oE(s,e,n){const r=we(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=we(h);g.onlineState=m;let p=!1;g.queries.forEach(((b,T)=>{for(const A of T.ba)A.va(m)&&(p=!0)})),p&&tg(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iD(s,e,n){const r=we(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new ft(pe.comparator);h=h.insert(u,en.newNoDocument(u,be.min()));const m=Le().add(u),g=new nf(be.min(),new Map,new ft(ke),h,m);await eT(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),ig(r)}else await sp(r.localStore,e,!1).then((()=>op(r,e,n))).catch(Ro)}async function sD(s,e){const n=we(s),r=e.batch.batchId;try{const o=await d4(n.localStore,e);nT(n,r,null),tT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,o)}catch(o){await Ro(o)}}async function rD(s,e,n){const r=we(s);try{const o=await(function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(Ye(T!==null,37113),b=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>g.localDocuments.getDocuments(p,b)))}))})(r.localStore,e);nT(r,e,n),tT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,o)}catch(o){await Ro(o)}}function tT(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function nT(s,e,n){const r=we(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function op(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||iT(s,r)}))}function iT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&($p(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),ig(s))}function lE(s,e,n){for(const r of n)r instanceof Jb?(s.Vu.addReference(r.key,e),aD(s,r)):r instanceof Zb?(ue(ng,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||iT(s,r.key)):ye(19791,{wu:r})}function aD(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ue(ng,"New document in limbo: "+n),s.Eu.add(r),ig(s))}function ig(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new pe(at.fromString(e)),r=s.fu.next();s.Au.set(r,new $4(n)),s.Ru=s.Ru.insert(n,r),Hb(s.remoteStore,new ir(Mi(Jh(n.path)),r,"TargetPurposeLimboResolution",Qh.ce))}}async function _u(s,e,n){const r=we(s),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{h.push(r.pu(g,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const b=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){o.push(p);const b=Qp.Es(g.targetId,p);u.push(b)}})))})),await Promise.all(h),r.Pu.J_(o),await(async function(g,p){const b=we(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(p,(A=>ee.forEach(A.Ts,(C=>b.persistence.referenceDelegate.addReference(T,A.targetId,C))).next((()=>ee.forEach(A.Is,(C=>b.persistence.referenceDelegate.removeReference(T,A.targetId,C)))))))))}catch(T){if(!Co(T))throw T;ue(Kp,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const C=b.vs.get(A),Q=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(Q);b.vs=b.vs.insert(A,$)}}})(r.localStore,u))}async function oD(s,e){const n=we(s);if(!n.currentUser.isEqual(e)){ue(ng,"User change. New user:",e.toKey());const r=await Pb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new de(te.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.Ns)}}function lD(s,e){const n=we(s),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function sT(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=eT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iD.bind(null,e),e.Pu.J_=G4.bind(null,e.eventManager),e.Pu.yu=Y4.bind(null,e.eventManager),e}function uD(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rD.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return f4(this.persistence,new u4,e.initialUser,this.serializer)}Cu(e){return new Lb(Yp.Vi,this.serializer)}Du(e){return new _4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class cD extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new KI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Lb((r=>Oh.Vi(r,n)),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oD.bind(null,this.syncEngine),await H4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new F4})()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),r=w4(e.databaseInfo);return N4(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,m){return new D4(r,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>oE(this.syncEngine,n,0)),(function(){return tE.v()?new tE:new E4})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,b){const T=new X4(o,u,h,m,g,p);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=we(n);ue(oa,"RemoteStore shutting down."),r.Ea.add(5),await vu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};class rT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const pr="FirestoreClient";class hD{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{ue(pr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(ue(pr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(pr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Pb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function uE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await fD(s);ue(pr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>iE(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>iE(e.remoteStore,o))),s._onlineComponents=e}async function fD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(pr,"Using user provided OfflineComponentProvider");try{await Dm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Dm(s,new jh)}}else ue(pr,"Using default OfflineComponentProvider"),await Dm(s,new cD(void 0));return s._offlineComponents}async function aT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(pr,"Using user provided OnlineComponentProvider"),await uE(s,s._uninitializedComponentsProvider._online)):(ue(pr,"Using default OnlineComponentProvider"),await uE(s,new lp))),s._onlineComponents}function dD(s){return aT(s).then((e=>e.syncEngine))}async function up(s){const e=await aT(s),n=e.eventManager;return n.onListen=J4.bind(null,e.syncEngine),n.onUnlisten=eD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tD.bind(null,e.syncEngine),n}function mD(s,e,n,r){const o=new rT(r),u=new Xb(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>Kb(await up(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>$b(await up(s),u)))}}function pD(s,e,n={}){const r=new lr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const b=new rT({next:A=>{b.Nu(),h.enqueueAndForget((()=>$b(u,T)));const C=A.docs.has(m);!C&&A.fromCache?p.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&g&&g.source==="server"?p.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new Xb(Jh(m.path),b,{includeMetadataChanges:!0,Ka:!0});return Kb(u,T)})(await up(s),s.asyncQueue,e,n,r))),r.promise}function gD(s,e){const n=new lr;return s.asyncQueue.enqueueAndForget((async()=>nD(await dD(s),e,n))),n.promise}function oT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const yD="ComponentProvider",cE=new Map;function vD(s,e,n,r,o){return new LN(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,oT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const lT="firestore.googleapis.com",hE=!0;class fE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lT,this.ssl=hE}else this.host=e.host,this.ssl=e.ssl??hE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YI)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gN;switch(r.type){case"firstParty":return new EN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=cE.get(n);r&&(ue(yD,"Removing Datastore"),cE.delete(n),r.terminate())})(this),Promise.resolve()}}function _D(s,e,n,r={}){s=Bn(s,of);const o=So(e),u=s._getSettings(),h={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(i1(`https://${m}`),s1("Firestore",!0)),u.host!==lT&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!ia(g,h)&&(s._setSettings(g),r.mockUserToken)){let p,b;if(typeof r.mockUserToken=="string")p=r.mockUserToken,b=Wt.MOCK_USER;else{p=Ux(r.mockUserToken,s._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wt(T)}s._authCredentials=new yN(new K1(p,b))}}class lf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lf(this.firestore,e,this._query)}}class Et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pu(n,Et._jsonSchema))return new Et(e,r||null,new pe(at.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Dt("string",Et._jsonSchemaVersion),referencePath:Dt("string")};class ur extends lf{constructor(e,n,r){super(e,n,Jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new pe(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function Pl(s,e,...n){if(s=$t(s),$1("collection","path",e),s instanceof of){const r=at.fromString(e,...n);return x0(r),new ur(s,null,r)}{if(!(s instanceof Et||s instanceof ur))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...n));return x0(r),new ur(s.firestore,null,r)}}function nr(s,e,...n){if(s=$t(s),arguments.length===1&&(e=Op.newId()),$1("doc","path",e),s instanceof of){const r=at.fromString(e,...n);return A0(r),new Et(s,null,new pe(r))}{if(!(s instanceof Et||s instanceof ur))throw new de(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...n));return A0(r),new Et(s.firestore,s instanceof ur?s.converter:null,new pe(r))}}const dE="AsyncQueue";class mE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zb(this,"async_queue_retry"),this._c=()=>{const r=Im();r&&ue(dE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;ue(dE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",pE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Wp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:pE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class gr extends of{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new mE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function ED(s,e){const n=typeof s=="object"?s:l1(),r=typeof s=="string"?s:Rh,o=bp(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Lx("firestore");u&&_D(o,...u)}return o}function sg(s){if(s._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||bD(s),s._firestoreClient}function bD(s){const e=s._freezeSettings(),n=vD(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new hD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Dt("string",zn._jsonSchemaVersion),bytes:Dt("string")};class rg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uf{constructor(e){this._methodName=e}}class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(pu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Dt("string",Vi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ri{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ri(e.vectorValues);throw new de(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Dt("string",ri._jsonSchemaVersion),vectorValues:Dt("object")};const TD=/^__.*__$/;class SD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class uT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:s})}}class ag{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return kh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(cT(this.dataSource)&&TD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class wD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sf(e)}createContext(e,n,r,o=!1){return new ag({dataSource:e,methodName:n,targetDoc:r,path:Kt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function og(s){const e=s._freezeSettings(),n=sf(s._databaseId);return new wD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function hT(s,e,n,r,o,u={}){const h=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);ug("Data must be an object, but it was:",h,r);const m=fT(r,h);let g,p;if(u.merge)g=new wn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const A=ru(e,T,n);if(!h.contains(A))throw new de(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);pT(b,A)||b.push(A)}g=new wn(b),p=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=h.fieldTransforms;return new SD(new mn(m),g,p)}class cf extends uf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}class lg extends uf{_toFieldTransform(e){return new fI(e.path,new nu)}isEqual(e){return e instanceof lg}}function AD(s,e,n,r){const o=s.createContext(1,e,n);ug("Data must be an object, but it was:",o,r);const u=[],h=mn.empty();vr(r,((g,p)=>{const b=mT(e,g,n);p=$t(p);const T=o.childContextForFieldPath(b);if(p instanceof cf)u.push(b);else{const A=hf(p,T);A!=null&&(u.push(b),h.set(b,A))}}));const m=new wn(u);return new uT(h,m,o.fieldTransforms)}function xD(s,e,n,r,o,u){const h=s.createContext(1,e,n),m=[ru(e,r,n)],g=[o];if(u.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(ru(e,u[A])),g.push(u[A+1]);const p=[],b=mn.empty();for(let A=m.length-1;A>=0;--A)if(!pT(p,m[A])){const C=m[A];let Q=g[A];Q=$t(Q);const $=h.childContextForFieldPath(C);if(Q instanceof cf)p.push(C);else{const K=hf(Q,$);K!=null&&(p.push(C),b.set(C,K))}}const T=new wn(p);return new uT(b,T,h.fieldTransforms)}function hf(s,e){if(dT(s=$t(s)))return ug("Unsupported field value:",e,s),fT(s,e);if(s instanceof uf)return(function(r,o){if(!cT(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const m of r){let g=hf(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ot.fromDate(r);return{timestampValue:Mh(o.serializer,u)}}if(r instanceof ot){const u=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:Cb(o.serializer,r._byteString)};if(r instanceof Et){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ri)return(function(h,m){const g=h instanceof ri?h.toArray():h;return{mapValue:{fields:{[sb]:{stringValue:rb},[Ch]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return zp(m.serializer,b)}))}}}}}})(r,o);if(jb(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Vp(r)}`)})(s,e)}function fT(s,e){const n={};return Z1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,((r,o)=>{const u=hf(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function dT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof Vi||s instanceof zn||s instanceof Et||s instanceof uf||s instanceof ri||jb(s))}function ug(s,e,n){if(!dT(n)||!X1(n)){const r=Vp(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function ru(s,e,n){if((e=$t(e))instanceof rg)return e._internalPath;if(typeof e=="string")return mT(s,e);throw kh("Field path arguments must be of type string or ",s,!1,void 0,n)}const RD=new RegExp("[~\\*/\\[\\]]");function mT(s,e,n){if(e.search(RD)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new rg(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function kh(s,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new de(te.INVALID_ARGUMENT,m+s+g)}function pT(s,e){return s.some((n=>n.isEqual(e)))}class CD{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Ch].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new ri(n)}convertGeoPoint(e){return new Vi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$h(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=hr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Ye(Vb(r),9688,{name:e});const o=new eu(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return o.isEqual(n)||ms(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class gT extends CD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function gE(){return new lg("serverTimestamp")}const yE="@firebase/firestore",vE="4.10.0";function _E(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class yT{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ru("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ND extends yT{data(){return super.data()}}function ID(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function vT(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends yT{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ru("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Dt("string",ta._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class ph extends ta{data(e={}){return super.data(e)}}class ho{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ph(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,b=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:DD(m.type),doc:g,oldIndex:p,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:s})}}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Dt("string",ho._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function EE(s){s=Bn(s,Et);const e=Bn(s.firestore,gr),n=sg(e);return pD(n,s._key).then((r=>_T(e,s,r)))}function MD(s,e,n){s=Bn(s,Et);const r=Bn(s.firestore,gr),o=vT(s.converter,e),u=og(r);return ff(r,[hT(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Hn.none())])}function Lh(s,e,n,...r){s=Bn(s,Et);const o=Bn(s.firestore,gr),u=og(o);let h;return h=typeof(e=$t(e))=="string"||e instanceof rg?xD(u,"updateDoc",s._key,e,n,r):AD(u,"updateDoc",s._key,e),ff(o,[h.toMutation(s._key,Hn.exists(!0))])}function bE(s){return ff(Bn(s.firestore,gr),[new Bp(s._key,Hn.none())])}function TE(s,e){const n=Bn(s.firestore,gr),r=nr(s),o=vT(s.converter,e),u=og(s.firestore);return ff(n,[hT(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then((()=>r))}function Mm(s,...e){s=$t(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_E(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_E(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,h,m;if(s instanceof Et)h=Bn(s.firestore,gr),m=Jh(s._key.path),u={next:p=>{e[r]&&e[r](_T(h,s,p))},error:e[r+1],complete:e[r+2]};else{const p=Bn(s,lf);h=Bn(p.firestore,gr),m=p._query;const b=new gT(h);u={next:T=>{e[r]&&e[r](new ho(h,b,p,T))},error:e[r+1],complete:e[r+2]},ID(s._query)}const g=sg(h);return mD(g,m,o,u)}function ff(s,e){const n=sg(s);return gD(n,e)}function _T(s,e,n){const r=n.docs.get(e._key),o=new gT(s);return new ta(s,o,e._key,r,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){pN(wo),fo(new sa("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new gr(new vN(r.getProvider("auth-internal")),new bN(h,r.getProvider("app-check-internal")),PN(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ar(yE,vE,e),ar(yE,vE,"esm2020")})();const OD={apiKey:"AIzaSyCCDR8O9zy0bSyCa5dsinR8SSmnMQcWxTY",authDomain:"fycs-study-hub.firebaseapp.com",projectId:"fycs-study-hub",storageBucket:"fycs-study-hub.firebasestorage.app",messagingSenderId:"308883339928",appId:"1:308883339928:web:a5e59d402b7ddf0e4b2eed"},ET=o1(OD),Om=dN(ET),VD=new as,Un=ED(ET),bT=L.createContext(),Pi=()=>{const s=L.useContext(bT);if(!s)throw new Error("useApp must be used within an AppProvider");return s},jD=({children:s})=>{const[e,n]=L.useState([]),[r,o]=L.useState([]),[u]=L.useState([{id:"1",name:"Semester 1",active:!0},{id:"2",name:"Semester 2",active:!0},{id:"3",name:"Semester 3",active:!0},{id:"4",name:"Semester 4",active:!0}]),[h,m]=L.useState(null),[g,p]=L.useState([]),[b,T]=L.useState(!0);L.useEffect(()=>{const le=Mm(Pl(Un,"materials"),x=>{const G=x.docs.map(ae=>({id:ae.id,...ae.data()}));n(G),b&&T(!1)},x=>{console.error("Error listening to materials: ",x),b&&T(!1)});return()=>le()},[b]),L.useEffect(()=>{const le=Mm(Pl(Un,"subjects"),x=>{const G=x.docs.map(ae=>({id:ae.id,...ae.data()}));o(G),b&&T(!1)},x=>{console.error("Error listening to subjects: ",x),b&&T(!1)});return()=>le()},[b]),L.useEffect(()=>{const le=Mm(Pl(Un,"users"),x=>{const G=x.docs.map(ae=>({id:ae.id,...ae.data()}));p(G)},x=>{console.error("Error listening to users: ",x)});return()=>le()},[]),L.useEffect(()=>{const le=tC(Om,async x=>{if(x){const G=nr(Un,"users",x.uid);(await EE(G)).exists()||await MD(G,{uid:x.uid,displayName:x.displayName,email:x.email,photoURL:x.photoURL,role:"student",createdAt:new Date}),m(x)}else m(null)});return()=>le()},[]);const A=h?.email==="rishiuttamsahu@gmail.com"||g.find(le=>le.uid===h?.uid)?.role==="admin",C=L.useMemo(()=>{const le=e.filter(G=>G.status==="Approved"),x=e.filter(G=>G.status==="Pending");return{totalViews:le.reduce((G,ae)=>G+(ae.views||0),0),totalDownloads:le.reduce((G,ae)=>G+(ae.downloads||0),0),pendingRequests:x.length,totalMaterials:e.length,approvedMaterials:le.length,totalSubjects:r.length,totalSemesters:u.length}},[e,r,u]),Je={materials:e,subjects:r,semesters:u,users:g,user:h,stats:C,loading:b,isAdmin:A,login:async()=>{try{return{success:!0,user:(await TC(Om,VD)).user}}catch(le){return console.error("Login error:",le),{success:!1,error:le.message}}},logout:async()=>{try{return await nC(Om),{success:!0}}catch(le){return console.error("Logout error:",le),{success:!1,error:le.message}}},addMaterial:async le=>{try{const x={title:le.title.trim(),subjectId:le.subjectId,semId:le.semId,type:le.type,link:le.link.trim(),status:"Pending",views:0,downloads:0,uploadedBy:le.uploadedBy||"Student",date:gE()};return{success:!0,id:(await TE(Pl(Un,"materials"),x)).id}}catch(x){return console.error("Error adding material:",x),{success:!1,error:x?.message||x?.toString()||"Failed to add material"}}},approveMaterial:async le=>{try{return await Lh(nr(Un,"materials",le),{status:"Approved",approvedAt:gE()}),{success:!0}}catch(x){return console.error("Error approving material:",x),{success:!1,error:x?.message||x?.toString()||"Failed to approve material"}}},rejectMaterial:async le=>{try{return await bE(nr(Un,"materials",le)),{success:!0}}catch(x){return console.error("Error rejecting material:",x),{success:!1,error:x?.message||x?.toString()||"Failed to reject material"}}},deleteMaterial:async le=>{try{return await bE(nr(Un,"materials",le)),{success:!0}}catch(x){return console.error("Error deleting material:",x),{success:!1,error:x?.message||x?.toString()||"Failed to delete material"}}},addSubject:async(le,x)=>{try{const G={name:le.trim(),semId:Number(x),icon:"Book",createdAt:new Date};return{success:!0,id:(await TE(Pl(Un,"subjects"),G)).id}}catch(G){return console.error("Error adding subject:",G),{success:!1,error:G?.message||G?.toString()||"Failed to add subject"}}},incrementView:async le=>{try{const x=nr(Un,"materials",le),G=await EE(x);if(G.exists()){const ae=G.data().views||0;return await Lh(x,{views:ae+1}),{success:!0}}else return{success:!1,error:"Material not found"}}catch(x){return console.error("Error incrementing view:",x),{success:!1,error:x?.message||x?.toString()||"Failed to increment view count"}}},getSubjectById:le=>r.find(x=>x.id===le),getSemesterById:le=>u.find(x=>x.id===le),getMaterialsBySubject:le=>e.filter(x=>x.subjectId===le&&x.status==="Approved"),getMaterialsBySemester:le=>e.filter(x=>x.semId===le&&x.status==="Approved"),getPendingMaterials:()=>e.filter(le=>le.status==="Pending"),getApprovedMaterials:()=>e.filter(le=>le.status==="Approved"),getRecentMaterials:(le=5)=>e.filter(x=>x.status==="Approved").sort((x,G)=>{const ae=x.date?.toDate?x.date.toDate():new Date(x.date||Date.now());return(G.date?.toDate?G.date.toDate():new Date(G.date||Date.now()))-ae}).slice(0,le),getSubjectsBySemester:le=>r.filter(x=>Number(x.semId)===Number(le))};return E.jsx(bT.Provider,{value:Je,children:s})};const TT=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const kD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const LD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const SE=s=>{const e=LD(s);return e.charAt(0).toUpperCase()+e.slice(1)};var PD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UD=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const zD=L.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:h,...m},g)=>L.createElement("svg",{ref:g,...PD,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:TT("lucide",o),...!u&&!UD(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,b])=>L.createElement(p,b)),...Array.isArray(u)?u:[u]]));const it=(s,e)=>{const n=L.forwardRef(({className:r,...o},u)=>L.createElement(zD,{ref:u,iconNode:e,className:TT(`lucide-${kD(SE(s))}`,`lucide-${s}`,r),...o}));return n.displayName=SE(s),n};const BD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],HD=it("arrow-left",BD);const qD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],FD=it("book-open",qD);const GD=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Ph=it("book",GD);const YD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],QD=it("chart-no-axes-column",YD);const KD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$D=it("chevron-left",KD);const XD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wE=it("circle-check-big",XD);const JD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ZD=it("circle-x",JD);const WD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AE=it("clock",WD);const e3=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],t3=it("cloud-upload",e3);const n3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],i3=it("download",n3);const s3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],r3=it("external-link",s3);const a3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o3=it("eye",a3);const l3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],na=it("file-text",l3);const u3=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],c3=it("graduation-cap",u3);const h3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],f3=it("house",h3);const d3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],m3=it("layers",d3);const p3=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],g3=it("library",p3);const y3=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],v3=it("link-2",y3);const _3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E3=it("log-out",_3);const b3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],T3=it("plus",b3);const S3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],w3=it("search",S3);const A3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x3=it("settings",A3);const R3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],C3=it("shield",R3);const N3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],I3=it("tag",N3);const D3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vm=it("trash-2",D3);const M3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ST=it("upload",M3);const O3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cg=it("user",O3),V3=()=>{const s=gs(),{isAdmin:e,user:n}=Pi(),r=[{icon:E.jsx(f3,{size:22}),label:"Home",path:"/"},{icon:E.jsx(g3,{size:22}),label:"Library",path:"/library"},...e?[{icon:E.jsx(ST,{size:22}),label:"Upload",path:"/upload"}]:[],...e?[{icon:E.jsx(C3,{size:22}),label:"Admin",path:"/admin"}]:[],{icon:E.jsx(cg,{size:22}),label:"Profile",path:"/profile"}],o=u=>u==="/"?s.pathname==="/":s.pathname.startsWith(u);return E.jsx("nav",{className:"glass-nav px-2 py-3",children:E.jsx("div",{className:"flex justify-around items-center max-w-md mx-auto",children:r.map(u=>E.jsxs(lu,{to:u.path,className:`flex flex-col items-center gap-1 transition-colors ${o(u.path)?"text-[#FFD700]":"text-white/45 hover:text-white/80"}`,children:[u.icon,E.jsx("span",{className:"text-[10px] font-medium",children:u.label})]},u.path))})})},j3=[{id:"analytics",label:"Analytics",icon:E.jsx(QD,{size:16})},{id:"subjects",label:"Subjects",icon:E.jsx(Ph,{size:16})},{id:"materials",label:"Materials",icon:E.jsx(na,{size:16})},{id:"users",label:"Users",icon:E.jsx(cg,{size:16})},{id:"settings",label:"Settings",icon:E.jsx(x3,{size:16})}];function k3(){const[s,e]=L.useState("analytics"),[n,r]=L.useState("Pending"),[o,u]=L.useState(!1),[h,m]=L.useState({name:"",semesterId:"1",icon:"Book"}),g=ua(),{semesters:p,subjects:b,materials:T,users:A,stats:C,user:Q,loading:$,approveMaterial:K,rejectMaterial:ie,deleteMaterial:ne,addSubject:se,getSemesterById:ve,getSubjectById:Ae,getPendingMaterials:Te,getApprovedMaterials:I,getSubjectsBySemester:R}=Pi(),N="rishiuttamsahu@gmail.com";if(L.useEffect(()=>{!$&&Q?.email!==N&&g("/")},[Q,$,g]),!$&&Q?.email!==N)return null;if($)return E.jsx("div",{className:"min-h-screen bg-[#0a0a0a] text-white flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-xl mb-2",children:"Loading Admin Dashboard..."}),E.jsx("p",{className:"text-white/55",children:"Please wait while we fetch the data."})]})});const j={totalViews:((T||[]).filter(x=>x?.status==="Approved")||[]).reduce((x,G)=>x+(G?.views||0),0),totalDownloads:((T||[]).filter(x=>x?.status==="Approved")||[]).reduce((x,G)=>x+(G?.downloads||0),0),pendingRequests:((T||[]).filter(x=>x?.status==="Pending")||[]).length,totalMaterials:(T||[]).length,approvedMaterials:((T||[]).filter(x=>x?.status==="Approved")||[]).length,totalSubjects:(b||[]).length,totalSemesters:(p||[]).length},O=x=>x>=1e3?`${(x/1e3).toFixed(1)}k`:x.toString(),U=async x=>{if(x.preventDefault(),h.name.trim()){const G=await se(h.name,h.semesterId);G.success?(m({name:"",semesterId:"1",icon:"Book"}),u(!1),Be.success("Subject added successfully!")):Be.error(`Error adding subject: ${G.error}`)}},D=x=>{Be.error("Delete subject functionality would be implemented here")},Je=async x=>{try{await Lh(nr(Un,"users",x),{role:"admin"}),Be.success("User promoted to admin successfully!")}catch(G){console.error("Error promoting user:",G),Be.error("Error promoting user: "+G.message)}},le=async x=>{try{await Lh(nr(Un,"users",x),{role:"student"}),Be.success("User demoted to student successfully!")}catch(G){console.error("Error demoting user:",G),Be.error("Error demoting user: "+G.message)}};return E.jsxs("div",{className:"p-5 pt-8 max-w-4xl mx-auto bg-[#0a0a0a]/50 backdrop-blur-sm rounded-xl",children:[E.jsxs("div",{className:"mb-8 text-center",children:[E.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"Admin Dashboard"}),E.jsx("p",{className:"text-white/55 text-sm mt-2",children:"Manage all aspects of FYCS Study Hub"})]}),E.jsx("div",{className:"glass-card p-2 mb-8 overflow-x-auto",children:E.jsx("div",{className:"flex gap-2 min-w-max",children:j3.map(x=>{const G=s===x.id;return E.jsxs("button",{type:"button",onClick:()=>e(x.id),className:`flex items-center gap-2 px-4 py-3 rounded-full text-sm font-bold transition-all whitespace-nowrap ${G?"bg-[#FFD700] text-black shadow-lg":"bg-white/0 text-white/70 hover:bg-white/5 hover:text-white"}`,children:[x.icon,E.jsx("span",{children:x.label})]},x.id)})})}),E.jsxs("div",{className:"space-y-6",children:[s==="analytics"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[E.jsxs("div",{className:"glass-card p-5",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("div",{className:"text-white/50 text-xs uppercase tracking-wider font-bold",children:"Total Materials"}),E.jsx(na,{size:20,className:"text-white/70"})]}),E.jsx("div",{className:"text-2xl font-extrabold",children:j.totalMaterials})]}),E.jsxs("div",{className:"glass-card p-5",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("div",{className:"text-white/50 text-xs uppercase tracking-wider font-bold",children:"Total Views"}),E.jsx(o3,{size:20,className:"text-white/70"})]}),E.jsx("div",{className:"text-2xl font-extrabold",children:O(j.totalViews)})]}),E.jsxs("div",{className:"glass-card p-5",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("div",{className:"text-white/50 text-xs uppercase tracking-wider font-bold",children:"Total Downloads"}),E.jsx(i3,{size:20,className:"text-white/70"})]}),E.jsx("div",{className:"text-2xl font-extrabold",children:O(j.totalDownloads)})]}),E.jsxs("div",{className:"glass-card p-5 border border-amber-500/30 bg-amber-500/5",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("div",{className:"text-amber-400 text-xs uppercase tracking-wider font-bold",children:"Pending Requests"}),E.jsx(AE,{size:20,className:"text-amber-400"})]}),E.jsx("div",{className:"text-2xl font-extrabold text-amber-300",children:j.pendingRequests})]})]}),E.jsxs("div",{className:"glass-card p-6",children:[E.jsx("h3",{className:"font-bold text-lg mb-4 text-white/90",children:"Platform Overview"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-white/50 mb-1",children:"Semesters"}),E.jsx("div",{className:"font-bold",children:j.totalSemesters})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-white/50 mb-1",children:"Subjects"}),E.jsx("div",{className:"font-bold",children:j.totalSubjects})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-white/50 mb-1",children:"Registered Users"}),E.jsx("div",{className:"font-bold",children:(A||[]).length})]})]})]})]}),s==="materials"&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"glass-card p-4 mb-6",children:E.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[E.jsxs("button",{type:"button",onClick:()=>r("Pending"),className:`px-4 py-2 rounded-full text-sm font-bold transition-colors ${n==="Pending"?"bg-amber-500/20 text-amber-300 border border-amber-500/30":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:["Pending (",Te().length,")"]}),E.jsxs("button",{type:"button",onClick:()=>r("Approved"),className:`px-4 py-2 rounded-full text-sm font-bold transition-colors ${n==="Approved"?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:["Approved (",I().length,")"]})]})}),E.jsxs("div",{className:"space-y-4",children:[n==="Pending"?Te().map(x=>{const G=ve(x.semId),ae=Ae(x.subjectId);return E.jsx("div",{className:"glass-card p-5",children:E.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-1",children:E.jsx(AE,{className:"text-amber-400",size:18})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-white/90",children:x.title}),E.jsxs("div",{className:"text-sm text-white/50 mt-1",children:[G?.name,"  ",ae?.name,"  ",x.type]}),E.jsxs("div",{className:"text-xs text-white/40 mt-2",children:["Uploaded by ",x.uploadedBy,"  ",new Date(x.date).toLocaleDateString()]}),E.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-white/50",children:[E.jsxs("span",{children:[" ",x.views," views"]}),E.jsxs("span",{children:[" ",x.downloads," downloads"]})]})]})]})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{type:"button",onClick:()=>{K(x.id).success&&Be.success("Material approved successfully!")},className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-emerald-500/15 border border-emerald-500/25 text-emerald-200 font-bold hover:bg-emerald-500/20 transition-colors",children:[E.jsx(wE,{size:16}),"Approve"]}),E.jsxs("button",{type:"button",onClick:()=>{ie(x.id).success&&Be.success("Material rejected successfully!")},className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-rose-500/10 border border-rose-500/20 text-rose-200 font-bold hover:bg-rose-500/15 transition-colors",children:[E.jsx(ZD,{size:16}),"Reject"]})]})]})},x.id)}):I().map(x=>{const G=ve(x.semId),ae=Ae(x.subjectId);return E.jsx("div",{className:"glass-card p-5",children:E.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-1",children:E.jsx(wE,{className:"text-emerald-400",size:18})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-white/90",children:x.title}),E.jsxs("div",{className:"text-sm text-white/50 mt-1",children:[G?.name,"  ",ae?.name,"  ",x.type]}),E.jsxs("div",{className:"text-xs text-white/40 mt-2",children:["Uploaded by ",x.uploadedBy,"  ",new Date(x.date).toLocaleDateString()]}),E.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-white/50",children:[E.jsxs("span",{children:[" ",x.views," views"]}),E.jsxs("span",{children:[" ",x.downloads," downloads"]})]})]})]})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("a",{href:x.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-500/15 border border-blue-500/25 text-blue-200 font-bold hover:bg-blue-500/20 transition-colors",children:[E.jsx(ST,{size:16}),"View"]}),E.jsxs("button",{type:"button",onClick:()=>{ne(x.id).success&&Be.success("Material deleted successfully!")},className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-rose-500/10 border border-rose-500/20 text-rose-200 font-bold hover:bg-rose-500/15 transition-colors",children:[E.jsx(Vm,{size:16}),"Delete"]})]})]})},x.id)}),T.filter(x=>x.status===n).length===0&&E.jsxs("div",{className:"glass-card p-12 text-center",children:[E.jsxs("div",{className:"text-white/50 mb-2",children:["No ",n.toLowerCase()," materials found"]}),E.jsx("div",{className:"text-sm text-white/40",children:n==="Pending"?"All materials are approved!":"No approved materials yet."})]})]})]}),s==="subjects"&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"mb-6",children:E.jsxs("button",{type:"button",onClick:()=>u(!o),className:"w-full glass-card border-2 border-dashed border-white/20 p-8 flex flex-col items-center justify-center gap-3 rounded-2xl hover:bg-white/5 transition-colors",children:[E.jsx(T3,{size:24,className:"text-white/50"}),E.jsx("span",{className:"font-bold text-white/70",children:"Add New Subject"}),E.jsxs("span",{className:"text-sm text-white/40 text-center",children:["Click to ",o?"cancel":"open"," the form"]})]})}),o&&E.jsxs("div",{className:"glass-card p-6 mb-6",children:[E.jsx("h3",{className:"font-bold text-lg mb-4 text-white/90",children:"Add Subject"}),E.jsxs("form",{onSubmit:U,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-white/50 text-sm mb-2",children:"Subject Name"}),E.jsx("input",{type:"text",value:h.name,onChange:x=>m(G=>({...G,name:x.target.value})),className:"w-full glass-card p-3 rounded-xl border border-white/10 bg-white/5 text-white placeholder:text-white/30 focus:border-[#FFD700] focus:outline-none",placeholder:"Enter subject name",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-white/50 text-sm mb-2",children:"Semester"}),E.jsx("select",{value:h.semesterId,onChange:x=>m(G=>({...G,semesterId:x.target.value})),className:"w-full glass-card p-3 rounded-xl border border-white/10 bg-white/5 text-white focus:border-[#FFD700] focus:outline-none",children:p.map(x=>E.jsx("option",{value:x.id,className:"bg-[#0a0a0a]",children:x.name},x.id))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-white/50 text-sm mb-2",children:"Icon"}),E.jsxs("select",{value:h.icon,onChange:x=>m(G=>({...G,icon:x.target.value})),className:"w-full glass-card p-3 rounded-xl border border-white/10 bg-white/5 text-white focus:border-[#FFD700] focus:outline-none",children:[E.jsx("option",{value:"Book",className:"bg-[#0a0a0a]",children:" Book"}),E.jsx("option",{value:"Code",className:"bg-[#0a0a0a]",children:" Code"}),E.jsx("option",{value:"Sigma",className:"bg-[#0a0a0a]",children:" Sigma"}),E.jsx("option",{value:"Cpu",className:"bg-[#0a0a0a]",children:" CPU"}),E.jsx("option",{value:"Wrench",className:"bg-[#0a0a0a]",children:" Wrench"}),E.jsx("option",{value:"Brackets",className:"bg-[#0a0a0a]",children:"[ ] Brackets"}),E.jsx("option",{value:"Database",className:"bg-[#0a0a0a]",children:" Database"}),E.jsx("option",{value:"Boxes",className:"bg-[#0a0a0a]",children:" Boxes"}),E.jsx("option",{value:"Monitor",className:"bg-[#0a0a0a]",children:" Monitor"}),E.jsx("option",{value:"Network",className:"bg-[#0a0a0a]",children:" Network"}),E.jsx("option",{value:"Coffee",className:"bg-[#0a0a0a]",children:" Coffee"}),E.jsx("option",{value:"Globe",className:"bg-[#0a0a0a]",children:" Globe"}),E.jsx("option",{value:"Bot",className:"bg-[#0a0a0a]",children:" Bot"}),E.jsx("option",{value:"Image",className:"bg-[#0a0a0a]",children:" Image"})]})]}),E.jsxs("div",{className:"flex gap-3 pt-2",children:[E.jsx("button",{type:"submit",className:"flex-1 btn-primary py-3",children:"Add Subject"}),E.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 glass-card py-3 text-center font-bold rounded-xl border border-white/10 text-white/70 hover:bg-white/5 transition-colors",children:"Cancel"})]})]})]}),E.jsxs("div",{className:"space-y-6",children:[(p||[]).map(x=>{const G=R?.(x.id)||[];return G.length===0?null:E.jsxs("div",{className:"glass-card p-5",children:[E.jsx("h3",{className:"font-bold text-lg mb-4 text-white/90 border-b border-white/10 pb-2",children:x.name}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(G||[]).map(ae=>E.jsxs("div",{className:"glass-card p-4 flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-semibold",children:ae.name}),E.jsxs("div",{className:"text-xs text-white/50 mt-1",children:["Icon: ",ae.icon]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{type:"button",className:"p-2 rounded-lg bg-blue-500/10 text-blue-300 hover:bg-blue-500/20 transition-colors",title:"Edit subject",children:E.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[E.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),E.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),E.jsx("button",{type:"button",onClick:()=>D(ae.id),className:"p-2 rounded-lg bg-rose-500/10 text-rose-300 hover:bg-rose-500/20 transition-colors",title:"Delete subject",children:E.jsx(Vm,{size:16})})]})]},ae.id))})]},x.id)}),(!p||p.length===0)&&E.jsxs("div",{className:"glass-card p-8 text-center",children:[E.jsx(Ph,{size:32,className:"mx-auto mb-3 text-white/30"}),E.jsx("div",{className:"font-semibold text-white mb-1",children:"No semesters found"}),E.jsx("div",{className:"text-sm text-white/40",children:"Add semesters to manage subjects"})]})]})]}),s==="users"&&E.jsxs("div",{className:"glass-card overflow-hidden",children:[E.jsxs("div",{className:"p-5 border-b border-white/10",children:[E.jsx("h3",{className:"font-bold text-lg text-white/90",children:"User Management"}),E.jsx("p",{className:"text-sm text-white/50 mt-1",children:"Manage registered users and their roles"})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-white/10",children:[E.jsx("th",{className:"text-left p-4 text-white/50 text-sm font-bold uppercase tracking-wider",children:"Name"}),E.jsx("th",{className:"text-left p-4 text-white/50 text-sm font-bold uppercase tracking-wider",children:"Email"}),E.jsx("th",{className:"text-left p-4 text-white/50 text-sm font-bold uppercase tracking-wider",children:"Role"}),E.jsx("th",{className:"text-left p-4 text-white/50 text-sm font-bold uppercase tracking-wider",children:"Actions"})]})}),E.jsxs("tbody",{children:[(A||[]).map(x=>E.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/2",children:[E.jsx("td",{className:"p-4 font-medium",children:x.displayName||x.name}),E.jsx("td",{className:"p-4 text-white/70",children:x.email}),E.jsx("td",{className:"p-4",children:E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${x.role==="admin"?"bg-purple-500/20 text-purple-300":"bg-blue-500/20 text-blue-300"}`,children:x.role})}),E.jsx("td",{className:"p-4",children:E.jsxs("div",{className:"flex gap-2",children:[x.role==="student"?E.jsx("button",{type:"button",onClick:()=>Je(x.id),className:"px-3 py-1 rounded-lg bg-purple-500/15 text-purple-300 text-sm font-bold hover:bg-purple-500/25 transition-colors",children:"Promote to Admin"}):E.jsx("button",{type:"button",onClick:()=>le(x.id),className:"px-3 py-1 rounded-lg bg-amber-500/15 text-amber-300 text-sm font-bold hover:bg-amber-500/25 transition-colors",children:"Demote to Student"}),E.jsx("button",{type:"button",onClick:()=>Be.error("Ban user functionality would be implemented here"),className:"px-3 py-1 rounded-lg bg-rose-500/15 text-rose-300 text-sm font-bold hover:bg-rose-500/25 transition-colors",children:"Ban User"})]})})]},x.id)),(!A||A.length===0)&&E.jsx("tr",{children:E.jsx("td",{colSpan:"4",className:"p-8 text-center text-white/50",children:"No users found"})})]})]})})]}),s==="settings"&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"glass-card p-6",children:[E.jsx("h3",{className:"font-bold text-lg mb-4 text-white/90",children:"System Information"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[E.jsx("span",{className:"text-white/50",children:"Platform Version"}),E.jsx("span",{className:"font-mono font-bold",children:"1.0.0"})]}),E.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[E.jsx("span",{className:"text-white/50",children:"Total Materials"}),E.jsx("span",{className:"font-bold",children:(T||[]).length})]}),E.jsxs("div",{className:"flex justify-between items-center py-2",children:[E.jsx("span",{className:"text-white/50",children:"Registered Users"}),E.jsx("span",{className:"font-bold",children:(A||[]).length})]})]})]}),E.jsxs("div",{className:"glass-card p-6 border border-rose-500/20 bg-rose-500/5",children:[E.jsx("h3",{className:"font-bold text-lg mb-2 text-rose-300",children:"Danger Zone"}),E.jsx("p",{className:"text-white/50 text-sm mb-4",children:"These actions cannot be undone. Proceed with caution."}),E.jsxs("button",{type:"button",onClick:()=>{window.confirm("Are you sure you want to reset all analytics? This cannot be undone.")&&Be.error("Reset analytics functionality would be implemented here")},className:"btn-danger px-6 py-3 font-bold flex items-center gap-2",children:[E.jsx(Vm,{size:18}),"Reset All Analytics"]}),E.jsx("p",{className:"text-xs text-white/40 mt-2",children:"This will reset all views and downloads to zero"})]})]})]})]})}const L3="/fycs-study-hub/assets/image-sovd3ng2.png",P3=()=>{const s=ua(),{semesters:e,subjects:n,getRecentMaterials:r,getSubjectById:o,getSemesterById:u,isAdmin:h}=Pi(),m=e.map(p=>({id:p.id,title:p.name,subjects:n.filter(b=>Number(b.semId)===Number(p.id)).length})),g=r(5);return E.jsxs("div",{className:"p-5 pt-10 max-w-md mx-auto",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("img",{src:L3,alt:"FYCS Study Hub Logo",className:"w-16 h-16 object-contain mx-auto mb-4"}),E.jsx("h1",{className:"text-3xl font-bold mb-1",children:"FYCS Study Hub"}),E.jsx("p",{className:"text-gray-400 text-xs",children:"Your central hub for first year computer science"})]}),E.jsxs("div",{className:"flex items-center gap-2 mb-4 text-white/50 uppercase text-[10px] tracking-widest font-bold",children:[E.jsx(FD,{size:14}),E.jsx("span",{children:"Quick Section"})]}),E.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:m.map(p=>E.jsxs("button",{type:"button",onClick:()=>s(`/semester/${p.id}`),className:"glass-card p-4 text-left transition-colors hover:bg-white/5",children:[E.jsx("div",{className:"bg-white/5 border border-white/10 w-9 h-9 rounded-xl flex items-center justify-center mb-3",children:E.jsx(c3,{size:18,className:"text-white/90"})}),E.jsx("h3",{className:"font-bold text-sm mb-1",children:p.title}),E.jsxs("p",{className:"text-[10px] text-white/50",children:[p.subjects," subjects available"]})]},p.id))}),E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("div",{className:"flex items-center gap-2 text-white/50 uppercase text-[10px] tracking-widest font-bold",children:[E.jsx(m3,{size:14}),E.jsx("span",{children:"Materials"})]}),E.jsx("button",{type:"button",className:"text-[11px] font-semibold text-[#FFD700] hover:opacity-90 transition-opacity",onClick:()=>s("/admin"),children:"Explore"})]}),E.jsx("div",{className:"space-y-4",children:g.length>0?g.map(p=>{const b=o(p.subjectId),T=u(p.semId);return E.jsxs("div",{className:"glass-card p-4",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center",children:E.jsx(na,{size:18,className:"text-white/85"})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"font-semibold text-sm truncate",children:p.title}),E.jsxs("div",{className:"text-[11px] text-white/55 mt-1 truncate",children:[T?.name,"  ",b?.name,"  ",p.type]})]})]}),E.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[E.jsx("button",{type:"button",className:"btn-primary flex-1 py-2 text-sm rounded-xl",onClick:()=>s(`/semester/${p.semId}/${p.subjectId}`),children:"View"}),E.jsx("div",{className:"text-[11px] text-white/55 text-right min-w-[84px]",children:E.jsxs("div",{children:[" ",p.views]})})]})]},p.id)}):E.jsxs("div",{className:"glass-card p-8 text-center",children:[E.jsx("div",{className:"text-white/50 mb-2",children:"No materials found"}),E.jsx("div",{className:"text-sm text-white/40",children:"Be the first to upload!"}),h&&E.jsx("button",{type:"button",className:"btn-primary mt-4 px-6 py-2 text-sm",onClick:()=>s("/upload"),children:"Upload Material"})]})})]})};function U3(){const{materials:s,subjects:e,semesters:n,getSubjectById:r,getSemesterById:o}=Pi(),[u,h]=L.useState(""),[m,g]=L.useState(""),[p,b]=L.useState(""),T=L.useMemo(()=>{const C=new Set;return s.forEach(Q=>{Q.type&&C.add(Q.type)}),Array.from(C).sort()},[s]),A=L.useMemo(()=>s.filter(C=>{const Q=!u||C.title.toLowerCase().includes(u.toLowerCase())||r(C.subjectId)?.name.toLowerCase().includes(u.toLowerCase()),$=!m||C.semId===m||m==="all",K=!p||C.type.toLowerCase()===p.toLowerCase()||p==="all",ie=C.status==="Approved";return Q&&$&&K&&ie}),[s,u,m,p,r]);return E.jsxs("div",{className:"p-5 pt-8 max-w-4xl mx-auto",children:[E.jsxs("div",{className:"mb-4 text-center",children:[E.jsx("h1",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"Study Library"}),E.jsx("p",{className:"text-white/55 text-xs mt-1",children:"Browse all notes, videos, and PYQs"})]}),E.jsx("div",{className:"glass-card p-4 mb-4",children:E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(w3,{size:16,className:"text-white/50"})}),E.jsx("input",{type:"text",value:u,onChange:C=>h(C.target.value),placeholder:"Search materials...",className:"w-full glass-card pl-10 pr-4 py-2 rounded-xl border border-white/10 bg-white/5 text-white placeholder:text-white/30 focus:border-[#FFD700] focus:outline-none"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[E.jsxs("select",{value:m,onChange:C=>g(C.target.value),className:"glass-card px-3 py-2 rounded-xl border border-white/10 bg-white/5 text-white focus:border-[#FFD700] focus:outline-none text-sm",children:[E.jsx("option",{value:"all",className:"bg-[#0a0a0a]",children:"All Sem"}),n.map(C=>E.jsx("option",{value:C.id,className:"bg-[#0a0a0a]",children:C.name.replace("Semester ","Sem ")},C.id))]}),E.jsxs("select",{value:p,onChange:C=>b(C.target.value),className:"glass-card px-3 py-2 rounded-xl border border-white/10 bg-white/5 text-white focus:border-[#FFD700] focus:outline-none text-sm",children:[E.jsx("option",{value:"all",className:"bg-[#0a0a0a]",children:"All Types"}),T.map(C=>E.jsx("option",{value:C,className:"bg-[#0a0a0a]",children:C},C))]})]})]})}),E.jsx("div",{className:"mb-2 flex items-center justify-between",children:E.jsxs("p",{className:"text-white/70 text-xs",children:["Showing ",E.jsx("span",{className:"font-bold text-[#FFD700]",children:A.length})," of ",s.filter(C=>C.status==="Approved").length," approved materials"]})}),E.jsx("div",{className:"space-y-4",children:A.length>0?A.map(C=>{const Q=r(C.subjectId),$=o(C.semId);return E.jsx("div",{className:"glass-card p-5",children:E.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-1",children:E.jsx(na,{size:20,className:"text-white/85"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-white/90 text-lg",children:C.title}),E.jsxs("div",{className:"text-sm text-white/60 mt-1",children:[$?.name,"  ",Q?.name,"  ",C.type]}),E.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-white/50",children:[E.jsxs("span",{children:[" ",C.views," views"]}),E.jsxs("span",{children:[" ",C.downloads||0," downloads"]})]})]})]})}),E.jsx("div",{className:"flex gap-2",children:E.jsxs("a",{href:C.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-500/15 border border-blue-500/25 text-blue-200 font-bold hover:bg-blue-500/20 transition-colors",children:[E.jsx(na,{size:16}),"View"]})})]})},C.id)}):E.jsxs("div",{className:"glass-card p-12 text-center",children:[E.jsx(na,{size:32,className:"mx-auto mb-4 text-white/30"}),E.jsx("div",{className:"font-semibold text-white mb-2",children:"No materials found"}),E.jsx("div",{className:"text-sm text-white/40",children:"Try adjusting your search or filter criteria"})]})})]})}function z3(){const{login:s}=Pi(),e=async()=>{try{await s()}catch(n){console.error("Login error:",n)}};return E.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:E.jsx("div",{className:"max-w-md w-full",children:E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"flex justify-center mb-6",children:E.jsx("div",{className:"w-24 h-24 rounded-xl bg-white/10 border-2 border-white/20 flex items-center justify-center",children:E.jsx("svg",{className:"w-12 h-12 text-white/80",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M21.35 11.1h-9.17v2.73h6.51c-.33 1.76-1.77 3.12-3.77 3.12-2.29 0-4.14-1.86-4.14-4.15s1.85-4.15 4.14-4.15c1.11 0 2.08.41 2.81 1.19l2.06-2.06c-1.27-1.19-2.88-1.92-4.87-1.92-4.02 0-7.29 3.27-7.29 7.29s3.27 7.29 7.29 7.29c3.68 0 6.74-2.69 6.74-7.29 0-.58-.1-1.14-.2-1.67z"})})})}),E.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Welcome to FYCS Study Hub"}),E.jsx("p",{className:"text-white/60 mb-8",children:"Your central hub for notes, PYQs, and assignments."}),E.jsxs("button",{type:"button",onClick:e,className:"w-full py-4 rounded-xl bg-white/10 text-white font-bold flex items-center justify-center gap-3 hover:bg-white/20 border border-white/20 transition-colors",children:[E.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M21.35 11.1h-9.17v2.73h6.51c-.33 1.76-1.77 3.12-3.77 3.12-2.29 0-4.14-1.86-4.14-4.15s1.85-4.15 4.14-4.15c1.11 0 2.08.41 2.81 1.19l2.06-2.06c-1.27-1.19-2.88-1.92-4.87-1.92-4.02 0-7.29 3.27-7.29 7.29s3.27 7.29 7.29 7.29c3.68 0 6.74-2.69 6.74-7.29 0-.58-.1-1.14-.2-1.67z"})}),"Sign in with Google"]})]})})})}function B3(){const s=ua(),{semId:e,subjectId:n}=kE(),{getSemesterById:r,getSubjectById:o,getMaterialsBySubject:u,incrementView:h}=Pi(),m=r(e),g=o(n),[p,b]=L.useState("Notes"),A=L.useMemo(()=>u(n),[u,n]).filter(C=>C.type===p);return!m||!g?E.jsx("div",{className:"p-5 pt-8 max-w-md mx-auto",children:E.jsxs("div",{className:"glass-card p-4",children:[E.jsx("div",{className:"font-semibold",children:"Subject not found"}),E.jsx("div",{className:"text-[11px] text-white/55 mt-1",children:"Please go back and choose a valid subject."}),E.jsx("button",{type:"button",className:"btn-primary w-full mt-4",onClick:()=>s(`/semester/${e}`),children:"Back to Subjects"})]})}):E.jsxs("div",{className:"p-5 pt-6 max-w-md mx-auto",children:[E.jsxs("div",{className:"flex items-center justify-between mb-5",children:[E.jsx(lu,{to:`/semester/${m.id}`,className:"glass-card h-10 w-10 flex items-center justify-center hover:bg-white/10 transition-colors","aria-label":"Back",title:"Back",children:E.jsx($D,{size:18,className:"text-white/80"})}),E.jsxs("div",{className:"text-center min-w-0 px-2",children:[E.jsx("div",{className:"text-[11px] text-white/55 truncate",children:m.name}),E.jsx("div",{className:"font-bold truncate",children:g.name})]}),E.jsx("div",{className:"w-10"})]}),E.jsx("div",{className:"glass-card p-2 mb-4 rounded-full",children:E.jsx("div",{className:"flex gap-2",children:["Notes","PYQ"].map(C=>{const Q=p===C;return E.jsx("button",{type:"button",onClick:()=>b(C),className:["flex-1 rounded-full py-2 text-[11px] font-extrabold transition-colors",Q?"bg-[#FFD700] text-black":"text-white/70 hover:bg-white/5"].join(" "),children:C==="PYQ"?"PYQs":"Notes"},C)})})}),E.jsxs("div",{className:"space-y-3",children:[A.map(C=>E.jsxs("div",{className:"glass-card p-4",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center",children:E.jsx(na,{size:18,className:"text-white/85"})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"flex items-center justify-between gap-2",children:E.jsx("div",{className:"font-semibold text-sm truncate",children:C.title})}),E.jsxs("div",{className:"text-[11px] text-white/55 mt-1 truncate",children:[m.name,"  ",g.name,"  ",C.type]})]})]}),E.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[E.jsxs("button",{type:"button",onClick:()=>{h(C.id),window.open(C.link,"_blank","noopener,noreferrer")},className:"btn-primary flex-1 py-2 text-sm rounded-xl flex items-center justify-center gap-2",children:["View ",E.jsx(r3,{size:16})]}),E.jsxs("div",{className:"text-[11px] text-white/55 text-right min-w-[84px]",children:[E.jsxs("div",{children:[" ",C.views]}),"downloads"in C?E.jsxs("div",{children:[" ",C.downloads]}):null]})]})]},C.id)),A.length?null:E.jsxs("div",{className:"glass-card p-4 text-center text-white/60 text-sm",children:["No ",p==="PYQ"?"PYQs":"Notes"," found for this subject."]})]})]})}function H3(){const{user:s,login:e,logout:n}=Pi(),r=o=>o?o.charAt(0).toUpperCase():"U";return s?E.jsxs("div",{className:"p-5 pt-8 max-w-md mx-auto",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Profile"}),E.jsx("p",{className:"text-white/55 text-xs mt-1",children:"Your FYCS Study Hub account."})]}),E.jsxs("div",{className:"glass-card p-6",children:[E.jsx("div",{className:"flex justify-center mb-6",children:s.photoURL?E.jsx("img",{src:s.photoURL,alt:s.displayName,className:"w-24 h-24 rounded-full border-2 border-white/20 object-cover"}):E.jsx("div",{className:"w-24 h-24 rounded-full bg-white/10 border-2 border-white/20 flex items-center justify-center",children:E.jsx("span",{className:"text-4xl font-bold text-white/80",children:r(s.displayName)})})}),E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("h1",{className:"text-2xl font-bold mb-2",children:s.displayName||"User"}),E.jsx("p",{className:"text-white/60 mb-4",children:s.email})]}),E.jsx("button",{type:"button",onClick:async()=>{try{await n()}catch(o){console.error("Logout error:",o)}},className:"w-full py-3 bg-red-500/20 text-red-400 border border-red-500/50 rounded-xl font-medium hover:bg-red-500/30 transition-colors",children:E.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E.jsx(E3,{size:18}),"Sign Out"]})})]})]}):E.jsx("div",{className:"p-5 pt-8 max-w-md mx-auto",children:E.jsxs("div",{className:"glass-card p-8 text-center",children:[E.jsx(cg,{size:48,className:"mx-auto mb-4 text-white/30"}),E.jsx("div",{className:"font-bold text-lg mb-2",children:"Please Login"}),E.jsx("div",{className:"text-white/55 text-sm mb-6",children:"You need to be logged in to view your profile."}),E.jsxs("button",{type:"button",onClick:async()=>{try{await e()}catch(o){console.error("Login error:",o)}},className:"w-full py-3 rounded-xl bg-white/10 text-white font-bold flex items-center justify-center gap-2 hover:bg-white/20 border border-white/20 transition-colors",children:[E.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M21.35 11.1h-9.17v2.73h6.51c-.33 1.76-1.77 3.12-3.77 3.12-2.29 0-4.14-1.86-4.14-4.15s1.85-4.15 4.14-4.15c1.11 0 2.08.41 2.81 1.19l2.06-2.06c-1.27-1.19-2.88-1.92-4.87-1.92-4.02 0-7.29 3.27-7.29 7.29s3.27 7.29 7.29 7.29c3.68 0 6.74-2.69 6.74-7.29 0-.58-.1-1.14-.2-1.67z"})}),"Sign in with Google"]})]})})}function q3(){const s=ua(),{semId:e}=kE(),{subjects:n,getSemesterById:r,getSubjectsBySemester:o,getMaterialsBySubject:u}=Pi();if(!n)return E.jsx("div",{className:"p-5 pt-8 max-w-md mx-auto",children:E.jsxs("div",{className:"glass-card p-6 text-center",children:[E.jsx("div",{className:"font-semibold text-white",children:"Loading subjects..."}),E.jsx("div",{className:"text-sm text-white/50 mt-2",children:"Please wait"})]})});const h=r(e);if(!h)return E.jsx("div",{className:"p-5 pt-8 max-w-md mx-auto",children:E.jsxs("div",{className:"glass-card p-6",children:[E.jsx("div",{className:"font-semibold text-white mb-2",children:"Semester not found"}),E.jsx("div",{className:"text-sm text-white/50 mb-4",children:"Please go back and choose a valid semester."}),E.jsx("button",{type:"button",className:"btn-primary w-full",onClick:()=>s("/"),children:"Go Home"})]})});const m=o(e)||[];return E.jsxs("div",{className:"p-5 pt-6 max-w-md mx-auto",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsx("button",{type:"button",onClick:()=>s("/"),className:"glass-card h-10 w-10 flex items-center justify-center hover:bg-white/10 transition-colors","aria-label":"Back to Home",title:"Back to Home",children:E.jsx(HD,{size:18,className:"text-white/80"})}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-xs text-white/55 uppercase tracking-wider font-bold",children:"Subjects"}),E.jsx("div",{className:"font-bold text-lg",children:h.name})]}),E.jsx("div",{className:"w-10"})," "]}),E.jsxs("div",{className:"flex items-center gap-2 mb-4 text-white/50 uppercase text-xs tracking-widest font-bold",children:[E.jsx(Ph,{size:14}),E.jsx("span",{children:"Subject List"})]}),E.jsx("div",{className:"space-y-3",children:m&&m.length>0?m.map(g=>{const p=u(g.id)?.length||0;return E.jsxs(lu,{to:`/semester/${e}/${g.id}`,className:"glass-card w-full p-4 flex items-center gap-3 transition-all hover:bg-white/5 hover:scale-[1.02] active:scale-[0.98]",children:[E.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center font-extrabold text-xs text-white/85",children:g.name.split(" ").slice(0,2).map(b=>b[0]?.toUpperCase()||"").join("")}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"font-semibold text-sm truncate text-white",children:g.name}),E.jsxs("div",{className:"text-xs text-white/55 truncate",children:[p," approved material",p!==1?"s":""]})]}),E.jsx("div",{className:"text-white/40",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("path",{d:"m9 18 6-6-6-6"})})})]},g.id)}):E.jsxs("div",{className:"glass-card p-8 text-center",children:[E.jsx("div",{className:"text-white/50 mb-2",children:E.jsx(Ph,{size:32,className:"mx-auto mb-3 opacity-50"})}),E.jsx("div",{className:"font-semibold text-white mb-1",children:"No subjects found"}),E.jsxs("div",{className:"text-sm text-white/40",children:["No subjects are available for ",h.name," yet."]})]})})]})}function F3(){const s=ua(),{semesters:e,subjects:n,addMaterial:r,isAdmin:o}=Pi();if(L.useEffect(()=>{o===!1&&s("/")},[o,s]),o===!1)return null;const u=L.useMemo(()=>["Notes","PYQs","Practicals","Assignments"],[]),[h,m]=L.useState({title:"",semester:"",type:"Notes",subject:"",driveLink:"",uploadedBy:"Student"}),g=L.useMemo(()=>n.filter(A=>Number(A.semId)===Number(h.semester)),[n,h.semester]),p=h.title&&h.semester&&h.subject&&h.driveLink;function b(A){return C=>m(Q=>({...Q,[A]:C.target.value}))}async function T(A){if(A.preventDefault(),!h.title||!h.subject||!h.driveLink){Be.error("Please fill in all required fields");return}try{const C=await r({title:h.title,semId:h.semester,subjectId:h.subject,type:h.type,link:h.driveLink,uploadedBy:h.uploadedBy});if(C.success)m({title:"",semester:"",type:"Notes",subject:"",driveLink:"",uploadedBy:"Student"}),Be.success("Material submitted successfully! Pending approval.");else{const Q=C.error||"An unknown error occurred during submission";Be.error("Error submitting material: "+Q)}}catch(C){console.error("Upload Error Details:",C);const Q=C?.message||C?.toString()||"An unknown error occurred";Be.error("Error submitting material: "+Q)}}return E.jsxs("div",{className:"p-5 pt-8 max-w-md mx-auto",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Upload"}),E.jsx("p",{className:"text-white/55 text-xs mt-1",children:"Share notes, PYQs, assignments, and more."})]}),E.jsxs("form",{className:"glass-card p-4",onSubmit:T,children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("div",{className:"text-white/50 uppercase text-[10px] tracking-widest font-bold",children:"Publish Material"}),E.jsx("div",{className:"text-[12px] text-white/70 mt-2",children:"Fill in the details exactly so students can find it easily."})]}),E.jsxs("label",{className:"block mb-4",children:[E.jsx("div",{className:"text-[11px] font-bold text-white/70 mb-2",children:"Title"}),E.jsx("input",{value:h.title,onChange:b("title"),placeholder:"e.g., Unit 1 Notes",className:"w-full glass-card px-4 py-3 text-sm outline-hidden placeholder:text-white/35",required:!0})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("label",{className:"block mb-4",children:[E.jsx("div",{className:"text-[11px] font-bold text-white/70 mb-2",children:"Semester *"}),E.jsxs("select",{value:h.semester,onChange:b("semester"),className:"w-full glass-card px-4 py-3 text-sm outline-hidden",required:!0,children:[E.jsx("option",{value:"",className:"bg-[#0a0a0a]",children:"Select Semester"}),e.map(A=>E.jsx("option",{value:A.id,className:"bg-[#0a0a0a]",children:A.name},A.id))]})]}),E.jsxs("label",{className:"block mb-4",children:[E.jsx("div",{className:"text-[11px] font-bold text-white/70 mb-2",children:"Type *"}),E.jsx("select",{value:h.type,onChange:b("type"),className:"w-full glass-card px-4 py-3 text-sm outline-hidden",required:!0,children:u.map(A=>E.jsx("option",{value:A,className:"bg-[#0a0a0a]",children:A},A))})]})]}),E.jsxs("label",{className:"block mb-4",children:[E.jsx("div",{className:"text-[11px] font-bold text-white/70 mb-2",children:"Subject *"}),E.jsxs("select",{value:h.subject,onChange:b("subject"),className:`w-full glass-card px-4 py-3 text-sm outline-hidden ${h.semester?"":"opacity-50"}`,required:!0,disabled:!h.semester,children:[E.jsx("option",{value:"",className:"bg-[#0a0a0a]",children:h.semester?"Select subject...":"Select semester first"}),g.map(A=>E.jsxs("option",{value:A.id,className:"bg-[#0a0a0a]",children:[A.name," (Sem ",A.semId,")"]},A.id))]}),!h.semester&&E.jsx("div",{className:"text-[10px] text-amber-400 mt-1",children:"Please select a semester first"})]}),E.jsxs("label",{className:"block mb-4",children:[E.jsx("div",{className:"text-[11px] font-bold text-white/70 mb-2",children:"Google Drive Link *"}),E.jsxs("div",{className:"glass-card px-4 py-3 flex items-center gap-3",children:[E.jsx(v3,{size:18,className:"text-white/55"}),E.jsx("input",{value:h.driveLink,onChange:b("driveLink"),placeholder:"https://drive.google.com/...",className:"w-full bg-transparent text-sm outline-hidden placeholder:text-white/35",required:!0})]})]}),E.jsxs("label",{className:"block mb-5",children:[E.jsx("div",{className:"text-[11px] font-bold text-white/70 mb-2",children:"Your Name"}),E.jsxs("div",{className:"glass-card px-4 py-3 flex items-center gap-3",children:[E.jsx(I3,{size:18,className:"text-white/55"}),E.jsx("input",{value:h.uploadedBy,onChange:b("uploadedBy"),placeholder:"Enter your name",className:"w-full bg-transparent text-sm outline-hidden placeholder:text-white/35"})]})]}),E.jsxs("button",{type:"submit",className:`w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all ${p?"btn-primary":"bg-white/10 text-white/30 cursor-not-allowed"}`,disabled:!p,children:[p?"Publish Material":"Fill all required fields",E.jsx(t3,{size:18})]})]})]})}function G3(){const{user:s,loading:e}=Pi();return e?E.jsx("div",{className:"h-screen bg-black text-white flex items-center justify-center",children:E.jsx("div",{children:"Loading..."})}):s?E.jsxs(E.Fragment,{children:[E.jsx(Cx,{position:"top-center",reverseOrder:!1,toastOptions:{style:{borderRadius:"8px",background:"#333",color:"#fff"},success:{iconTheme:{primary:"#FACC15",secondary:"black"}}}}),E.jsx(DA,{children:E.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white pb-24",children:[E.jsxs(oA,{children:[E.jsx(rs,{path:"/",element:E.jsx(P3,{})}),E.jsx(rs,{path:"/semester/:semId",element:E.jsx(q3,{})}),E.jsx(rs,{path:"/semester/:semId/:subjectId",element:E.jsx(B3,{})}),E.jsx(rs,{path:"/library",element:E.jsx(U3,{})}),E.jsx(rs,{path:"/upload",element:E.jsx(F3,{})}),E.jsx(rs,{path:"/admin",element:E.jsx(k3,{})}),E.jsx(rs,{path:"/profile",element:E.jsx(H3,{})}),E.jsx(rs,{path:"*",element:E.jsx(rA,{to:"/",replace:!0})})]}),E.jsx(V3,{})]})})]}):E.jsx(z3,{})}uw.createRoot(document.getElementById("root")).render(E.jsx(L.StrictMode,{children:E.jsx(jD,{children:E.jsx(G3,{})})}));
